var mM=Object.create;var $f=Object.defineProperty,yM=Object.defineProperties,vM=Object.getOwnPropertyDescriptor,_M=Object.getOwnPropertyDescriptors,IM=Object.getOwnPropertyNames,QE=Object.getOwnPropertySymbols,ZE=Object.getPrototypeOf,JE=Object.prototype.hasOwnProperty,EM=Object.prototype.propertyIsEnumerable,wM=Reflect.get;var YE=(t,e,n)=>e in t?$f(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F=(t,e)=>{for(var n in e||={})JE.call(e,n)&&YE(t,n,e[n]);if(QE)for(var n of QE(e))EM.call(e,n)&&YE(t,n,e[n]);return t},ve=(t,e)=>yM(t,_M(e));var V4=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var TM=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of IM(e))!JE.call(t,i)&&i!==n&&$f(t,i,{get:()=>e[i],enumerable:!(r=vM(e,i))||r.enumerable});return t};var j4=(t,e,n)=>(n=t!=null?mM(ZE(t)):{},TM(e||!t||!t.__esModule?$f(n,"default",{value:t,enumerable:!0}):n,t));var Ir=(t,e,n)=>wM(ZE(t),n,e);var _=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});function Wf(t,e){return Object.is(t,e)}var Be=null,du=!1,Gf=1,Yt=Symbol("SIGNAL");function te(t){let e=Be;return Be=t,e}function Kf(){return Be}var Xs={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ea(t){if(du)throw new Error("");if(Be===null)return;Be.consumerOnSignalRead(t);let e=Be.nextProducerIndex++;if(gu(Be),e<Be.producerNode.length&&Be.producerNode[e]!==t&&Js(Be)){let n=Be.producerNode[e];pu(n,Be.producerIndexOfThis[e])}Be.producerNode[e]!==t&&(Be.producerNode[e]=t,Be.producerIndexOfThis[e]=Js(Be)?ew(t,Be,e):0),Be.producerLastReadVersion[e]=t.version}function XE(){Gf++}function Qf(t){if(!(Js(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Gf)){if(!t.producerMustRecompute(t)&&!Xf(t)){qf(t);return}t.producerRecomputeValue(t),qf(t)}}function Yf(t){if(t.liveConsumerNode===void 0)return;let e=du;du=!0;try{for(let n of t.liveConsumerNode)n.dirty||DM(n)}finally{du=e}}function Zf(){return Be?.consumerAllowSignalWrites!==!1}function DM(t){t.dirty=!0,Yf(t),t.consumerMarkedDirty?.(t)}function qf(t){t.dirty=!1,t.lastCleanEpoch=Gf}function fu(t){return t&&(t.nextProducerIndex=0),te(t)}function Jf(t,e){if(te(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Js(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)pu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Xf(t){gu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Qf(n),r!==n.version))return!0}return!1}function ep(t){if(gu(t),Js(t))for(let e=0;e<t.producerNode.length;e++)pu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ew(t,e,n){if(tw(t),t.liveConsumerNode.length===0&&nw(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=ew(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function pu(t,e){if(tw(t),t.liveConsumerNode.length===1&&nw(t))for(let r=0;r<t.producerNode.length;r++)pu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];gu(i),i.producerIndexOfThis[r]=e}}function Js(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function gu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function tw(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function nw(t){return t.producerNode!==void 0}function tp(t,e){let n=Object.create(bM);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Qf(n),ea(n),n.value===hu)throw n.error;return n.value};return r[Yt]=n,r}var Hf=Symbol("UNSET"),zf=Symbol("COMPUTING"),hu=Symbol("ERRORED"),bM=ve(F({},Xs),{value:Hf,dirty:!0,error:null,equal:Wf,kind:"computed",producerMustRecompute(t){return t.value===Hf||t.value===zf},producerRecomputeValue(t){if(t.value===zf)throw new Error("Detected cycle in computations.");let e=t.value;t.value=zf;let n=fu(t),r,i=!1;try{r=t.computation(),te(null),i=e!==Hf&&e!==hu&&r!==hu&&t.equal(e,r)}catch(o){r=hu,t.error=o}finally{Jf(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function CM(){throw new Error}var rw=CM;function iw(t){rw(t)}function np(t){rw=t}var SM=null;function rp(t,e){let n=Object.create(mu);n.value=t,e!==void 0&&(n.equal=e);let r=()=>(ea(n),n.value);return r[Yt]=n,r}function ta(t,e){Zf()||iw(t),t.equal(t.value,e)||(t.value=e,AM(t))}function ip(t,e){Zf()||iw(t),ta(t,e(t.value))}var mu=ve(F({},Xs),{equal:Wf,value:void 0,kind:"signal"});function AM(t){t.version++,XE(),Yf(t),SM?.()}function op(t){let e=te(null);try{return t()}finally{te(e)}}var sp;function na(){return sp}function Un(t){let e=sp;return sp=t,e}var yu=Symbol("NotFound");function Y(t){return typeof t=="function"}function no(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var vu=no(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function oi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ne=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Y(r))try{r()}catch(o){e=o instanceof vu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{ow(o)}catch(s){e=e??[],s instanceof vu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new vu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)ow(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&oi(n,e)}remove(e){let{_finalizers:n}=this;n&&oi(n,e),e instanceof t&&e._removeParent(this)}};Ne.EMPTY=(()=>{let t=new Ne;return t.closed=!0,t})();var ap=Ne.EMPTY;function _u(t){return t instanceof Ne||t&&"closed"in t&&Y(t.remove)&&Y(t.add)&&Y(t.unsubscribe)}function ow(t){Y(t)?t():t.unsubscribe()}var Zt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ro={setTimeout(t,e,...n){let{delegate:r}=ro;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ro;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Iu(t){ro.setTimeout(()=>{let{onUnhandledError:e}=Zt;if(e)e(t);else throw t})}function ra(){}var sw=cp("C",void 0,void 0);function aw(t){return cp("E",void 0,t)}function cw(t){return cp("N",t,void 0)}function cp(t,e,n){return{kind:t,value:e,error:n}}var si=null;function io(t){if(Zt.useDeprecatedSynchronousErrorHandling){let e=!si;if(e&&(si={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=si;if(si=null,n)throw r}}else t()}function uw(t){Zt.useDeprecatedSynchronousErrorHandling&&si&&(si.errorThrown=!0,si.error=t)}var ai=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,_u(e)&&e.add(this)):this.destination=kM}static create(e,n,r){return new oo(e,n,r)}next(e){this.isStopped?lp(cw(e),this):this._next(e)}error(e){this.isStopped?lp(aw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?lp(sw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},PM=Function.prototype.bind;function up(t,e){return PM.call(t,e)}var dp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Eu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Eu(r)}else Eu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Eu(n)}}},oo=class extends ai{constructor(e,n,r){super();let i;if(Y(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Zt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&up(e.next,o),error:e.error&&up(e.error,o),complete:e.complete&&up(e.complete,o)}):i=e}this.destination=new dp(i)}};function Eu(t){Zt.useDeprecatedSynchronousErrorHandling?uw(t):Iu(t)}function xM(t){throw t}function lp(t,e){let{onStoppedNotification:n}=Zt;n&&ro.setTimeout(()=>n(t,e))}var kM={closed:!0,next:ra,error:xM,complete:ra};var so=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Nt(t){return t}function wu(...t){return hp(t)}function hp(t){return t.length===0?Nt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ie=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=LM(n)?n:new oo(n,r,i);return io(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=lw(r),new r((i,o)=>{let s=new oo({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[so](){return this}pipe(...n){return hp(n)(this)}toPromise(n){return n=lw(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function lw(t){var e;return(e=t??Zt.Promise)!==null&&e!==void 0?e:Promise}function OM(t){return t&&Y(t.next)&&Y(t.error)&&Y(t.complete)}function LM(t){return t&&t instanceof ai||OM(t)&&_u(t)}function fp(t){return Y(t?.lift)}function ue(t){return e=>{if(fp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function oe(t,e,n,r,i){return new pp(t,e,n,r,i)}var pp=class extends ai{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ao(){return ue((t,e)=>{let n=null;t._refCount++;let r=oe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var co=class extends ie{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,fp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ne;let n=this.getSubject();e.add(this.source.subscribe(oe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ne.EMPTY)}return e}refCount(){return ao()(this)}};var dw=no(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ze=(()=>{class t extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Tu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new dw}next(n){io(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){io(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){io(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?ap:(this.currentObservers=null,o.push(n),new Ne(()=>{this.currentObservers=null,oi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ie;return n.source=this,n}}return t.create=(e,n)=>new Tu(e,n),t})(),Tu=class extends Ze{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:ap}};var Je=class extends Ze{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var gp={now(){return(gp.delegate||Date).now()},delegate:void 0};var Du=class extends Ne{constructor(e,n){super()}schedule(e,n=0){return this}};var ia={setInterval(t,e,...n){let{delegate:r}=ia;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ia;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var uo=class extends Du{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return ia.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ia.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,oi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var lo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};lo.now=gp.now;var ho=class extends lo{constructor(e,n=lo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var oa=new ho(uo);var bu=class extends uo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Cu=class extends ho{};var mp=new Cu(bu);var It=new ie(t=>t.complete());function hw(t){return t&&Y(t.schedule)}function fw(t){return t[t.length-1]}function Su(t){return Y(fw(t))?t.pop():void 0}function Er(t){return hw(fw(t))?t.pop():void 0}function Au(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function gw(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function pw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ci(t){return this instanceof ci?(this.v=t,this):new ci(t)}function mw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(w){return Promise.resolve(w).then(y,p)}}function a(y,w){r[y]&&(i[y]=function(R){return new Promise(function(N,O){o.push([y,R,N,O])>1||u(y,R)})},w&&(i[y]=w(i[y])))}function u(y,w){try{l(r[y](w))}catch(R){m(o[0][3],R)}}function l(y){y.value instanceof ci?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,w){y(w),o.shift(),o.length&&u(o[0][0],o[0][1])}}function yw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof pw=="function"?pw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Ru=t=>t&&typeof t.length=="number"&&typeof t!="function";function Nu(t){return Y(t?.then)}function Mu(t){return Y(t[so])}function Pu(t){return Symbol.asyncIterator&&Y(t?.[Symbol.asyncIterator])}function xu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function FM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ku=FM();function Ou(t){return Y(t?.[ku])}function Lu(t){return mw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ci(n.read());if(i)return yield ci(void 0);yield yield ci(r)}}finally{n.releaseLock()}})}function Fu(t){return Y(t?.getReader)}function Le(t){if(t instanceof ie)return t;if(t!=null){if(Mu(t))return VM(t);if(Ru(t))return jM(t);if(Nu(t))return UM(t);if(Pu(t))return vw(t);if(Ou(t))return BM(t);if(Fu(t))return $M(t)}throw xu(t)}function VM(t){return new ie(e=>{let n=t[so]();if(Y(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function jM(t){return new ie(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function UM(t){return new ie(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Iu)})}function BM(t){return new ie(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function vw(t){return new ie(e=>{HM(t,e).catch(n=>e.error(n))})}function $M(t){return vw(Lu(t))}function HM(t,e){var n,r,i,o;return gw(this,void 0,void 0,function*(){try{for(n=yw(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Et(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function wr(t,e=0){return ue((n,r)=>{n.subscribe(oe(r,i=>Et(r,t,()=>r.next(i),e),()=>Et(r,t,()=>r.complete(),e),i=>Et(r,t,()=>r.error(i),e)))})}function Tr(t,e=0){return ue((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function _w(t,e){return Le(t).pipe(Tr(e),wr(e))}function Iw(t,e){return Le(t).pipe(Tr(e),wr(e))}function Ew(t,e){return new ie(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function ww(t,e){return new ie(n=>{let r;return Et(n,e,()=>{r=t[ku](),Et(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Y(r?.return)&&r.return()})}function Vu(t,e){if(!t)throw new Error("Iterable cannot be null");return new ie(n=>{Et(n,e,()=>{let r=t[Symbol.asyncIterator]();Et(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Tw(t,e){return Vu(Lu(t),e)}function Dw(t,e){if(t!=null){if(Mu(t))return _w(t,e);if(Ru(t))return Ew(t,e);if(Nu(t))return Iw(t,e);if(Pu(t))return Vu(t,e);if(Ou(t))return ww(t,e);if(Fu(t))return Tw(t,e)}throw xu(t)}function Se(t,e){return e?Dw(t,e):Le(t)}function W(...t){let e=Er(t);return Se(t,e)}function fo(t,e){let n=Y(t)?t:()=>t,r=i=>i.error(n());return new ie(e?i=>e.schedule(r,0,i):r)}function yp(t){return!!t&&(t instanceof ie||Y(t.lift)&&Y(t.subscribe))}var Bn=no(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function se(t,e){return ue((n,r)=>{let i=0;n.subscribe(oe(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:zM}=Array;function qM(t,e){return zM(e)?t(...e):t(e)}function ju(t){return se(e=>qM(t,e))}var{isArray:WM}=Array,{getPrototypeOf:GM,prototype:KM,keys:QM}=Object;function Uu(t){if(t.length===1){let e=t[0];if(WM(e))return{args:e,keys:null};if(YM(e)){let n=QM(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function YM(t){return t&&typeof t=="object"&&GM(t)===KM}function Bu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function sa(...t){let e=Er(t),n=Su(t),{args:r,keys:i}=Uu(t);if(r.length===0)return Se([],e);let o=new ie(ZM(r,e,i?s=>Bu(i,s):Nt));return n?o.pipe(ju(n)):o}function ZM(t,e,n=Nt){return r=>{bw(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)bw(e,()=>{let l=Se(t[u],e),h=!1;l.subscribe(oe(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function bw(t,e,n){t?Et(n,t,e):e()}function Cw(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=R=>l<r?w(R):u.push(R),w=R=>{o&&e.next(R),l++;let N=!1;Le(n(R,h++)).subscribe(oe(e,O=>{i?.(O),o?y(O):e.next(O)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let O=u.shift();s?Et(e,s,()=>w(O)):w(O)}m()}catch(O){e.error(O)}}))};return t.subscribe(oe(e,y,()=>{p=!0,m()})),()=>{a?.()}}function ke(t,e,n=1/0){return Y(e)?ke((r,i)=>se((o,s)=>e(r,o,i,s))(Le(t(r,i))),n):(typeof e=="number"&&(n=e),ue((r,i)=>Cw(r,i,t,n)))}function po(t=1/0){return ke(Nt,t)}function Sw(){return po(1)}function go(...t){return Sw()(Se(t,Er(t)))}function $u(t){return new ie(e=>{Le(t()).subscribe(e)})}function JM(...t){let e=Su(t),{args:n,keys:r}=Uu(t),i=new ie(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Le(n[h]).subscribe(oe(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Bu(r,a):a),o.complete())}))}});return e?i.pipe(ju(e)):i}function wt(t,e){return ue((n,r)=>{let i=0;n.subscribe(oe(r,o=>t.call(e,o,i++)&&r.next(o)))})}function $n(t){return ue((e,n)=>{let r=null,i=!1,o;r=e.subscribe(oe(n,void 0,void 0,s=>{o=Le(t(s,$n(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Aw(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(oe(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Dr(t,e){return Y(e)?ke(t,e,1):ke(t,1)}function XM(t,e=oa){return ue((n,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function u(){let l=s+t,h=e.now();if(h<l){i=this.schedule(void 0,l-h),r.add(i);return}a()}n.subscribe(oe(r,l=>{o=l,s=e.now(),i||(i=e.schedule(u,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function br(t){return ue((e,n)=>{let r=!1;e.subscribe(oe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Hn(t){return t<=0?()=>It:ue((e,n)=>{let r=0;e.subscribe(oe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Hu(t=eP){return ue((e,n)=>{let r=!1;e.subscribe(oe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function eP(){return new Bn}function aa(t){return ue((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function zn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?wt((i,o)=>t(i,o,r)):Nt,Hn(1),n?br(e):Hu(()=>new Bn))}function mo(t){return t<=0?()=>It:ue((e,n)=>{let r=[];e.subscribe(oe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function vp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?wt((i,o)=>t(i,o,r)):Nt,mo(1),n?br(e):Hu(()=>new Bn))}function zu(t,e){return ue(Aw(t,e,arguments.length>=2,!0))}function qu(...t){let e=Er(t);return ue((n,r)=>{(e?go(t,n,e):go(t,n)).subscribe(r)})}function Mt(t,e){return ue((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(oe(r,u=>{i?.unsubscribe();let l=0,h=o++;Le(t(u,h)).subscribe(i=oe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function _p(t){return ue((e,n)=>{Le(t).subscribe(oe(n,()=>n.complete(),ra)),!n.closed&&e.subscribe(n)})}function Xe(t,e,n){let r=Y(t)||e||n?{next:t,error:e,complete:n}:t;return r?ue((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(oe(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Nt}var gT="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",j=class extends Error{code;constructor(e,n){super(mT(e,n)),this.code=e}};function tP(t){return`NG0${Math.abs(t)}`}function mT(t,e){return`${tP(t)}${e?": "+e:""}`}var yT=Symbol("InputSignalNode#UNSET"),nP=ve(F({},mu),{transformFn:void 0,applyValueToInputSignal(t,e){ta(t,e)}});function vT(t,e){let n=Object.create(nP);n.value=t,n.transformFn=e?.transform;function r(){if(ea(n),n.value===yT){let i=null;throw new j(-950,i)}return n.value}return r[Yt]=n,r}function Ta(t){return{toString:t}.toString()}var Wu="__parameters__";function rP(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function iP(t,e,n){return Ta(()=>{let r=rP(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Wu)?u[Wu]:Object.defineProperty(u,Wu,{value:[]})[Wu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var ua=globalThis;function Te(t){for(let e in t)if(t[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function oP(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function bt(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(bt).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Rw(t,e){return t?e?`${t} ${e}`:t:e||""}var sP=Te({__forward_ref__:Te});function _T(t){return t.__forward_ref__=_T,t.toString=function(){return bt(this())},t}function mt(t){return IT(t)?t():t}function IT(t){return typeof t=="function"&&t.hasOwnProperty(sP)&&t.__forward_ref__===_T}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function xo(t){return{providers:t.providers||[],imports:t.imports||[]}}function bl(t){return Nw(t,wT)||Nw(t,TT)}function ET(t){return bl(t)!==null}function Nw(t,e){return t.hasOwnProperty(e)?t[e]:null}function aP(t){let e=t&&(t[wT]||t[TT]);return e||null}function Mw(t){return t&&(t.hasOwnProperty(Pw)||t.hasOwnProperty(cP))?t[Pw]:null}var wT=Te({\u0275prov:Te}),Pw=Te({\u0275inj:Te}),TT=Te({ngInjectableDef:Te}),cP=Te({ngInjectorDef:Te}),U=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function DT(t){return t&&!!t.\u0275providers}var uP=Te({\u0275cmp:Te}),lP=Te({\u0275dir:Te}),dP=Te({\u0275pipe:Te}),hP=Te({\u0275mod:Te}),Xu=Te({\u0275fac:Te}),ha=Te({__NG_ELEMENT_ID__:Te}),xw=Te({__NG_ENV_ID__:Te});function Dg(t){return typeof t=="string"?t:t==null?"":String(t)}function fP(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Dg(t)}function bT(t,e){throw new j(-200,t)}function bg(t,e){throw new j(-201,!1)}var ee=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ee||{}),Op;function CT(){return Op}function Tt(t){let e=Op;return Op=t,e}function ST(t,e,n){let r=bl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ee.Optional)return null;if(e!==void 0)return e;bg(t,"Injector")}var pP={},li=pP,Lp="__NG_DI_FLAG__",el=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?yu:li,r)}},tl="ngTempTokenPath",gP="ngTokenPath",mP=/\n/gm,yP="\u0275",kw="__source";function vP(t,e=ee.Default){if(na()===void 0)throw new j(-203,!1);if(na()===null)return ST(t,void 0,e);{let n=na(),r;return n instanceof el?r=n.injector:r=n,r.get(t,e&ee.Optional?null:void 0,e)}}function G(t,e=ee.Default){return(CT()||vP)(mt(t),e)}function x(t,e=ee.Default){return G(t,Cl(e))}function Cl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Fp(t){let e=[];for(let n=0;n<t.length;n++){let r=mt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,o=ee.Default;for(let s=0;s<r.length;s++){let a=r[s],u=IP(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(G(i,o))}else e.push(G(r))}return e}function _P(t,e){return t[Lp]=e,t.prototype[Lp]=e,t}function IP(t){return t[Lp]}function EP(t,e,n,r){let i=t[tl];throw e[kw]&&i.unshift(e[kw]),t.message=wP(`
`+t.message,i,n,r),t[gP]=i,t[tl]=null,t}function wP(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==yP?t.slice(2):t;let i=bt(e);if(Array.isArray(e))i=e.map(bt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):bt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(mP,`
  `)}`}var Ut=_P(iP("Optional"),8);function hi(t,e){let n=t.hasOwnProperty(Xu);return n?t[Xu]:null}function Cg(t,e){t.forEach(n=>Array.isArray(n)?Cg(n,e):e(n))}function AT(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function nl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function TP(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function DP(t,e,n){let r=Da(t,e);return r>=0?t[r|1]=n:(r=~r,TP(t,r,e,n)),r}function Ip(t,e){let n=Da(t,e);if(n>=0)return t[n|1]}function Da(t,e){return bP(t,e,1)}function bP(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var fi={},Vt=[],fa=new U(""),RT=new U("",-1),NT=new U(""),rl=class{get(e,n=li){if(n===li){let r=new Error(`NullInjectorError: No provider for ${bt(e)}!`);throw r.name="NullInjectorError",r}return n}};function MT(t,e){let n=t[hP]||null;if(!n&&e===!0)throw new Error(`Type ${bt(t)} does not have '\u0275mod' property.`);return n}function pi(t){return t[uP]||null}function CP(t){return t[lP]||null}function SP(t){return t[dP]||null}function In(t){return{\u0275providers:t}}function AP(...t){return{\u0275providers:PT(!0,t),\u0275fromNgModule:!0}}function PT(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Cg(e,s=>{let a=s;Vp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&xT(i,o),n}function xT(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Sg(i,o=>{e(o,r)})}}function Vp(t,e,n,r){if(t=mt(t),!t)return!1;let i=null,o=Mw(t),s=!o&&pi(t);if(!o&&!s){let u=t.ngModule;if(o=Mw(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Vp(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Cg(o.imports,h=>{Vp(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&xT(l,e)}if(!a){let l=hi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Vt},i),e({provide:NT,useValue:i,multi:!0},i),e({provide:fa,useValue:()=>G(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Sg(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Sg(t,e){for(let n of t)DT(n)&&(n=n.\u0275providers),Array.isArray(n)?Sg(n,e):e(n)}var RP=Te({provide:String,useValue:Te});function kT(t){return t!==null&&typeof t=="object"&&RP in t}function NP(t){return!!(t&&t.useExisting)}function MP(t){return!!(t&&t.useFactory)}function To(t){return typeof t=="function"}function PP(t){return!!t.useClass}var Sl=new U(""),Ku={},Ow={},Ep;function Ag(){return Ep===void 0&&(Ep=new rl),Ep}var ot=class{},pa=class extends ot{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Up(e,s=>this.processProvider(s)),this.records.set(RT,yo(void 0,this)),i.has("environment")&&this.records.set(ot,yo(void 0,this));let o=this.records.get(Sl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(NT,Vt,ee.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?yu:li,r)}destroy(){la(this),this._destroyed=!0;let e=te(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),te(e)}}onDestroy(e){return la(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){la(this);let n=Un(this),r=Tt(void 0),i;try{return e()}finally{Un(n),Tt(r)}}get(e,n=li,r=ee.Default){if(la(this),e.hasOwnProperty(xw))return e[xw](this);r=Cl(r);let i,o=Un(this),s=Tt(void 0);try{if(!(r&ee.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=FP(e)&&bl(e);l&&this.injectableDefInScope(l)?u=yo(jp(e),Ku):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,r)}let a=r&ee.Self?Ag():this.parent;return n=r&ee.Optional&&n===li?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[tl]=a[tl]||[]).unshift(bt(e)),o)throw a;return EP(a,e,"R3InjectorError",this.source)}else throw a}finally{Tt(s),Un(o)}}resolveInjectorInitializers(){let e=te(null),n=Un(this),r=Tt(void 0),i;try{let o=this.get(fa,Vt,ee.Self);for(let s of o)s()}finally{Un(n),Tt(r),te(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(bt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=mt(e);let n=To(e)?e:mt(e&&e.provide),r=kP(e);if(!To(e)&&e.multi===!0){let i=this.records.get(n);i||(i=yo(void 0,Ku,!0),i.factory=()=>Fp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=te(null);try{return n.value===Ow?bT(bt(e)):n.value===Ku&&(n.value=Ow,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&LP(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{te(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=mt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function jp(t){let e=bl(t),n=e!==null?e.factory:hi(t);if(n!==null)return n;if(t instanceof U)throw new j(204,!1);if(t instanceof Function)return xP(t);throw new j(204,!1)}function xP(t){if(t.length>0)throw new j(204,!1);let n=aP(t);return n!==null?()=>n.factory(t):()=>new t}function kP(t){if(kT(t))return yo(void 0,t.useValue);{let e=OT(t);return yo(e,Ku)}}function OT(t,e,n){let r;if(To(t)){let i=mt(t);return hi(i)||jp(i)}else if(kT(t))r=()=>mt(t.useValue);else if(MP(t))r=()=>t.useFactory(...Fp(t.deps||[]));else if(NP(t))r=(i,o)=>G(mt(t.useExisting),o!==void 0&&o&ee.Optional?ee.Optional:void 0);else{let i=mt(t&&(t.useClass||t.provide));if(OP(t))r=()=>new i(...Fp(t.deps));else return hi(i)||jp(i)}return r}function la(t){if(t.destroyed)throw new j(205,!1)}function yo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function OP(t){return!!t.deps}function LP(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function FP(t){return typeof t=="function"||typeof t=="object"&&t instanceof U}function Up(t,e){for(let n of t)Array.isArray(n)?Up(n,e):n&&DT(n)?Up(n.\u0275providers,e):e(n)}function at(t,e){let n;t instanceof pa?(la(t),n=t):n=new el(t);let r,i=Un(n),o=Tt(void 0);try{return e()}finally{Un(i),Tt(o)}}function LT(){return CT()!==void 0||na()!=null}function Al(t){if(!LT())throw new j(-203,!1)}function VP(t){return typeof t=="function"}var Gn=0,ne=1,Z=2,vt=3,Xt=4,tn=5,ga=6,il=7,$e=8,Do=9,qn=10,st=11,ma=12,Lw=13,ko=14,en=15,bo=16,vo=17,Co=18,Rl=19,FT=20,Cr=21,wp=22,ol=23,jt=24,Eo=25,Ct=26,VT=1;var gi=7,sl=8,al=9,yt=10;function Sr(t){return Array.isArray(t)&&typeof t[VT]=="object"}function Kn(t){return Array.isArray(t)&&t[VT]===!0}function jT(t){return(t.flags&4)!==0}function Oo(t){return t.componentOffset>-1}function Rg(t){return(t.flags&1)===1}function gn(t){return!!t.template}function cl(t){return(t[Z]&512)!==0}function Lo(t){return(t[Z]&256)===256}var Bp=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function UT(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Nl=(()=>{let t=()=>BT;return t.ngInherit=!0,t})();function BT(t){return t.type.prototype.ngOnChanges&&(t.setInput=UP),jP}function jP(){let t=HT(this),e=t?.current;if(e){let n=t.previous;if(n===fi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function UP(t,e,n,r,i){let o=this.declaredInputs[r],s=HT(t)||BP(t,{previous:fi,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Bp(l&&l.currentValue,n,u===fi),UT(t,e,i,n)}var $T="__ngSimpleChanges__";function HT(t){return t[$T]||null}function BP(t,e){return t[$T]=e}var Fw=null;var _e=function(t,e=null,n){Fw?.(t,e,n)},$P="svg",HP="math";function mn(t){for(;Array.isArray(t);)t=t[Gn];return t}function zT(t,e){return mn(e[t])}function Qn(t,e){return mn(e[t.index])}function Ng(t,e){return t.data[e]}function zP(t,e){return t[e]}function qP(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function yn(t,e){let n=e[t];return Sr(n)?n:n[Gn]}function Mg(t){return(t[Z]&128)===128}function WP(t){return Kn(t[vt])}function So(t,e){return e==null?null:t[e]}function qT(t){t[vo]=0}function WT(t){t[Z]&1024||(t[Z]|=1024,Mg(t)&&ba(t))}function GP(t,e){for(;t>0;)e=e[ko],t--;return e}function Ml(t){return!!(t[Z]&9216||t[jt]?.dirty)}function $p(t){t[qn].changeDetectionScheduler?.notify(8),t[Z]&64&&(t[Z]|=1024),Ml(t)&&ba(t)}function ba(t){t[qn].changeDetectionScheduler?.notify(0);let e=mi(t);for(;e!==null&&!(e[Z]&8192||(e[Z]|=8192,!Mg(e)));)e=mi(e)}function GT(t,e){if(Lo(t))throw new j(911,!1);t[Cr]===null&&(t[Cr]=[]),t[Cr].push(e)}function KP(t,e){if(t[Cr]===null)return;let n=t[Cr].indexOf(e);n!==-1&&t[Cr].splice(n,1)}function mi(t){let e=t[vt];return Kn(e)?e[vt]:e}function KT(t){return t[il]??=[]}function QT(t){return t.cleanup??=[]}var ae={lFrame:iD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Hp=!1;function QP(){return ae.lFrame.elementDepthCount}function YP(){ae.lFrame.elementDepthCount++}function ZP(){ae.lFrame.elementDepthCount--}function YT(){return ae.bindingsEnabled}function JP(){return ae.skipHydrationRootTNode!==null}function XP(t){return ae.skipHydrationRootTNode===t}function ex(){ae.skipHydrationRootTNode=null}function ye(){return ae.lFrame.lView}function Bt(){return ae.lFrame.tView}function _W(t){return ae.lFrame.contextLView=t,t[$e]}function IW(t){return ae.lFrame.contextLView=null,t}function $t(){let t=ZT();for(;t!==null&&t.type===64;)t=t.parent;return t}function ZT(){return ae.lFrame.currentTNode}function tx(){let t=ae.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ca(t,e){let n=ae.lFrame;n.currentTNode=t,n.isParent=e}function JT(){return ae.lFrame.isParent}function nx(){ae.lFrame.isParent=!1}function XT(){return Hp}function Vw(t){let e=Hp;return Hp=t,e}function eD(){let t=ae.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function rx(t){return ae.lFrame.bindingIndex=t}function Pl(){return ae.lFrame.bindingIndex++}function ix(t){let e=ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ox(){return ae.lFrame.inI18n}function sx(t,e){let n=ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,zp(e)}function ax(){return ae.lFrame.currentDirectiveIndex}function zp(t){ae.lFrame.currentDirectiveIndex=t}function cx(t){let e=ae.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function tD(t){ae.lFrame.currentQueryIndex=t}function ux(t){let e=t[ne];return e.type===2?e.declTNode:e.type===1?t[tn]:null}function nD(t,e,n){if(n&ee.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ee.Host);)if(i=ux(o),i===null||(o=o[ko],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ae.lFrame=rD();return r.currentTNode=e,r.lView=t,!0}function Pg(t){let e=rD(),n=t[ne];ae.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function rD(){let t=ae.lFrame,e=t===null?null:t.child;return e===null?iD(t):e}function iD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function oD(){let t=ae.lFrame;return ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var sD=oD;function xg(){let t=oD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function lx(t){return(ae.lFrame.contextLView=GP(t,ae.lFrame.contextLView))[$e]}function wi(){return ae.lFrame.selectedIndex}function yi(t){ae.lFrame.selectedIndex=t}function dx(){let t=ae.lFrame;return Ng(t.tView,t.selectedIndex)}function hx(){return ae.lFrame.currentNamespace}var aD=!0;function kg(){return aD}function Og(t){aD=t}function fx(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=BT(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function cD(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Qu(t,e,n){uD(t,e,3,n)}function Yu(t,e,n,r){(t[Z]&3)===n&&uD(t,e,n,r)}function Tp(t,e){let n=t[Z];(n&3)===e&&(n&=16383,n+=1,t[Z]=n)}function uD(t,e,n,r){let i=r!==void 0?t[vo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[vo]+=65536),(a<o||o==-1)&&(px(t,n,e,u),t[vo]=(t[vo]&4294901760)+u+2),u++}function jw(t,e){_e(4,t,e);let n=te(null);try{e.call(t)}finally{te(n),_e(5,t,e)}}function px(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[Z]>>14<t[vo]>>16&&(t[Z]&3)===e&&(t[Z]+=16384,jw(a,o)):jw(a,o)}var wo=-1,vi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function gx(t){return(t.flags&8)!==0}function mx(t){return(t.flags&16)!==0}function yx(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];_x(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function vx(t){return t===3||t===4||t===6}function _x(t){return t.charCodeAt(0)===64}function ya(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Uw(t,n,i,null,e[++r]):Uw(t,n,i,null,null))}}return t}function Uw(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function lD(t){return t!==wo}function ul(t){return t&32767}function Ix(t){return t>>16}function ll(t,e){let n=Ix(t),r=e;for(;n>0;)r=r[ko],n--;return r}var qp=!0;function dl(t){let e=qp;return qp=t,e}var Ex=256,dD=Ex-1,hD=5,wx=0,pn={};function Tx(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ha)&&(r=n[ha]),r==null&&(r=n[ha]=wx++);let i=r&dD,o=1<<i;e.data[t+(i>>hD)]|=o}function hl(t,e){let n=fD(t,e);if(n!==-1)return n;let r=e[ne];r.firstCreatePass&&(t.injectorIndex=e.length,Dp(r.data,t),Dp(e,null),Dp(r.blueprint,null));let i=Lg(t,e),o=t.injectorIndex;if(lD(i)){let s=ul(i),a=ll(i,e),u=a[ne].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Dp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function fD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Lg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=vD(i),r===null)return wo;if(n++,i=i[ko],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return wo}function Wp(t,e,n){Tx(t,e,n)}function pD(t,e,n){if(n&ee.Optional||t!==void 0)return t;bg(e,"NodeInjector")}function gD(t,e,n,r){if(n&ee.Optional&&r===void 0&&(r=null),(n&(ee.Self|ee.Host))===0){let i=t[Do],o=Tt(void 0);try{return i?i.get(e,r,n&ee.Optional):ST(e,r,n&ee.Optional)}finally{Tt(o)}}return pD(r,e,n)}function mD(t,e,n,r=ee.Default,i){if(t!==null){if(e[Z]&2048&&!(r&ee.Self)){let s=Ax(t,e,n,r,pn);if(s!==pn)return s}let o=yD(t,e,n,r,pn);if(o!==pn)return o}return gD(e,n,r,i)}function yD(t,e,n,r,i){let o=Cx(n);if(typeof o=="function"){if(!nD(e,t,r))return r&ee.Host?pD(i,n,r):gD(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ee.Optional))bg(n);else return s}finally{sD()}}else if(typeof o=="number"){let s=null,a=fD(t,e),u=wo,l=r&ee.Host?e[en][tn]:null;for((a===-1||r&ee.SkipSelf)&&(u=a===-1?Lg(t,e):e[a+8],u===wo||!$w(r,!1)?a=-1:(s=e[ne],a=ul(u),e=ll(u,e)));a!==-1;){let h=e[ne];if(Bw(o,a,h.data)){let p=Dx(a,e,n,s,r,l);if(p!==pn)return p}u=e[a+8],u!==wo&&$w(r,e[ne].data[a+8]===l)&&Bw(o,a,e)?(s=h,a=ul(u),e=ll(u,e)):a=-1}}return i}function Dx(t,e,n,r,i,o){let s=e[ne],a=s.data[t+8],u=r==null?Oo(a)&&qp:r!=s&&(a.type&3)!==0,l=i&ee.Host&&o===a,h=bx(a,s,n,u,l);return h!==null?fl(e,s,h,a,i):pn}function bx(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let w=s[y];if(y<u&&n===w||y>=u&&w.type===n)return y}if(i){let y=s[u];if(y&&gn(y)&&y.type===n)return u}return null}function fl(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof vi){let a=o;a.resolving&&bT(fP(s[n]));let u=dl(a.canSeeViewProviders);a.resolving=!0;let l,h=a.injectImpl?Tt(a.injectImpl):null,p=nD(t,r,ee.Default);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&fx(n,s[n],e)}finally{h!==null&&Tt(h),dl(u),a.resolving=!1,sD()}}return o}function Cx(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ha)?t[ha]:void 0;return typeof e=="number"?e>=0?e&dD:Sx:e}function Bw(t,e,n){let r=1<<t;return!!(n[e+(t>>hD)]&r)}function $w(t,e){return!(t&ee.Self)&&!(t&ee.Host&&e)}var di=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return mD(this._tNode,this._lView,e,Cl(r),n)}};function Sx(){return new di($t(),ye())}function Fg(t){return Ta(()=>{let e=t.prototype.constructor,n=e[Xu]||Gp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Xu]||Gp(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Gp(t){return IT(t)?()=>{let e=Gp(mt(t));return e&&e()}:hi(t)}function Ax(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Z]&2048&&!cl(s);){let a=yD(o,s,n,r|ee.Self,pn);if(a!==pn)return a;let u=o.parent;if(!u){let l=s[FT];if(l){let h=l.get(n,pn,r);if(h!==pn)return h}u=vD(s),s=s[ko]}o=u}return i}function vD(t){let e=t[ne],n=e.type;return n===2?e.declTNode:n===1?t[tn]:null}function Hw(t,e=null,n=null,r){let i=_D(t,e,n,r);return i.resolveInjectorInitializers(),i}function _D(t,e=null,n=null,r,i=new Set){let o=[n||Vt,AP(t)];return r=r||(typeof t=="object"?void 0:bt(t)),new pa(o,e||Ag(),r||null,i)}var He=class t{static THROW_IF_NOT_FOUND=li;static NULL=new rl;static create(e,n){if(Array.isArray(e))return Hw({name:""},n,e,"");{let r=e.name??"";return Hw({name:r},e.parent,e.providers,r)}}static \u0275prov=B({token:t,providedIn:"any",factory:()=>G(RT)});static __NG_ELEMENT_ID__=-1};var Rx=new U("");Rx.__NG_ELEMENT_ID__=t=>{let e=$t();if(e===null)throw new j(204,!1);if(e.type&2)return e.value;if(t&ee.Optional)return null;throw new j(204,!1)};var ID=!1,Rr=(()=>{class t{static __NG_ELEMENT_ID__=Nx;static __NG_ENV_ID__=n=>n}return t})(),Kp=class extends Rr{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let n=this._lView;return Lo(n)?(e(),()=>{}):(GT(n,e),()=>KP(n,e))}};function Nx(){return new Kp(ye())}var _i=class{},Vg=new U("",{providedIn:"root",factory:()=>!1});var ED=new U(""),wD=new U(""),Ti=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Je(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})(),xl=(()=>{class t{internalPendingTasks=x(Ti);scheduler=x(_i);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return _(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})(),Qp=class extends Ze{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,LT()&&(this.destroyRef=x(Rr,{optional:!0})??void 0,this.pendingTasks=x(Ti,{optional:!0})??void 0)}emit(e){let n=te(null);try{super.next(e)}finally{te(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ne&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Dt=Qp;function pl(...t){}function TD(t){let e,n;function r(){t=pl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function zw(t){return queueMicrotask(()=>t()),()=>{t=pl}}var jg="isAngularZone",gl=jg+"_ID",Mx=0,fe=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Dt(!1);onMicrotaskEmpty=new Dt(!1);onStable=new Dt(!1);onError=new Dt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=ID}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,kx(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(jg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new j(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Px,pl,pl);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Px={};function Ug(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function xx(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){TD(()=>{t.callbackScheduled=!1,Yp(t),t.isCheckStableRunning=!0,Ug(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Yp(t)}function kx(t){let e=()=>{xx(t)},n=Mx++;t._inner=t._inner.fork({name:"angular",properties:{[jg]:!0,[gl]:n,[gl+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(Ox(u))return r.invokeTask(o,s,a,u);try{return qw(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Ww(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return qw(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Lx(u)&&e(),Ww(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Yp(t),Ug(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Yp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function qw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ww(t){t._nesting--,Ug(t)}var Zp=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Dt;onMicrotaskEmpty=new Dt;onStable=new Dt;onError=new Dt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Ox(t){return DD(t,"__ignore_ng_zone__")}function Lx(t){return DD(t,"__scheduler_tick__")}function DD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var vn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Fx=new U("",{providedIn:"root",factory:()=>{let t=x(fe),e=x(vn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function Gw(t,e){return vT(t,e)}function Vx(t){return vT(yT,t)}var bD=(Gw.required=Vx,Gw);function jx(){return kl($t(),ye())}function kl(t,e){return new Sa(Qn(t,e))}var Sa=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=jx}return t})();function Bg(t,e){let n=rp(t,e?.equal),r=n[Yt];return n.set=i=>ta(r,i),n.update=i=>ip(r,i),n.asReadonly=Ux.bind(n),n}function Ux(){let t=this[Yt];if(t.readonlyFn===void 0){let e=()=>this();e[Yt]=t,t.readonlyFn=e}return t.readonlyFn}function CD(t){return(t.flags&128)===128}var SD=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(SD||{}),AD=new Map,Bx=0;function $x(){return Bx++}function Hx(t){AD.set(t[Rl],t)}function Jp(t){AD.delete(t[Rl])}var Kw="__ngContext__";function Aa(t,e){Sr(e)?(t[Kw]=e[Rl],Hx(e)):t[Kw]=e}function RD(t){return MD(t[ma])}function ND(t){return MD(t[Xt])}function MD(t){for(;t!==null&&!Kn(t);)t=t[Xt];return t}var Xp;function PD(t){Xp=t}function zx(){if(Xp!==void 0)return Xp;if(typeof document<"u")return document;throw new j(210,!1)}var $g=new U("",{providedIn:"root",factory:()=>qx}),qx="ng",Hg=new U(""),Nr=new U("",{providedIn:"platform",factory:()=>"unknown"});var zg=new U("",{providedIn:"root",factory:()=>zx().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Wx="h",Gx="b";var xD=!1,Kx=new U("",{providedIn:"root",factory:()=>xD});var qg=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(qg||{}),Fo=new U(""),Qw=new Set;function Mr(t){Qw.has(t)||(Qw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var kD=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=Qx}return t})();function Qx(){return new kD(ye(),$t())}var _o=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(_o||{}),OD=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})(),Yx=[_o.EarlyRead,_o.Write,_o.MixedReadWrite,_o.Read],Zx=(()=>{class t{ngZone=x(fe);scheduler=x(_i);errorHandler=x(vn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){x(Fo,{optional:!0})}execute(){let n=this.sequences.size>0;n&&_e(16),this.executing=!0;for(let r of Yx)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&_e(17)}register(n){let{view:r}=n;r!==void 0?((r[Eo]??=[]).push(n),ba(r),r[Z]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(qg.AFTER_NEXT_RENDER,n):n()}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})(),eg=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Eo];e&&(this.view[Eo]=e.filter(n=>n!==this))}};function Wg(t,e){!e?.injector&&Al(Wg);let n=e?.injector??x(He);return Mr("NgAfterNextRender"),Xx(t,n,e,!0)}function Jx(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function Xx(t,e,n,r){let i=e.get(OD);i.impl??=e.get(Zx);let o=e.get(Fo,null,{optional:!0}),s=n?.phase??_o.MixedReadWrite,a=n?.manualCleanup!==!0?e.get(Rr):null,u=e.get(kD,null,{optional:!0}),l=new eg(i.impl,Jx(t,s),u?.view,r,a,o?.snapshot(null));return i.impl.register(l),l}var ek=(t,e,n,r)=>{};function tk(t,e,n,r){ek(t,e,n,r)}var nk=()=>null;function LD(t,e,n=!1){return nk(t,e,n)}function FD(t,e){let n=t.contentQueries;if(n!==null){let r=te(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];tD(o),a.contentQueries(2,e[s],s)}}}finally{te(r)}}}function tg(t,e,n){tD(0);let r=te(null);try{e(t,n)}finally{te(r)}}function VD(t,e,n){if(jT(e)){let r=te(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{te(r)}}}var _n=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(_n||{});var ml=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gT})`}};function Gg(t){return t instanceof ml?t.changingThisBreaksApplicationSecurity:t}function rk(t,e){let n=ik(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${gT})`)}return n===e}function ik(t){return t instanceof ml&&t.getTypeName()||null}var ok=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function sk(t){return t=String(t),t.match(ok)?t:"unsafe:"+t}var jD=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(jD||{});function EW(t){let e=ak();return e?e.sanitize(jD.URL,t)||"":rk(t,"URL")?Gg(t):sk(Dg(t))}function ak(){let t=ye();return t&&t[qn].sanitizer}function UD(t){return t instanceof Function?t():t}function ck(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var BD="ng-template";function uk(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&ck(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Kg(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Kg(t){return t.type===4&&t.value!==BD}function lk(t,e,n){let r=t.type===4&&!n?BD:t.value;return e===r}function dk(t,e,n){let r=4,i=t.attrs,o=i!==null?pk(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Jt(r)&&!Jt(u))return!1;if(s&&Jt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!lk(t,u,n)||u===""&&e.length===1){if(Jt(r))return!1;s=!0}}else if(r&8){if(i===null||!uk(t,i,u,n)){if(Jt(r))return!1;s=!0}}else{let l=e[++a],h=hk(u,i,Kg(t),n);if(h===-1){if(Jt(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Jt(r))return!1;s=!0}}}}return Jt(r)||s}function Jt(t){return(t&1)===0}function hk(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return gk(e,t)}function fk(t,e,n=!1){for(let r=0;r<e.length;r++)if(dk(t,e[r],n))return!0;return!1}function pk(t){for(let e=0;e<t.length;e++){let n=t[e];if(vx(n))return e}return t.length}function gk(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Yw(t,e){return t?":not("+e.trim()+")":e}function mk(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Jt(s)&&(e+=Yw(o,i),i=""),r=s,o=o||!Jt(r);n++}return i!==""&&(e+=Yw(o,i)),e}function yk(t){return t.map(mk).join(",")}function vk(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Jt(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Pr={};function _k(t,e){return t.createText(e)}function Ik(t,e,n){t.setValue(e,n)}function $D(t,e,n){return t.createElement(e,n)}function yl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function HD(t,e,n){t.appendChild(e,n)}function Zw(t,e,n,r,i){r!==null?yl(t,e,n,r,i):HD(t,e,n)}function Ek(t,e,n){t.removeChild(null,e,n)}function wk(t,e,n){t.setAttribute(e,"style",n)}function Tk(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function zD(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&yx(t,e,r),i!==null&&Tk(t,e,i),o!==null&&wk(t,e,o)}function Qg(t,e,n,r,i,o,s,a,u,l,h){let p=Ct+r,m=p+i,y=Dk(p,m),w=typeof l=="function"?l():l;return y[ne]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:w,incompleteFirstPass:!1,ssrId:h}}function Dk(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Pr);return n}function bk(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Qg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Yg(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Gn]=i,p[Z]=r|4|128|8|64|1024,(l!==null||t&&t[Z]&2048)&&(p[Z]|=2048),qT(p),p[vt]=p[ko]=t,p[$e]=n,p[qn]=s||t&&t[qn],p[st]=a||t&&t[st],p[Do]=u||t&&t[Do]||null,p[tn]=o,p[Rl]=$x(),p[ga]=h,p[FT]=l,p[en]=e.type==2?t[en]:p,p}function Ck(t,e,n){let r=Qn(e,t),i=bk(n),o=t[qn].rendererFactory,s=Zg(t,Yg(t,i,null,qD(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function qD(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function WD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Zg(t,e){return t[ma]?t[Lw][Xt]=e:t[ma]=e,t[Lw]=e,e}function wW(t=1){GD(Bt(),ye(),wi()+t,!1)}function GD(t,e,n,r){if(!r)if((e[Z]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Qu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Yu(e,o,0,n)}yi(n)}var Ol=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ol||{});function ng(t,e,n,r){let i=te(null);try{let[o,s,a]=t.inputs[n],u=null;(s&Ol.SignalBased)!==0&&(u=e[o][Yt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):UT(e,u,o,r)}finally{te(i)}}function KD(t,e,n,r,i){let o=wi(),s=r&2;try{yi(-1),s&&e.length>Ct&&GD(t,e,Ct,!1),_e(s?2:0,i),n(r,i)}finally{yi(o),_e(s?3:1,i)}}function Jg(t,e,n){xk(t,e,n),(n.flags&64)===64&&kk(t,e,n)}function QD(t,e,n=Qn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function Sk(t,e,n,r){let o=r.get(Kx,xD)||n===_n.ShadowDom,s=t.selectRootElement(e,o);return Ak(s),s}function Ak(t){Rk(t)}var Rk=()=>null;function Nk(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Mk(t,e,n,r,i,o,s,a){if(!a&&Xg(e,t,n,r,i)){Oo(e)&&Pk(n,e.index);return}if(e.type&3){let u=Qn(e,n);r=Nk(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function Pk(t,e){let n=yn(e,t);n[Z]&16||(n[Z]|=64)}function xk(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Oo(n)&&Ck(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||hl(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=fl(e,t,s,n);if(Aa(u,e),o!==null&&Lk(e,s-r,u,a,n,o),gn(a)){let l=yn(n.index,e);l[$e]=fl(e,t,s,n)}}}function kk(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=ax();try{yi(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];zp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Ok(u,l)}}finally{yi(-1),zp(s)}}function Ok(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function YD(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];fk(e,o.selectors,!1)&&(r??=[],gn(o)?r.unshift(o):r.push(o))}return r}function Lk(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];ng(r,n,u,l)}}function Fk(t,e){let n=t[Do],r=n?n.get(vn,null):null;r&&r.handleError(e)}function Xg(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];ng(p,n[l],h,i),a=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];ng(h,l,r,i),a=!0}return a}function Vk(t,e){let n=yn(e,t),r=n[ne];jk(r,n);let i=n[Gn];i!==null&&n[ga]===null&&(n[ga]=LD(i,n[Do])),_e(18),em(r,n,n[$e]),_e(19,n[$e])}function jk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function em(t,e,n){Pg(e);try{let r=t.viewQuery;r!==null&&tg(1,r,n);let i=t.template;i!==null&&KD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Co]?.finishViewCreation(t),t.staticContentQueries&&FD(t,e),t.staticViewQueries&&tg(2,t.viewQuery,n);let o=t.components;o!==null&&Uk(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Z]&=-5,xg()}}function Uk(t,e){for(let n=0;n<e.length;n++)Vk(t,e[n])}function Ll(t,e,n,r){let i=te(null);try{let o=e.tView,a=t[Z]&4096?4096:16,u=Yg(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[bo]=l;let h=t[Co];return h!==null&&(u[Co]=h.createEmbeddedView(o)),em(o,u,n),u}finally{te(i)}}function va(t,e){return!e||e.firstChild===null||CD(t)}var Bk;function tm(t,e){return Bk(t,e)}var Wn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Wn||{});function ZD(t){return(t.flags&32)===32}function Io(t,e,n,r,i){if(r!=null){let o,s=!1;Kn(r)?o=r:Sr(r)&&(s=!0,r=r[Gn]);let a=mn(r);t===0&&n!==null?i==null?HD(e,n,a):yl(e,n,a,i||null,!0):t===1&&n!==null?yl(e,n,a,i||null,!0):t===2?Ek(e,a,s):t===3&&e.destroyNode(a),o!=null&&Xk(e,t,o,n,i)}}function $k(t,e){JD(t,e),e[Gn]=null,e[tn]=null}function Hk(t,e,n,r,i,o){r[Gn]=i,r[tn]=e,Vl(t,r,n,1,i,o)}function JD(t,e){e[qn].changeDetectionScheduler?.notify(9),Vl(t,e,e[st],2,null,null)}function zk(t){let e=t[ma];if(!e)return bp(t[ne],t);for(;e;){let n=null;if(Sr(e))n=e[ma];else{let r=e[yt];r&&(n=r)}if(!n){for(;e&&!e[Xt]&&e!==t;)Sr(e)&&bp(e[ne],e),e=e[vt];e===null&&(e=t),Sr(e)&&bp(e[ne],e),n=e&&e[Xt]}e=n}}function nm(t,e){let n=t[al],r=n.indexOf(e);n.splice(r,1)}function Fl(t,e){if(Lo(e))return;let n=e[st];n.destroyNode&&Vl(t,e,n,3,null,null),zk(e)}function bp(t,e){if(Lo(e))return;let n=te(null);try{e[Z]&=-129,e[Z]|=256,e[jt]&&ep(e[jt]),Wk(t,e),qk(t,e),e[ne].type===1&&e[st].destroy();let r=e[bo];if(r!==null&&Kn(e[vt])){r!==e[vt]&&nm(r,e);let i=e[Co];i!==null&&i.detachView(t)}Jp(e)}finally{te(n)}}function qk(t,e){let n=t.cleanup,r=e[il];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[il]=null);let i=e[Cr];if(i!==null){e[Cr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[ol];if(o!==null){e[ol]=null;for(let s of o)s.destroy()}}function Wk(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof vi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];_e(4,a,u);try{u.call(a)}finally{_e(5,a,u)}}else{_e(4,i,o);try{o.call(i)}finally{_e(5,i,o)}}}}}function Gk(t,e,n){return Kk(t,e.parent,n)}function Kk(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Gn];if(Oo(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===_n.None||i===_n.Emulated)return null}return Qn(r,n)}function Qk(t,e,n){return Zk(t,e,n)}function Yk(t,e,n){return t.type&40?Qn(t,n):null}var Zk=Yk,Jw;function rm(t,e,n,r){let i=Gk(t,r,e),o=e[st],s=r.parent||e[tn],a=Qk(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Zw(o,i,n[u],a,!1);else Zw(o,i,n,a,!1);Jw!==void 0&&Jw(o,r,e,n,i)}function da(t,e){if(e!==null){let n=e.type;if(n&3)return Qn(e,t);if(n&4)return rg(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return da(t,r);{let i=t[e.index];return Kn(i)?rg(-1,i):mn(i)}}else{if(n&128)return da(t,e.next);if(n&32)return tm(e,t)()||mn(t[e.index]);{let r=XD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=mi(t[en]);return da(i,r)}else return da(t,e.next)}}}return null}function XD(t,e){if(e!==null){let r=t[en][tn],i=e.projection;return r.projection[i]}return null}function rg(t,e){let n=yt+t+1;if(n<e.length){let r=e[n],i=r[ne].firstChild;if(i!==null)return da(r,i)}return e[gi]}function im(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Aa(mn(a),r),n.flags|=2),!ZD(n))if(u&8)im(t,e,n.child,r,i,o,!1),Io(e,t,i,a,o);else if(u&32){let l=tm(n,r),h;for(;h=l();)Io(e,t,i,h,o);Io(e,t,i,a,o)}else u&16?Jk(t,e,r,n,i,o):Io(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Vl(t,e,n,r,i,o){im(n,r,t.firstChild,e,i,o,!1)}function Jk(t,e,n,r,i,o){let s=n[en],u=s[tn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Io(e,t,i,h,o)}else{let l=u,h=s[vt];CD(r)&&(l.flags|=128),im(t,e,l,h,i,o,!0)}}function Xk(t,e,n,r,i){let o=n[gi],s=mn(n);o!==s&&Io(e,t,r,o,i);for(let a=yt;a<n.length;a++){let u=n[a];Vl(u[ne],u,t,e,r,o)}}function eO(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Wn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Wn.Important),t.setStyle(n,r,i,o))}}function vl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(mn(o)),Kn(o)&&tO(o,r);let s=n.type;if(s&8)vl(t,e,n.child,r);else if(s&32){let a=tm(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=XD(e,n);if(Array.isArray(a))r.push(...a);else{let u=mi(e[en]);vl(u[ne],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function tO(t,e){for(let n=yt;n<t.length;n++){let r=t[n],i=r[ne].firstChild;i!==null&&vl(r[ne],r,i,e)}t[gi]!==t[Gn]&&e.push(t[gi])}function eb(t){if(t[Eo]!==null){for(let e of t[Eo])e.impl.addSequence(e);t[Eo].length=0}}var tb=[];function nO(t){return t[jt]??rO(t)}function rO(t){let e=tb.pop()??Object.create(oO);return e.lView=t,e}function iO(t){t.lView[jt]!==t&&(t.lView=null,tb.push(t))}var oO=ve(F({},Xs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{ba(t.lView)},consumerOnSignalRead(){this.lView[jt]=this}});function sO(t){let e=t[jt]??Object.create(aO);return e.lView=t,e}var aO=ve(F({},Xs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=mi(t.lView);for(;e&&!nb(e[ne]);)e=mi(e);e&&WT(e)},consumerOnSignalRead(){this.lView[jt]=this}});function nb(t){return t.type!==2}function rb(t){if(t[ol]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[ol])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[Z]&8192)}}var cO=100;function ib(t,e=!0,n=0){let i=t[qn].rendererFactory,o=!1;o||i.begin?.();try{uO(t,n)}catch(s){throw e&&Fk(t,s),s}finally{o||i.end?.()}}function uO(t,e){let n=XT();try{Vw(!0),ig(t,e);let r=0;for(;Ml(t);){if(r===cO)throw new j(103,!1);r++,ig(t,1)}}finally{Vw(n)}}function lO(t,e,n,r){if(Lo(e))return;let i=e[Z],o=!1,s=!1;Pg(e);let a=!0,u=null,l=null;o||(nb(t)?(l=nO(e),u=fu(l)):Kf()===null?(a=!1,l=sO(e),u=fu(l)):e[jt]&&(ep(e[jt]),e[jt]=null));try{qT(e),rx(t.bindingStartIndex),n!==null&&KD(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&Qu(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Yu(e,y,0,null),Tp(e,0)}if(s||dO(e),rb(e),ob(e,0),t.contentQueries!==null&&FD(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&Qu(e,y)}else{let y=t.contentHooks;y!==null&&Yu(e,y,1),Tp(e,1)}fO(t,e);let p=t.components;p!==null&&ab(e,p,0);let m=t.viewQuery;if(m!==null&&tg(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&Qu(e,y)}else{let y=t.viewHooks;y!==null&&Yu(e,y,2),Tp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[wp]){for(let y of e[wp])y();e[wp]=null}o||(eb(e),e[Z]&=-73)}catch(h){throw o||ba(e),h}finally{l!==null&&(Jf(l,u),a&&iO(l)),xg()}}function ob(t,e){for(let n=RD(t);n!==null;n=ND(n))for(let r=yt;r<n.length;r++){let i=n[r];sb(i,e)}}function dO(t){for(let e=RD(t);e!==null;e=ND(e)){if(!(e[Z]&2))continue;let n=e[al];for(let r=0;r<n.length;r++){let i=n[r];WT(i)}}}function hO(t,e,n){_e(18);let r=yn(e,t);sb(r,n),_e(19,r[$e])}function sb(t,e){Mg(t)&&ig(t,e)}function ig(t,e){let r=t[ne],i=t[Z],o=t[jt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Xf(o)),s||=!1,o&&(o.dirty=!1),t[Z]&=-9217,s)lO(r,t,r.template,t[$e]);else if(i&8192){rb(t),ob(t,1);let a=r.components;a!==null&&ab(t,a,1),eb(t)}}function ab(t,e,n){for(let r=0;r<e.length;r++)hO(t,e[r],n)}function fO(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)yi(~i);else{let o=i,s=n[++r],a=n[++r];sx(s,o);let u=e[o];_e(24,u),a(2,u),_e(25,u)}}}finally{yi(-1)}}function om(t,e){let n=XT()?64:1088;for(t[qn].changeDetectionScheduler?.notify(e);t;){t[Z]|=n;let r=mi(t);if(cl(t)&&!r)return t;t=r}return null}function cb(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function ub(t,e){let n=yt+e;if(n<t.length)return t[n]}function jl(t,e,n,r=!0){let i=e[ne];if(pO(i,e,t,n),r){let s=rg(n,t),a=e[st],u=a.parentNode(t[gi]);u!==null&&Hk(i,t[tn],a,e,u,s)}let o=e[ga];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function lb(t,e){let n=_a(t,e);return n!==void 0&&Fl(n[ne],n),n}function _a(t,e){if(t.length<=yt)return;let n=yt+e,r=t[n];if(r){let i=r[bo];i!==null&&i!==t&&nm(i,r),e>0&&(t[n-1][Xt]=r[Xt]);let o=nl(t,yt+e);$k(r[ne],r);let s=o[Co];s!==null&&s.detachView(o[ne]),r[vt]=null,r[Xt]=null,r[Z]&=-129}return r}function pO(t,e,n,r){let i=yt+r,o=n.length;r>0&&(n[i-1][Xt]=e),r<o-yt?(e[Xt]=n[i],AT(n,yt+r,e)):(n.push(e),e[Xt]=null),e[vt]=n;let s=e[bo];s!==null&&n!==s&&db(s,e);let a=e[Co];a!==null&&a.insertView(t),$p(e),e[Z]|=128}function db(t,e){let n=t[al],r=e[vt];if(Sr(r))t[Z]|=2;else{let i=r[vt][en];e[en]!==i&&(t[Z]|=2)}n===null?t[al]=[e]:n.push(e)}var Ia=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[ne];return vl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[$e]}set context(e){this._lView[$e]=e}get destroyed(){return Lo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[vt];if(Kn(e)){let n=e[sl],r=n?n.indexOf(this):-1;r>-1&&(_a(e,r),nl(n,r))}this._attachedToViewContainer=!1}Fl(this._lView[ne],this._lView)}onDestroy(e){GT(this._lView,e)}markForCheck(){om(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Z]&=-129}reattach(){$p(this._lView),this._lView[Z]|=128}detectChanges(){this._lView[Z]|=1024,ib(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=cl(this._lView),n=this._lView[bo];n!==null&&!e&&nm(n,this._lView),JD(this._lView[ne],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;let n=cl(this._lView),r=this._lView[bo];r!==null&&!n&&db(r,this._lView),$p(this._lView)}};var sm=(()=>{class t{static __NG_ELEMENT_ID__=yO}return t})(),gO=sm,mO=class extends gO{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Ll(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Ia(i)}};function yO(){return vO($t(),ye())}function vO(t,e){return t.type&4?new mO(e,t,kl(t,e)):null}function am(t,e,n,r,i){let o=t.data[e];if(o===null)o=_O(t,e,n,r,i),ox()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=tx();o.injectorIndex=s===null?-1:s.injectorIndex}return Ca(o,!0),o}function _O(t,e,n,r,i){let o=ZT(),s=JT(),a=s?o:o&&o.parent,u=t.data[e]=EO(t,a,n,e,r,i);return IO(t,u,o,s),u}function IO(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function EO(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return JP()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var bW=new RegExp(`^(\\d+)*(${Gx}|${Wx})*(.*)`);var wO=()=>null;function Ea(t,e){return wO(t,e)}var TO=class{},hb=class{},og=class{resolveComponentFactory(e){throw Error(`No component factory found for ${bt(e)}.`)}},Ul=class{static NULL=new og},Ao=class{},Bl=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>DO()}return t})();function DO(){let t=ye(),e=$t(),n=yn(e.index,t);return(Sr(n)?n:t)[st]}var bO=(()=>{class t{static \u0275prov=B({token:t,providedIn:"root",factory:()=>null})}return t})();var Cp={},sg=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Cl(r);let i=this.injector.get(e,Cp,r);return i!==Cp||n===Cp?i:this.parentInjector.get(e,n,r)}};function Xw(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Rw(i,a);else if(o==2){let u=a,l=e[++s];r=Rw(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Pt(t,e=ee.Default){let n=ye();if(n===null)return G(t,e);let r=$t();return mD(r,n,mt(t),e)}function fb(){let t="invalid";throw new Error(t)}function pb(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a,u=null,l=null,h=SO(s);h===null?a=s:[a,u,l]=h,NO(t,e,n,a,o,u,l)}o!==null&&r!==null&&CO(n,r,o)}function CO(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new j(-301,!1);r.push(e[i],o)}}function SO(t){let e=null,n=!1;for(let s=0;s<t.length;s++){let a=t[s];if(s===0&&gn(a)&&(e=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,AO(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,o]):null}function AO(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function RO(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function NO(t,e,n,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&gn(y)&&(u=!0,RO(t,n,m)),Wp(hl(n,e),t,y.type)}LO(n,t.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=WD(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(n.mergedAttrs=ya(n.mergedAttrs,y.hostAttrs),PO(t,n,e,p,y),OO(p,y,i),s!==null&&s.has(y)){let[R,N]=s.get(y);n.directiveToIndex.set(y.type,[p,R+n.directiveStart,N+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let w=y.type.prototype;!l&&(w.ngOnChanges||w.ngOnInit||w.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(w.ngOnChanges||w.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}MO(t,n,o)}function MO(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))eT(0,e,i,r),eT(1,e,i,r),nT(e,r,!1);else{let o=n.get(i);tT(0,e,o,r),tT(1,e,o,r),nT(e,r,!0)}}}function eT(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),gb(e,o)}}function tT(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),gb(e,s)}}function gb(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function nT(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Kg(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function PO(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=hi(i.type,!0)),s=new vi(o,gn(i),Pt);t.blueprint[r]=s,n[r]=s,xO(t,e,r,WD(t,n,i.hostVars,Pr),i)}function xO(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;kO(s)!=a&&s.push(a),s.push(n,r,o)}}function kO(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function OO(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;gn(e)&&(n[""]=t)}}function LO(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function mb(t,e,n,r,i,o,s,a){let u=e.consts,l=So(u,s),h=am(e,t,2,r,l);return o&&pb(e,n,h,So(u,a),i),h.mergedAttrs=ya(h.mergedAttrs,h.attrs),h.attrs!==null&&Xw(h,h.attrs,!1),h.mergedAttrs!==null&&Xw(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function yb(t,e){cD(t,e),jT(e)&&t.queries.elementEnd(e)}var _l=class extends Ul{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=pi(e);return new Ro(n,this.ngModule)}};function FO(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Ol.SignalBased)!==0};return i&&(o.transform=i),o})}function VO(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function jO(t,e,n){let r=e instanceof ot?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new sg(n,r):n}function UO(t){let e=t.get(Ao,null);if(e===null)throw new j(407,!1);let n=t.get(bO,null),r=t.get(_i,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function BO(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return $D(e,n,n==="svg"?$P:n==="math"?HP:null)}var Ro=class extends hb{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=FO(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=VO(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=yk(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){_e(22);let o=te(null);try{let s=this.componentDef,a=r?["ng-version","19.2.13"]:vk(this.componentDef.selectors[0]),u=Qg(0,null,null,1,0,null,null,null,null,[a],null),l=jO(s,i||this.ngModule,e),h=UO(l),p=h.rendererFactory.createRenderer(null,s),m=r?Sk(p,r,s.encapsulation,l):BO(s,p),y=Yg(null,u,null,512|qD(s),null,null,h,p,l,null,LD(m,l,!0));y[Ct]=m,Pg(y);let w=null;try{let R=mb(Ct,u,y,"#host",()=>[this.componentDef],!0,0);m&&(zD(p,m,R),Aa(m,y)),Jg(u,y,R),VD(u,R,y),yb(u,R),n!==void 0&&$O(R,this.ngContentSelectors,n),w=yn(R.index,y),y[$e]=w[$e],em(u,y,null)}catch(R){throw w!==null&&Jp(w),Jp(y),R}finally{_e(23),xg()}return new ag(this.componentType,y)}finally{te(o)}}},ag=class extends TO{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=Ng(n[ne],Ct),this.location=kl(this._tNode,n),this.instance=yn(this._tNode.index,n)[$e],this.hostView=this.changeDetectorRef=new Ia(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Xg(r,i[ne],i,e,n);this.previousInputValues.set(e,n);let s=yn(r.index,i);om(s,1)}get injector(){return new di(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function $O(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Ra=(()=>{class t{static __NG_ELEMENT_ID__=HO}return t})();function HO(){let t=$t();return qO(t,ye())}var zO=Ra,vb=class extends zO{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return kl(this._hostTNode,this._hostLView)}get injector(){return new di(this._hostTNode,this._hostLView)}get parentInjector(){let e=Lg(this._hostTNode,this._hostLView);if(lD(e)){let n=ll(e,this._hostLView),r=ul(e),i=n[ne].data[r+8];return new di(i,n)}else return new di(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=rT(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-yt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Ea(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,va(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!VP(e),a;if(s)a=n;else{let w=n||{};a=w.index,r=w.injector,i=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}let u=s?e:new Ro(pi(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let R=(s?l:this.parentInjector).get(ot,null);R&&(o=R)}let h=pi(u.componentType??{}),p=Ea(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,o);return this.insertImpl(y.hostView,a,va(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(WP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[vt],l=new vb(u,u[tn],u[vt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return jl(s,i,o,r),e.attachToViewContainerRef(),AT(Sp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=rT(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=_a(this._lContainer,n);r&&(nl(Sp(this._lContainer),n),Fl(r[ne],r))}detach(e){let n=this._adjustIndex(e,-1),r=_a(this._lContainer,n);return r&&nl(Sp(this._lContainer),n)!=null?new Ia(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function rT(t){return t[sl]}function Sp(t){return t[sl]||(t[sl]=[])}function qO(t,e){let n,r=e[t.index];return Kn(r)?n=r:(n=cb(r,e,null,t),e[t.index]=n,Zg(e,n)),GO(n,e,t,r),new vb(n,t,e)}function WO(t,e){let n=t[st],r=n.createComment(""),i=Qn(e,t),o=n.parentNode(i);return yl(n,o,r,n.nextSibling(i),!1),r}var GO=YO,KO=()=>!1;function QO(t,e,n){return KO(t,e,n)}function YO(t,e,n,r){if(t[gi])return;let i;n.type&8?i=mn(r):i=WO(e,n),t[gi]=i}var No=class{},cm=class{};var cg=class extends No{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new _l(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=MT(e);this._bootstrapComponents=UD(o.bootstrap),this._r3Injector=_D(e,n,[{provide:No,useValue:this},{provide:Ul,useValue:this.componentFactoryResolver},...r],bt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ug=class extends cm{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new cg(this.moduleType,e,[])}};var Il=class extends No{injector;componentFactoryResolver=new _l(this);instance=null;constructor(e){super();let n=new pa([...e.providers,{provide:No,useValue:this},{provide:Ul,useValue:this.componentFactoryResolver}],e.parent||Ag(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Na(t,e,n=null){return new Il({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var ZO=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=PT(!1,n.type),i=r.length>0?Na([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=B({token:t,providedIn:"environment",factory:()=>new t(G(ot))})}return t})();function _b(t){return Ta(()=>{let e=Eb(t),n=ve(F({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===SD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(ZO).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||_n.Emulated,styles:t.styles||Vt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Mr("NgStandalone"),wb(n);let r=t.dependencies;return n.directiveDefs=iT(r,!1),n.pipeDefs=iT(r,!0),n.id=n1(n),n})}function JO(t){return pi(t)||CP(t)}function XO(t){return t!==null}function Vo(t){return Ta(()=>({type:t.type,bootstrap:t.bootstrap||Vt,declarations:t.declarations||Vt,imports:t.imports||Vt,exports:t.exports||Vt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function e1(t,e){if(t==null)return fi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Ol.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function t1(t){if(t==null)return fi;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function jo(t){return Ta(()=>{let e=Eb(t);return wb(e),e})}function Ib(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Eb(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||fi,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Vt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:e1(t.inputs,e),outputs:t1(t.outputs),debugInfo:null}}function wb(t){t.features?.forEach(e=>e(t))}function iT(t,e){if(!t)return null;let n=e?SP:JO;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(XO)}function n1(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function r1(t){return Object.getPrototypeOf(t.prototype).constructor}function i1(t){let e=r1(t.type),n=!0,r=[t];for(;e;){let i;if(gn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Ap(t.inputs),s.declaredInputs=Ap(t.declaredInputs),s.outputs=Ap(t.outputs);let a=i.hostBindings;a&&u1(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&a1(t,u),l&&c1(t,l),o1(t,i),oP(t.outputs,i.outputs),gn(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===i1&&(n=!1)}}e=Object.getPrototypeOf(e)}s1(r)}function o1(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function s1(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ya(i.hostAttrs,n=ya(n,i.hostAttrs))}}function Ap(t){return t===fi?{}:t===Vt?[]:t}function a1(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function c1(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function u1(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Tb(t,e,n){return t[e]=n}function Ar(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function l1(t,e,n,r){let i=Ar(t,e,n);return Ar(t,e+1,r)||i}function d1(t,e,n,r,i,o,s,a,u){let l=e.consts,h=am(e,t,4,s||null,a||null);YT()&&pb(e,n,h,So(l,u),YD),h.mergedAttrs=ya(h.mergedAttrs,h.attrs),cD(e,h);let p=h.tView=Qg(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function lg(t,e,n,r,i,o,s,a,u,l){let h=n+Ct,p=e.firstCreatePass?d1(h,e,t,r,i,o,s,a,u):e.data[h];Ca(p,!1);let m=f1(e,t,p,n);kg()&&rm(e,t,m,p),Aa(m,t);let y=cb(m,t,m,p);return t[h]=y,Zg(t,y),QO(y,p,t),Rg(p)&&Jg(e,t,p),u!=null&&QD(t,p,l),p}function h1(t,e,n,r,i,o,s,a){let u=ye(),l=Bt(),h=So(l.consts,o);return lg(u,l,t,e,n,r,i,h,s,a),h1}var f1=p1;function p1(t,e,n,r){return Og(!0),e[st].createComment("")}var Db=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var bb=new U("");var g1=(()=>{class t{static \u0275prov=B({token:t,providedIn:"root",factory:()=>new dg})}return t})(),dg=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function Ma(t){return!!t&&typeof t.then=="function"}function Cb(t){return!!t&&typeof t.subscribe=="function"}var Sb=new U("");function um(t){return In([{provide:Sb,multi:!0,useValue:t}])}var Ab=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=x(Sb,{optional:!0})??[];injector=x(He);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=at(this.injector,i);if(Ma(o))n.push(o);else if(Cb(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$l=new U("");function m1(){np(()=>{throw new j(600,!1)})}function y1(t){return t.isBoundToModule}var v1=10;var Ii=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=x(Fx);afterRenderManager=x(OD);zonelessEnabled=x(Vg);rootEffectScheduler=x(g1);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Ze;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=x(Ti).hasPendingTasks.pipe(se(n=>!n));constructor(){x(Fo,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=x(ot);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=He.NULL){_e(10);let o=n instanceof hb;if(!this._injector.get(Ab).done){let y="";throw new j(405,y)}let a;o?a=n:a=this._injector.get(Ul).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let u=y1(a)?void 0:this._injector.get(No),l=r||a.selector,h=a.create(i,[],l,u),p=h.location.nativeElement,m=h.injector.get(bb,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Zu(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),_e(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){_e(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(qg.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new j(101,!1);let n=te(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,te(n),this.afterTick.next(),_e(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ao,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<v1;)_e(14),this.synchronizeOnce(),_e(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)_1(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ml(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Zu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get($l,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Zu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new j(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Zu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function _1(t,e,n,r){if(!n&&!Ml(t))return;ib(t,e,n&&!r?0:1)}function I1(t,e,n,r){return Ar(t,Pl(),n)?e+Dg(n)+r:Pr}function Gu(t,e){return t<<17|e<<2}function Ei(t){return t>>17&32767}function E1(t){return(t&2)==2}function w1(t,e){return t&131071|e<<17}function hg(t){return t|2}function Mo(t){return(t&131068)>>2}function Rp(t,e){return t&-131069|e<<2}function T1(t){return(t&1)===1}function fg(t){return t|1}function D1(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ei(s),u=Mo(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Da(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=Ei(t[a+1]);t[r+1]=Gu(m,a),m!==0&&(t[m+1]=Rp(t[m+1],r)),t[a+1]=w1(t[a+1],r)}else t[r+1]=Gu(a,0),a!==0&&(t[a+1]=Rp(t[a+1],r)),a=r;else t[r+1]=Gu(u,0),a===0?a=r:t[u+1]=Rp(t[u+1],r),u=r;l&&(t[r+1]=hg(t[r+1])),oT(t,h,r,!0),oT(t,h,r,!1),b1(e,h,t,r,o),s=Gu(a,u),o?e.classBindings=s:e.styleBindings=s}function b1(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Da(o,e)>=0&&(n[r+1]=fg(n[r+1]))}function oT(t,e,n,r){let i=t[n+1],o=e===null,s=r?Ei(i):Mo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];C1(u,e)&&(a=!0,t[s+1]=r?fg(l):hg(l)),s=r?Ei(l):Mo(l)}a&&(t[n+1]=r?hg(i):fg(i))}function C1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Da(t,e)>=0:!1}function S1(t,e,n){let r=ye(),i=Pl();if(Ar(r,i,e)){let o=Bt(),s=dx();Mk(o,s,r,t,e,r[st],n,!1)}return S1}function sT(t,e,n,r,i){Xg(e,t,n,i?"class":"style",r)}function A1(t,e){return R1(t,e,null,!0),A1}function R1(t,e,n,r){let i=ye(),o=Bt(),s=ix(2);if(o.firstUpdatePass&&M1(o,t,s,r),e!==Pr&&Ar(i,s,e)){let a=o.data[wi()];L1(o,a,i,i[st],t,i[s+1]=F1(e,n),r,s)}}function N1(t,e){return e>=t.expandoStartIndex}function M1(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[wi()],s=N1(t,n);V1(o,r)&&e===null&&!s&&(e=!1),e=P1(i,o,e,r),D1(i,o,e,n,s,r)}}function P1(t,e,n,r){let i=cx(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Np(null,t,e,n,r),n=wa(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Np(i,t,e,n,r),o===null){let u=x1(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Np(null,t,e,u[1],r),u=wa(u,e.attrs,r),k1(t,e,r,u))}else o=O1(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function x1(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Mo(r)!==0)return t[Ei(r)]}function k1(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ei(i)]=r}function O1(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=wa(r,s,n)}return wa(r,e.attrs,n)}function Np(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=wa(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function wa(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),DP(t,s,n?!0:e[++o]))}return t===void 0?null:t}function L1(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=T1(l)?aT(u,e,n,i,Mo(l),s):void 0;if(!El(h)){El(o)||E1(l)&&(o=aT(u,null,n,i,a,s));let p=zT(wi(),n);eO(r,s,p,i,o)}}function aT(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Pr&&(m=p?Vt:void 0);let y=p?Ip(m,r):h===r?m:void 0;if(l&&!El(y)&&(y=Ip(u,r)),El(y)&&(a=y,s))return a;let w=t[i+1];i=s?Ei(w):Mo(w)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Ip(u,r))}return a}function El(t){return t!==void 0}function F1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=bt(Gg(t)))),t}function V1(t,e){return(t.flags&(e?8:16))!==0}var pg=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function Mp(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function j1(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=t.at(o),h=e[o],p=Mp(o,l,o,h,n);if(p!==0){p<0&&t.updateValue(o,h),o++;continue}let m=t.at(s),y=e[u],w=Mp(s,m,u,y,n);if(w!==0){w<0&&t.updateValue(s,y),s--,u--;continue}let R=n(o,l),N=n(s,m),O=n(o,h);if(Object.is(O,N)){let $=n(u,y);Object.is($,R)?(t.swap(o,s),t.updateValue(s,y),u--,s--):t.move(s,o),t.updateValue(o,h),o++;continue}if(r??=new wl,i??=uT(t,o,s,n),gg(t,r,o,O))t.updateValue(o,h),o++,s++;else if(i.has(O))r.set(R,t.detach(o)),s--;else{let $=t.create(o,e[o]);t.attach(o,$),o++,s++}}for(;o<=u;)cT(t,r,n,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let h=t.at(o),p=l.value,m=Mp(o,h,o,p,n);if(m!==0)m<0&&t.updateValue(o,p),o++,l=u.next();else{r??=new wl,i??=uT(t,o,s,n);let y=n(o,p);if(gg(t,r,o,y))t.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(y))t.attach(o,t.create(o,p)),o++,s++,l=u.next();else{let w=n(o,h);r.set(w,t.detach(o)),s--}}}for(;!l.done;)cT(t,r,n,t.length,l.value),l=u.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(u=>{t.destroy(u)})}function gg(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function cT(t,e,n,r,i){if(gg(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function uT(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var wl=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function PW(t,e){Mr("NgControlFlow");let n=ye(),r=Pl(),i=n[r]!==Pr?n[r]:-1,o=i!==-1?Tl(n,Ct+i):void 0,s=0;if(Ar(n,r,t)){let a=te(null);try{if(o!==void 0&&lb(o,s),t!==-1){let u=Ct+t,l=Tl(n,u),h=_g(n[ne],u),p=Ea(l,h.tView.ssrId),m=Ll(n,h,e,{dehydratedView:p});jl(l,m,s,va(h,p))}}finally{te(a)}}else if(o!==void 0){let a=ub(o,s);a!==void 0&&(a[$e]=e)}}var mg=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-yt}};function xW(t){return t}var yg=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function kW(t,e,n,r,i,o,s,a,u,l,h,p,m){Mr("NgControlFlow");let y=ye(),w=Bt(),R=u!==void 0,N=ye(),O=a?s.bind(N[en][$e]):s,$=new yg(R,O);N[Ct+t]=$,lg(y,w,t+1,e,n,r,i,So(w.consts,o)),R&&lg(y,w,t+2,u,l,h,p,So(w.consts,m))}var vg=class extends pg{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-yt}at(e){return this.getLView(e)[$e].$implicit}attach(e,n){let r=n[ga];this.needsIndexUpdate||=e!==this.length,jl(this.lContainer,n,e,va(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,U1(this.lContainer,e)}create(e,n){let r=Ea(this.lContainer,this.templateTNode.tView.ssrId),i=Ll(this.hostLView,this.templateTNode,new mg(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Fl(e[ne],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[$e].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[$e].$index=e}getLView(e){return B1(this.lContainer,e)}};function OW(t){let e=te(null),n=wi();try{let r=ye(),i=r[ne],o=r[n],s=n+1,a=Tl(r,s);if(o.liveCollection===void 0){let l=_g(i,s);o.liveCollection=new vg(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(j1(u,t,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=Pl(),h=u.length===0;if(Ar(r,l,h)){let p=n+2,m=Tl(r,p);if(h){let y=_g(i,p),w=Ea(m,y.tView.ssrId),R=Ll(r,y,void 0,{dehydratedView:w});jl(m,R,0,va(y,w))}else lb(m,0)}}}finally{te(e)}}function Tl(t,e){return t[e]}function U1(t,e){return _a(t,e)}function B1(t,e){return ub(t,e)}function _g(t,e){return Ng(t,e)}function Rb(t,e,n,r){let i=ye(),o=Bt(),s=Ct+t,a=i[st],u=o.firstCreatePass?mb(s,o,i,e,YD,YT(),n,r):o.data[s],l=$1(o,i,u,a,e,t);i[s]=l;let h=Rg(u);return Ca(u,!0),zD(a,l,u),!ZD(u)&&kg()&&rm(o,i,l,u),(QP()===0||h)&&Aa(l,i),YP(),h&&(Jg(o,i,u),VD(o,u,i)),r!==null&&QD(i,u),Rb}function Nb(){let t=$t();JT()?nx():(t=t.parent,Ca(t,!1));let e=t;XP(e)&&ex(),ZP();let n=Bt();return n.firstCreatePass&&yb(n,e),e.classesWithoutHost!=null&&gx(e)&&sT(n,e,ye(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&mx(e)&&sT(n,e,ye(),e.stylesWithoutHost,!1),Nb}function lm(t,e,n,r){return Rb(t,e,n,r),Nb(),lm}var $1=(t,e,n,r,i,o)=>(Og(!0),$D(r,i,hx()));function LW(){return ye()}var ui=void 0;function H1(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var z1=["en",[["a","p"],["AM","PM"],ui],[["AM","PM"],ui,ui],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ui,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ui,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ui,"{1} 'at' {0}",ui],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",H1],Pp={};function Ht(t){let e=q1(t),n=lT(e);if(n)return n;let r=e.split("-")[0];if(n=lT(r),n)return n;if(r==="en")return z1;throw new j(701,!1)}function lT(t){return t in Pp||(Pp[t]=ua.ng&&ua.ng.common&&ua.ng.common.locales&&ua.ng.common.locales[t]),Pp[t]}var Oe=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Oe||{});function q1(t){return t.toLowerCase().replace(/_/g,"-")}var Dl="en-US";var W1=Dl;function G1(t){typeof t=="string"&&(W1=t.toLowerCase().replace(/_/g,"-"))}function dT(t,e,n){return function r(i){if(i===Function)return n;let o=Oo(t)?yn(t.index,e):e;om(o,5);let s=e[$e],a=hT(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=hT(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function hT(t,e,n,r){let i=te(null);try{return _e(6,e,n),n(r)!==!1}catch(o){return K1(t,o),!1}finally{_e(7,e,n),te(i)}}function K1(t,e){let n=t[Do],r=n?n.get(vn,null):null;r&&r.handleError(e)}function fT(t,e,n,r,i,o){let s=e[n],a=e[ne],l=a.data[n].outputs[r],h=s[l],p=a.firstCreatePass?QT(a):null,m=KT(e),y=h.subscribe(o),w=m.length;m.push(o,y),p&&p.push(i,t.index,w,-(w+1))}function Mb(t,e,n,r){let i=ye(),o=Bt(),s=$t();return Y1(o,i,i[st],s,t,e,r),Mb}function Q1(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[il],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function Y1(t,e,n,r,i,o,s){let a=Rg(r),l=t.firstCreatePass?QT(t):null,h=KT(e),p=!0;if(r.type&3||s){let m=Qn(r,e),y=s?s(m):m,w=h.length,R=s?O=>s(mn(O[r.index])):r.index,N=null;if(!s&&a&&(N=Q1(t,e,i,r.index)),N!==null){let O=N.__ngLastListenerFn__||N;O.__ngNextListenerFn__=o,N.__ngLastListenerFn__=o,p=!1}else{o=dT(r,e,o),tk(e,y,i,o);let O=n.listen(y,i,o);h.push(o,O),l&&l.push(i,R,w,w+1)}}else o=dT(r,e,o);if(p){let m=r.outputs?.[i],y=r.hostDirectiveOutputs?.[i];if(y&&y.length)for(let w=0;w<y.length;w+=2){let R=y[w],N=y[w+1];fT(r,e,R,N,i,o)}if(m&&m.length)for(let w of m)fT(r,e,w,i,i,o)}}function FW(t=1){return lx(t)}function VW(t,e=""){let n=ye(),r=Bt(),i=t+Ct,o=r.firstCreatePass?am(r,i,1,e,null):r.data[i],s=Z1(r,n,o,e,t);n[i]=s,kg()&&rm(r,n,s,o),Ca(o,!1)}var Z1=(t,e,n,r,i)=>(Og(!0),_k(e[st],r));function J1(t){return Pb("",t,""),J1}function Pb(t,e,n){let r=ye(),i=I1(r,t,e,n);return i!==Pr&&X1(r,wi(),i),Pb}function X1(t,e,n){let r=zT(e,t);Ik(t[st],r,n)}function eL(t,e,n){let r=Bt();if(r.firstCreatePass){let i=gn(t);Ig(n,r.data,r.blueprint,i,!0),Ig(e,r.data,r.blueprint,i,!1)}}function Ig(t,e,n,r,i){if(t=mt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Ig(t[o],e,n,r,i);else{let o=Bt(),s=ye(),a=$t(),u=To(t)?t:mt(t.provide),l=OT(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(To(t)||!t.multi){let y=new vi(l,i,Pt),w=kp(u,e,i?h:h+m,p);w===-1?(Wp(hl(a,s),o,u),xp(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[w]=y,s[w]=y)}else{let y=kp(u,e,h+m,p),w=kp(u,e,h,h+m),R=y>=0&&n[y],N=w>=0&&n[w];if(i&&!N||!i&&!R){Wp(hl(a,s),o,u);let O=rL(i?nL:tL,n.length,i,r,l);!i&&N&&(n[w].providerFactory=O),xp(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(O),s.push(O)}else{let O=xb(n[i?w:y],l,!i&&r);xp(o,t,y>-1?y:w,O)}!i&&r&&N&&n[w].componentProviders++}}}function xp(t,e,n,r){let i=To(e),o=PP(e);if(i||o){let u=(o?mt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function xb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function kp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function tL(t,e,n,r,i){return Eg(this.multi,[])}function nL(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=fl(r,r[ne],this.providerFactory.index,i);s=u.slice(0,a),Eg(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],Eg(o,s);return s}function Eg(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function rL(t,e,n,r,i){let o=new vi(t,n,Pt);return o.multi=[],o.index=e,o.componentProviders=0,xb(o,i,r&&!n),o}function jW(t,e=[]){return n=>{n.providersResolver=(r,i)=>eL(r,i?i(t):t,e)}}function UW(t,e,n,r){return iL(ye(),eD(),t,e,n,r)}function kb(t,e){let n=t[e];return n===Pr?void 0:n}function iL(t,e,n,r,i,o){let s=e+n;return Ar(t,s,i)?Tb(t,s+1,o?r.call(o,i):r(i)):kb(t,s+1)}function oL(t,e,n,r,i,o,s){let a=e+n;return l1(t,a,i,o)?Tb(t,a+2,s?r.call(s,i,o):r(i,o)):kb(t,a+2)}function BW(t,e){let n=Bt(),r,i=t+Ct;n.firstCreatePass?(r=sL(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=hi(r.type,!0)),s,a=Tt(Pt);try{let u=dl(!1),l=o();return dl(u),qP(n,ye(),i,l),l}finally{Tt(a)}}function sL(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function $W(t,e,n,r){let i=t+Ct,o=ye(),s=zP(o,i);return aL(o,i)?oL(o,eD(),e,s.transform,n,r,s):s.transform(n,r)}function aL(t,e){return t[ne].data[e].pure}var Po=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Ob=new Po("19.2.13"),wg=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Lb=(()=>{class t{compileModuleSync(n){return new ug(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=MT(n),o=UD(i.declarations).reduce((s,a)=>{let u=pi(a);return u&&s.push(new Ro(u)),s},[]);return new wg(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var cL=(()=>{class t{zone=x(fe);changeDetectionScheduler=x(_i);applicationRef=x(Ii);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),uL=new U("",{factory:()=>!1});function Fb({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new fe(ve(F({},Vb()),{scheduleInRootZone:n})),[{provide:fe,useFactory:t},{provide:fa,multi:!0,useFactory:()=>{let r=x(cL,{optional:!0});return()=>r.initialize()}},{provide:fa,multi:!0,useFactory:()=>{let r=x(lL);return()=>{r.initialize()}}},e===!0?{provide:ED,useValue:!0}:[],{provide:wD,useValue:n??ID}]}function HW(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=Fb({ngZoneFactory:()=>{let i=Vb(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Mr("NgZone_CoalesceEvent"),new fe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return In([{provide:uL,useValue:!0},{provide:Vg,useValue:!1},r])}function Vb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var lL=(()=>{class t{subscription=new Ne;initialized=!1;zone=x(fe);pendingTasks=x(Ti);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{fe.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{fe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var dL=(()=>{class t{appRef=x(Ii);taskService=x(Ti);ngZone=x(fe);zonelessEnabled=x(Vg);tracing=x(Fo,{optional:!0});disableScheduling=x(ED,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ne;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(gl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(wD,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Zp||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?zw:TD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(gl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,zw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function hL(){return typeof $localize<"u"&&$localize.locale||Dl}var Hl=new U("",{providedIn:"root",factory:()=>x(Hl,ee.Optional|ee.SkipSelf)||hL()});var Tg=new U(""),fL=new U("");function ca(t){return!t.moduleRef}function pL(t){let e=ca(t)?t.r3Injector:t.moduleRef.injector,n=e.get(fe);return n.run(()=>{ca(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(vn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),ca(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Tg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Tg);s.add(o),t.moduleRef.onDestroy(()=>{Zu(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return mL(r,n,()=>{let o=e.get(Ab);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Hl,Dl);if(G1(s||Dl),!e.get(fL,!0))return ca(t)?e.get(Ii):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(ca(t)){let u=e.get(Ii);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return gL(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function gL(t,e){let n=t.injector.get(Ii);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new j(-403,!1);e.push(t)}function mL(t,e,n){try{let r=n();return Ma(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Ju=null;function yL(t=[],e){return He.create({name:e,providers:[{provide:Sl,useValue:"platform"},{provide:Tg,useValue:new Set([()=>Ju=null])},...t]})}function vL(t=[]){if(Ju)return Ju;let e=yL(t);return Ju=e,m1(),_L(e),e}function _L(t){let e=t.get(Hg,null);at(t,()=>{e?.forEach(n=>n())})}function dm(){return!1}var Pa=(()=>{class t{static __NG_ELEMENT_ID__=IL}return t})();function IL(t){return EL($t(),ye(),(t&16)===16)}function EL(t,e,n){if(Oo(t)&&!n){let r=yn(t.index,e);return new Ia(r,r)}else if(t.type&175){let r=e[en];return new Ia(r,e)}return null}function jb(t){_e(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=vL(r),o=[Fb({}),{provide:_i,useExisting:dL},...n||[]],s=new Il({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return pL({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{_e(9)}}function Ub(t){return op(t)}function Bb(t,e){return tp(t,e?.equal)}var pT=class{[Yt];constructor(e){this[Yt]=e}destroy(){this[Yt].destroy()}};function $b(t){let e=pi(t);if(!e)return null;let n=new Ro(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var qe=new U("");var qb=null;function Yn(){return qb}function hm(t){qb??=t}var xa=class{},ka=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>x(Wb),providedIn:"platform"})}return t})(),fm=new U(""),Wb=(()=>{class t extends ka{_location;_history;_doc=x(qe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Yn().getBaseHref(this._doc)}onPopState(n){let r=Yn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Yn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function zl(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function Hb(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function nn(t){return t&&t[0]!=="?"?`?${t}`:t}var Zn=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>x(Wl),providedIn:"root"})}return t})(),ql=new U(""),Wl=(()=>{class t extends Zn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return zl(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+nn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+nn(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+nn(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(G(ka),G(ql,8))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kr=(()=>{class t{_subject=new Ze;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=DL(Hb(zb(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+nn(r))}normalize(n){return t.stripTrailingSlash(TL(this._basePath,zb(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+nn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+nn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=nn;static joinWithSlash=zl;static stripTrailingSlash=Hb;static \u0275fac=function(r){return new(r||t)(G(Zn))};static \u0275prov=B({token:t,factory:()=>wL(),providedIn:"root"})}return t})();function wL(){return new kr(G(Zn))}function TL(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function zb(t){return t.replace(/\/index.html$/,"")}function DL(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var vm=(()=>{class t extends Zn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=zl(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+nn(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+nn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(G(ka),G(ql,8))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})();var ct=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(ct||{}),Ie=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Ie||{}),St=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(St||{}),Xn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Yb(t){return Ht(t)[Oe.LocaleId]}function Zb(t,e,n){let r=Ht(t),i=[r[Oe.DayPeriodsFormat],r[Oe.DayPeriodsStandalone]],o=zt(i,e);return zt(o,n)}function Jb(t,e,n){let r=Ht(t),i=[r[Oe.DaysFormat],r[Oe.DaysStandalone]],o=zt(i,e);return zt(o,n)}function Xb(t,e,n){let r=Ht(t),i=[r[Oe.MonthsFormat],r[Oe.MonthsStandalone]],o=zt(i,e);return zt(o,n)}function eC(t,e){let r=Ht(t)[Oe.Eras];return zt(r,e)}function Oa(t,e){let n=Ht(t);return zt(n[Oe.DateFormat],e)}function La(t,e){let n=Ht(t);return zt(n[Oe.TimeFormat],e)}function Fa(t,e){let r=Ht(t)[Oe.DateTimeFormat];return zt(r,e)}function Va(t,e){let n=Ht(t),r=n[Oe.NumberSymbols][e];if(typeof r>"u"){if(e===Xn.CurrencyDecimal)return n[Oe.NumberSymbols][Xn.Decimal];if(e===Xn.CurrencyGroup)return n[Oe.NumberSymbols][Xn.Group]}return r}function tC(t){if(!t[Oe.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Oe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function nC(t){let e=Ht(t);return tC(e),(e[Oe.ExtraData][2]||[]).map(r=>typeof r=="string"?pm(r):[pm(r[0]),pm(r[1])])}function rC(t,e,n){let r=Ht(t);tC(r);let i=[r[Oe.ExtraData][0],r[Oe.ExtraData][1]],o=zt(i,e)||[];return zt(o,n)||[]}function zt(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function pm(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var CL=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Gl={},SL=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function iC(t,e,n,r){let i=LL(t);e=Jn(n,e)||e;let s=[],a;for(;e;)if(a=SL.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=sC(r,u),i=OL(i,r));let l="";return s.forEach(h=>{let p=xL(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Jl(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Jn(t,e){let n=Yb(t);if(Gl[n]??={},Gl[n][e])return Gl[n][e];let r="";switch(e){case"shortDate":r=Oa(t,St.Short);break;case"mediumDate":r=Oa(t,St.Medium);break;case"longDate":r=Oa(t,St.Long);break;case"fullDate":r=Oa(t,St.Full);break;case"shortTime":r=La(t,St.Short);break;case"mediumTime":r=La(t,St.Medium);break;case"longTime":r=La(t,St.Long);break;case"fullTime":r=La(t,St.Full);break;case"short":let i=Jn(t,"shortTime"),o=Jn(t,"shortDate");r=Kl(Fa(t,St.Short),[i,o]);break;case"medium":let s=Jn(t,"mediumTime"),a=Jn(t,"mediumDate");r=Kl(Fa(t,St.Medium),[s,a]);break;case"long":let u=Jn(t,"longTime"),l=Jn(t,"longDate");r=Kl(Fa(t,St.Long),[u,l]);break;case"full":let h=Jn(t,"fullTime"),p=Jn(t,"fullDate");r=Kl(Fa(t,St.Full),[h,p]);break}return r&&(Gl[n][e]=r),r}function Kl(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function rn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function AL(t,e){return rn(t,3).substring(0,e)}function Fe(t,e,n=0,r=!1,i=!1){return function(o,s){let a=RL(t,o);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return AL(a,e);let u=Va(s,Xn.MinusSign);return rn(a,e,u,r,i)}}function RL(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function De(t,e,n=ct.Format,r=!1){return function(i,o){return NL(i,o,t,e,n,r)}}function NL(t,e,n,r,i,o){switch(n){case 2:return Xb(e,i,r)[t.getMonth()];case 1:return Jb(e,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let l=nC(e),h=rC(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[y,w]=m,R=s>=y.hours&&a>=y.minutes,N=s<w.hours||s===w.hours&&a<w.minutes;if(y.hours<w.hours){if(R&&N)return!0}else if(R||N)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return Zb(e,i,r)[s<12?0:1];case 3:return eC(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function Ql(t){return function(e,n,r){let i=-1*r,o=Va(n,Xn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+rn(s,2,o)+rn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+rn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+rn(s,2,o)+":"+rn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+rn(s,2,o)+":"+rn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var ML=0,Zl=4;function PL(t){let e=Jl(t,ML,1).getDay();return Jl(t,0,1+(e<=Zl?Zl:Zl+7)-e)}function oC(t){let e=t.getDay(),n=e===0?-3:Zl-e;return Jl(t.getFullYear(),t.getMonth(),t.getDate()+n)}function gm(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=oC(n),s=PL(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return rn(i,t,Va(r,Xn.MinusSign))}}function Yl(t,e=!1){return function(n,r){let o=oC(n).getFullYear();return rn(o,t,Va(r,Xn.MinusSign),e)}}var mm={};function xL(t){if(mm[t])return mm[t];let e;switch(t){case"G":case"GG":case"GGG":e=De(3,Ie.Abbreviated);break;case"GGGG":e=De(3,Ie.Wide);break;case"GGGGG":e=De(3,Ie.Narrow);break;case"y":e=Fe(0,1,0,!1,!0);break;case"yy":e=Fe(0,2,0,!0,!0);break;case"yyy":e=Fe(0,3,0,!1,!0);break;case"yyyy":e=Fe(0,4,0,!1,!0);break;case"Y":e=Yl(1);break;case"YY":e=Yl(2,!0);break;case"YYY":e=Yl(3);break;case"YYYY":e=Yl(4);break;case"M":case"L":e=Fe(1,1,1);break;case"MM":case"LL":e=Fe(1,2,1);break;case"MMM":e=De(2,Ie.Abbreviated);break;case"MMMM":e=De(2,Ie.Wide);break;case"MMMMM":e=De(2,Ie.Narrow);break;case"LLL":e=De(2,Ie.Abbreviated,ct.Standalone);break;case"LLLL":e=De(2,Ie.Wide,ct.Standalone);break;case"LLLLL":e=De(2,Ie.Narrow,ct.Standalone);break;case"w":e=gm(1);break;case"ww":e=gm(2);break;case"W":e=gm(1,!0);break;case"d":e=Fe(2,1);break;case"dd":e=Fe(2,2);break;case"c":case"cc":e=Fe(7,1);break;case"ccc":e=De(1,Ie.Abbreviated,ct.Standalone);break;case"cccc":e=De(1,Ie.Wide,ct.Standalone);break;case"ccccc":e=De(1,Ie.Narrow,ct.Standalone);break;case"cccccc":e=De(1,Ie.Short,ct.Standalone);break;case"E":case"EE":case"EEE":e=De(1,Ie.Abbreviated);break;case"EEEE":e=De(1,Ie.Wide);break;case"EEEEE":e=De(1,Ie.Narrow);break;case"EEEEEE":e=De(1,Ie.Short);break;case"a":case"aa":case"aaa":e=De(0,Ie.Abbreviated);break;case"aaaa":e=De(0,Ie.Wide);break;case"aaaaa":e=De(0,Ie.Narrow);break;case"b":case"bb":case"bbb":e=De(0,Ie.Abbreviated,ct.Standalone,!0);break;case"bbbb":e=De(0,Ie.Wide,ct.Standalone,!0);break;case"bbbbb":e=De(0,Ie.Narrow,ct.Standalone,!0);break;case"B":case"BB":case"BBB":e=De(0,Ie.Abbreviated,ct.Format,!0);break;case"BBBB":e=De(0,Ie.Wide,ct.Format,!0);break;case"BBBBB":e=De(0,Ie.Narrow,ct.Format,!0);break;case"h":e=Fe(3,1,-12);break;case"hh":e=Fe(3,2,-12);break;case"H":e=Fe(3,1);break;case"HH":e=Fe(3,2);break;case"m":e=Fe(4,1);break;case"mm":e=Fe(4,2);break;case"s":e=Fe(5,1);break;case"ss":e=Fe(5,2);break;case"S":e=Fe(6,1);break;case"SS":e=Fe(6,2);break;case"SSS":e=Fe(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Ql(0);break;case"ZZZZZ":e=Ql(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ql(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ql(2);break;default:return null}return mm[t]=e,e}function sC(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function kL(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function OL(t,e,n){let i=t.getTimezoneOffset(),o=sC(e,i);return kL(t,-1*(o-i))}function LL(t){if(Gb(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Jl(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(CL))return FL(r)}let e=new Date(t);if(!Gb(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function FL(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function Gb(t){return t instanceof Date&&!isNaN(t.valueOf())}var ym=/\s+/,Kb=[],VL=(()=>{class t{_ngEl;_renderer;initialClasses=Kb;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(ym):Kb}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(ym):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(ym).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(Pt(Sa),Pt(Bl))};static \u0275dir=jo({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var jL=(()=>{class t{_viewContainer;_context=new Xl;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Qb(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Qb(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Pt(Ra),Pt(sm))};static \u0275dir=jo({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Xl=class{$implicit=null;ngIf=null};function Qb(t,e){if(t&&!t.createEmbeddedView)throw new j(2020,!1)}function UL(t,e){return new j(2100,!1)}var BL="mediumDate",aC=new U(""),cC=new U(""),$L=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??BL,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return iC(n,s,o||this.locale,a)}catch(s){throw UL(t,s.message)}}static \u0275fac=function(r){return new(r||t)(Pt(Hl,16),Pt(aC,24),Pt(cC,24))};static \u0275pipe=Ib({name:"date",type:t,pure:!0})}return t})();var uC=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Vo({type:t});static \u0275inj=xo({})}return t})();function _m(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Im="browser",lC="server";function ed(t){return t===lC}var ja=class{};var dC=(()=>{class t{static \u0275prov=B({token:t,providedIn:"root",factory:()=>new Em(x(qe),window)})}return t})(),Em=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=qL(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function qL(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var rd=new U(""),bm=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(G(rd),G(fe))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),Ua=class{_doc;constructor(e){this._doc=e}manager},td="ng-app-id";function hC(t){for(let e of t)e.remove()}function fC(t,e){let n=e.createElement("style");return n.textContent=t,n}function WL(t,e,n,r){let i=t.head?.querySelectorAll(`style[${td}="${e}"],link[${td}="${e}"]`);if(i)for(let o of i)o.removeAttribute(td),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Tm(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Cm=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=ed(o),WL(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,fC);r?.forEach(i=>this.addUsage(i,this.external,Tm))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(hC(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])hC(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,fC(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Tm(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(td,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(G(qe),G($g),G(zg,8),G(Nr))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),wm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Sm=/%COMP%/g;var gC="%COMP%",GL=`_nghost-${gC}`,KL=`_ngcontent-${gC}`,QL=!0,YL=new U("",{providedIn:"root",factory:()=>QL});function ZL(t){return KL.replace(Sm,t)}function JL(t){return GL.replace(Sm,t)}function mC(t,e){return e.map(n=>n.replace(Sm,t))}var Am=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,u,l=null,h=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=ed(a),this.defaultRenderer=new Ba(n,s,u,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===_n.ShadowDom&&(r=ve(F({},r),{encapsulation:_n.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof nd?i.applyToHost(n):i instanceof $a&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case _n.Emulated:o=new nd(u,l,r,this.appId,h,s,a,p,m);break;case _n.ShadowDom:return new Dm(u,l,n,r,s,a,this.nonce,p,m);default:o=new $a(u,l,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(G(bm),G(Cm),G($g),G(YL),G(qe),G(Nr),G(fe),G(zg),G(Fo,8))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),Ba=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(wm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(pC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(pC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=wm[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=wm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Wn.DashCase|Wn.Important)?e.style.setProperty(n,r,i&Wn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Wn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Yn().getGlobalEventTarget(this.doc,e),!e))throw new j(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function pC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Dm=class extends Ba{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=mC(i.id,h);for(let m of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=Tm(m,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},$a=class extends Ba{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?mC(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},nd=class extends $a{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,n,r,o,s,a,u,l,h),this.contentAttr=ZL(h),this.hostAttr=JL(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var id=class t extends xa{supportsDOMEvents=!0;static makeCurrent(){hm(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=XL();return n==null?null:eF(n)}resetBaseElement(){Ha=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return _m(document.cookie,e)}},Ha=null;function XL(){return Ha=Ha||document.head.querySelector("base"),Ha?Ha.getAttribute("href"):null}function eF(t){return new URL(t,document.baseURI).pathname}var tF=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),vC=(()=>{class t extends Ua{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(G(qe))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),yC=["alt","control","meta","shift"],nF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rF={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},_C=(()=>{class t extends Ua{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yn().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),yC.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=nF[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),yC.forEach(s=>{if(s!==i){let a=rF[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(G(qe))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})();function iF(t,e){return jb(F({rootComponent:t},oF(e)))}function oF(t){return{appProviders:[...lF,...t?.providers??[]],platformProviders:uF}}function sF(){id.makeCurrent()}function aF(){return new vn}function cF(){return PD(document),document}var uF=[{provide:Nr,useValue:Im},{provide:Hg,useValue:sF,multi:!0},{provide:qe,useFactory:cF}];var lF=[{provide:Sl,useValue:"root"},{provide:vn,useFactory:aF},{provide:rd,useClass:vC,multi:!0,deps:[qe]},{provide:rd,useClass:_C,multi:!0,deps:[qe]},Am,Cm,bm,{provide:Ao,useExisting:Am},{provide:ja,useClass:tF},[]];var IC=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(G(qe))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var X="primary",nc=Symbol("RouteTitle"),xm=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ci(t){return new xm(t)}function AC(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function hF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!En(t[n],e[n]))return!1;return!0}function En(t,e){let n=t?km(t):void 0,r=e?km(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!RC(t[i],e[i]))return!1;return!0}function km(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function RC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function NC(t){return t.length>0?t[t.length-1]:null}function Vr(t){return yp(t)?t:Ma(t)?Se(Promise.resolve(t)):W(t)}var fF={exact:PC,subset:xC},MC={exact:pF,subset:gF,ignored:()=>!0};function EC(t,e,n){return fF[n.paths](t.root,e.root,n.matrixParams)&&MC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function pF(t,e){return En(t,e)}function PC(t,e,n){if(!Di(t.segments,e.segments)||!ad(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!PC(t.children[r],e.children[r],n))return!1;return!0}function gF(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>RC(t[n],e[n]))}function xC(t,e,n){return kC(t,e,e.segments,n)}function kC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Di(i,n)||e.hasChildren()||!ad(i,n,r))}else if(t.segments.length===n.length){if(!Di(t.segments,n)||!ad(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!xC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Di(t.segments,i)||!ad(t.segments,i,r)||!t.children[X]?!1:kC(t.children[X],e,o,r)}}function ad(t,e,n){return e.every((r,i)=>MC[n](t[i].parameters,r.parameters))}var Tn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new pe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ci(this.queryParams),this._queryParamMap}toString(){return vF.serialize(this)}},pe=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cd(this)}},Or=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ci(this.parameters),this._parameterMap}toString(){return LC(this)}};function mF(t,e){return Di(t,e)&&t.every((n,r)=>En(n.parameters,e[r].parameters))}function Di(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function yF(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===X&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==X&&(n=n.concat(e(i,r)))}),n}var Si=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>new Lr,providedIn:"root"})}return t})(),Lr=class{parse(e){let n=new Lm(e);return new Tn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${za(e.root,!0)}`,r=EF(e.queryParams),i=typeof e.fragment=="string"?`#${_F(e.fragment)}`:"";return`${n}${r}${i}`}},vF=new Lr;function cd(t){return t.segments.map(e=>LC(e)).join("/")}function za(t,e){if(!t.hasChildren())return cd(t);if(e){let n=t.children[X]?za(t.children[X],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==X&&r.push(`${i}:${za(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=yF(t,(r,i)=>i===X?[za(t.children[X],!1)]:[`${i}:${za(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[X]!=null?`${cd(t)}/${n[0]}`:`${cd(t)}/(${n.join("//")})`}}function OC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function od(t){return OC(t).replace(/%3B/gi,";")}function _F(t){return encodeURI(t)}function Om(t){return OC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ud(t){return decodeURIComponent(t)}function wC(t){return ud(t.replace(/\+/g,"%20"))}function LC(t){return`${Om(t.path)}${IF(t.parameters)}`}function IF(t){return Object.entries(t).map(([e,n])=>`;${Om(e)}=${Om(n)}`).join("")}function EF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${od(n)}=${od(i)}`).join("&"):`${od(n)}=${od(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var wF=/^[^\/()?;#]+/;function Rm(t){let e=t.match(wF);return e?e[0]:""}var TF=/^[^\/()?;=#]+/;function DF(t){let e=t.match(TF);return e?e[0]:""}var bF=/^[^=?&#]+/;function CF(t){let e=t.match(bF);return e?e[0]:""}var SF=/^[^&#]+/;function AF(t){let e=t.match(SF);return e?e[0]:""}var Lm=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[X]=new pe(e,n)),r}parseSegment(){let e=Rm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new Or(ud(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=DF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Rm(this.remaining);i&&(r=i,this.capture(r))}e[ud(n)]=ud(r)}parseQueryParam(e){let n=CF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=AF(this.remaining);s&&(r=s,this.capture(r))}let i=wC(n),o=wC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Rm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=X);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[X]:new pe([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function FC(t){return t.segments.length>0?new pe([],{[X]:t}):t}function VC(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=VC(i);if(r===X&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new pe(t.segments,e);return RF(n)}function RF(t){if(t.numberOfChildren===1&&t.children[X]){let e=t.children[X];return new pe(t.segments.concat(e.segments),e.children)}return t}function zo(t){return t instanceof Tn}function jC(t,e,n=null,r=null){let i=UC(t);return BC(i,e,n,r)}function UC(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new pe(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=FC(r);return e??i}function BC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Nm(i,i,i,n,r);let o=NF(e);if(o.toRoot())return Nm(i,i,new pe([],{}),n,r);let s=MF(o,i,t),a=s.processChildren?Wa(s.segmentGroup,s.index,o.commands):HC(s.segmentGroup,s.index,o.commands);return Nm(i,s.segmentGroup,a,n,r)}function dd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ka(t){return typeof t=="object"&&t!=null&&t.outlets}function Nm(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=$C(t,e,n);let a=FC(VC(s));return new Tn(a,o,i)}function $C(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=$C(o,e,n)}),new pe(t.segments,r)}var hd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&dd(r[0]))throw new j(4003,!1);let i=r.find(Ka);if(i&&i!==NC(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function NF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new hd(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new hd(n,e,r)}var $o=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function MF(t,e,n){if(t.isAbsolute)return new $o(e,!0,0);if(!n)return new $o(e,!1,NaN);if(n.parent===null)return new $o(n,!0,0);let r=dd(t.commands[0])?0:1,i=n.segments.length-1+r;return PF(n,i,t.numberOfDoubleDots)}function PF(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new $o(r,!1,i-o)}function xF(t){return Ka(t[0])?t[0].outlets:{[X]:t}}function HC(t,e,n){if(t??=new pe([],{}),t.segments.length===0&&t.hasChildren())return Wa(t,e,n);let r=kF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new pe(t.segments.slice(0,r.pathIndex),{});return o.children[X]=new pe(t.segments.slice(r.pathIndex),t.children),Wa(o,0,i)}else return r.match&&i.length===0?new pe(t.segments,{}):r.match&&!t.hasChildren()?Fm(t,e,n):r.match?Wa(t,0,i):Fm(t,e,n)}function Wa(t,e,n){if(n.length===0)return new pe(t.segments,{});{let r=xF(n),i={};if(Object.keys(r).some(o=>o!==X)&&t.children[X]&&t.numberOfChildren===1&&t.children[X].segments.length===0){let o=Wa(t.children[X],e,n);return new pe(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=HC(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new pe(t.segments,i)}}function kF(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Ka(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!DC(u,l,s))return o;r+=2}else{if(!DC(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Fm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Ka(o)){let u=OF(o.outlets);return new pe(r,u)}if(i===0&&dd(n[0])){let u=t.segments[e];r.push(new Or(u.path,TC(n[0]))),i++;continue}let s=Ka(o)?o.outlets[X]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&dd(a)?(r.push(new Or(s,TC(a))),i+=2):(r.push(new Or(s,{})),i++)}return new pe(r,{})}function OF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Fm(new pe([],{}),0,r))}),e}function TC(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function DC(t,e,n){return t==n.path&&En(e,n.parameters)}var ld="imperative",ze=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ze||{}),kt=class{id;url;constructor(e,n){this.id=e,this.url=n}},Fr=class extends kt{type=ze.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},sn=class extends kt{urlAfterRedirects;type=ze.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},At=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(At||{}),qo=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(qo||{}),wn=class extends kt{reason;code;type=ze.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Dn=class extends kt{reason;code;type=ze.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Wo=class extends kt{error;target;type=ze.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Qa=class extends kt{urlAfterRedirects;state;type=ze.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fd=class extends kt{urlAfterRedirects;state;type=ze.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pd=class extends kt{urlAfterRedirects;state;shouldActivate;type=ze.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},gd=class extends kt{urlAfterRedirects;state;type=ze.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},md=class extends kt{urlAfterRedirects;state;type=ze.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yd=class{route;type=ze.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},vd=class{route;type=ze.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},_d=class{snapshot;type=ze.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Id=class{snapshot;type=ze.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ed=class{snapshot;type=ze.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wd=class{snapshot;type=ze.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Go=class{routerEvent;position;anchor;type=ze.Scroll;constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ya=class{},Ko=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function LF(t,e){return t.providers&&!t._injector&&(t._injector=Na(t.providers,e,`Route: ${t.path}`)),t._injector??e}function on(t){return t.outlet||X}function FF(t,e){let n=t.filter(r=>on(r)===e);return n.push(...t.filter(r=>on(r)!==e)),n}function rc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Td=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return rc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Ai(this.rootInjector)}},Ai=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Td(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(G(ot))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Dd=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Vm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Vm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=jm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return jm(e,this._root).map(n=>n.value)}};function Vm(t,e){if(t===e.value)return e;for(let n of e.children){let r=Vm(t,n);if(r)return r}return null}function jm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=jm(t,n);if(r.length)return r.unshift(e),r}return[]}var xt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Bo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Za=class extends Dd{snapshot;constructor(e,n){super(e),this.snapshot=n,Gm(this,e)}toString(){return this.snapshot.toString()}};function zC(t){let e=VF(t),n=new Je([new Or("",{})]),r=new Je({}),i=new Je({}),o=new Je({}),s=new Je(""),a=new er(n,r,o,s,i,X,t,e.root);return a.snapshot=e.root,new Za(new xt(a,[]),e)}function VF(t){let e={},n={},r={},i="",o=new bi([],e,r,i,n,X,t,null,{});return new Ja("",new xt(o,[]))}var er=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(se(l=>l[nc]))??W(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(e=>Ci(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(e=>Ci(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function bd(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),i?.data),t._resolvedData)}:r={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),t._resolvedData??{})},i&&WC(i)&&(r.resolve[nc]=i.title),r}var bi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[nc]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ci(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ci(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Ja=class extends Dd{url;constructor(e,n){super(n),this.url=e,Gm(this,n)}toString(){return qC(this._root)}};function Gm(t,e){e.value._routerState=t,e.children.forEach(n=>Gm(t,n))}function qC(t){let e=t.children.length>0?` { ${t.children.map(qC).join(", ")} } `:"";return`${t.value}${e}`}function Mm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,En(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),En(e.params,n.params)||t.paramsSubject.next(n.params),hF(e.url,n.url)||t.urlSubject.next(n.url),En(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Um(t,e){let n=En(t.params,e.params)&&mF(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Um(t.parent,e.parent))}function WC(t){return typeof t.title=="string"||t.title===null}var GC=new U(""),Km=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=X;activateEvents=new Dt;deactivateEvents=new Dt;attachEvents=new Dt;detachEvents=new Dt;routerOutletData=bD(void 0);parentContexts=x(Ai);location=x(Ra);changeDetector=x(Pa);inputBinder=x(ic,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Bm(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=jo({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Nl]})}return t})(),Bm=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===er?this.route:e===Ai?this.childContexts:e===GC?this.outletData:this.parent.get(e,n)}},ic=new U(""),Qm=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=sa([r.queryParams,r.params,r.data]).pipe(Mt(([o,s,a],u)=>(a=F(F(F({},o),s),a),u===0?W(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=$b(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),Ym=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=_b({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&lm(0,"router-outlet")},dependencies:[Km],encapsulation:2})}return t})();function Zm(t){let e=t.children&&t.children.map(Zm),n=e?ve(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==X&&(n.component=Ym),n}function jF(t,e,n){let r=Xa(t,e._root,n?n._root:void 0);return new Za(r,e)}function Xa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=UF(t,e,n);return new xt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Xa(t,a)),s}}let r=BF(e.value),i=e.children.map(o=>Xa(t,o));return new xt(r,i)}}function UF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Xa(t,r,i);return Xa(t,r)})}function BF(t){return new er(new Je(t.url),new Je(t.params),new Je(t.queryParams),new Je(t.fragment),new Je(t.data),t.outlet,t.component,t)}var Qo=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},KC="ngNavigationCancelingError";function Cd(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=zo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=QC(!1,At.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function QC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[KC]=!0,n.cancellationCode=e,n}function $F(t){return YC(t)&&zo(t.url)}function YC(t){return!!t&&t[KC]}var HF=(t,e,n,r)=>se(i=>(new $m(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),$m=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Mm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Bo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Bo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Bo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Bo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new wd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Id(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Mm(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Mm(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Sd=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ho=class{component;route;constructor(e,n){this.component=e,this.route=n}};function zF(t,e,n){let r=t._root,i=e?e._root:null;return qa(r,i,n,[r.value])}function qF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Zo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!ET(t)?t:e.get(t):r}function qa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Bo(e);return t.children.forEach(s=>{WF(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ga(a,n.getContext(s),i)),i}function WF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=GF(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Sd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?qa(t,e,a?a.children:null,r,i):qa(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ho(a.outlet.component,s))}else s&&Ga(e,a,i),i.canActivateChecks.push(new Sd(r)),o.component?qa(t,null,a?a.children:null,r,i):qa(t,null,n,r,i);return i}function GF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Di(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Di(t.url,e.url)||!En(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Um(t,e)||!En(t.queryParams,e.queryParams);case"paramsChange":default:return!Um(t,e)}}function Ga(t,e,n){let r=Bo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ga(s,e.children.getContext(o),n):Ga(s,null,n):Ga(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ho(e.outlet.component,i)):n.canDeactivateChecks.push(new Ho(null,i)):n.canDeactivateChecks.push(new Ho(null,i))}function oc(t){return typeof t=="function"}function KF(t){return typeof t=="boolean"}function QF(t){return t&&oc(t.canLoad)}function YF(t){return t&&oc(t.canActivate)}function ZF(t){return t&&oc(t.canActivateChild)}function JF(t){return t&&oc(t.canDeactivate)}function XF(t){return t&&oc(t.canMatch)}function ZC(t){return t instanceof Bn||t?.name==="EmptyError"}var sd=Symbol("INITIAL_VALUE");function Yo(){return Mt(t=>sa(t.map(e=>e.pipe(Hn(1),qu(sd)))).pipe(se(e=>{for(let n of e)if(n!==!0){if(n===sd)return sd;if(n===!1||eV(n))return n}return!0}),wt(e=>e!==sd),Hn(1)))}function eV(t){return zo(t)||t instanceof Qo}function tV(t,e){return ke(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?W(ve(F({},n),{guardsResult:!0})):nV(s,r,i,t).pipe(ke(a=>a&&KF(a)?rV(r,o,t,e):W(a)),se(a=>ve(F({},n),{guardsResult:a})))})}function nV(t,e,n,r){return Se(t).pipe(ke(i=>cV(i.component,i.route,n,e,r)),zn(i=>i!==!0,!0))}function rV(t,e,n,r){return Se(e).pipe(Dr(i=>go(oV(i.route.parent,r),iV(i.route,r),aV(t,i.path,n),sV(t,i.route,n))),zn(i=>i!==!0,!0))}function iV(t,e){return t!==null&&e&&e(new Ed(t)),W(!0)}function oV(t,e){return t!==null&&e&&e(new _d(t)),W(!0)}function sV(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(o=>$u(()=>{let s=rc(e)??n,a=Zo(o,s),u=YF(a)?a.canActivate(e,t):at(s,()=>a(e,t));return Vr(u).pipe(zn())}));return W(i).pipe(Yo())}function aV(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>qF(s)).filter(s=>s!==null).map(s=>$u(()=>{let a=s.guards.map(u=>{let l=rc(s.node)??n,h=Zo(u,l),p=ZF(h)?h.canActivateChild(r,t):at(l,()=>h(r,t));return Vr(p).pipe(zn())});return W(a).pipe(Yo())}));return W(o).pipe(Yo())}function cV(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return W(!0);let s=o.map(a=>{let u=rc(e)??i,l=Zo(a,u),h=JF(l)?l.canDeactivate(t,e,n,r):at(u,()=>l(t,e,n,r));return Vr(h).pipe(zn())});return W(s).pipe(Yo())}function uV(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let o=i.map(s=>{let a=Zo(s,t),u=QF(a)?a.canLoad(e,n):at(t,()=>a(e,n));return Vr(u)});return W(o).pipe(Yo(),JC(r))}function JC(t){return wu(Xe(e=>{if(typeof e!="boolean")throw Cd(t,e)}),se(e=>e===!0))}function lV(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let o=i.map(s=>{let a=Zo(s,t),u=XF(a)?a.canMatch(e,n):at(t,()=>a(e,n));return Vr(u)});return W(o).pipe(Yo(),JC(r))}var ec=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},tc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Uo(t){return fo(new ec(t))}function dV(t){return fo(new j(4e3,!1))}function hV(t){return fo(QC(!1,At.GuardRejected))}var Hm=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[X])return dV(`${e.redirectTo}`);i=i.children[X]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:w,title:R}=i,N=at(o,()=>a({params:y,data:w,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:R}));if(N instanceof Tn)throw new tc(N);n=N}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new tc(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Tn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new pe(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},zm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fV(t,e,n,r,i){let o=XC(t,e,n);return o.matched?(r=LF(e,r),lV(r,e,n,i).pipe(se(s=>s===!0?o:F({},zm)))):W(o)}function XC(t,e,n){if(e.path==="**")return pV(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},zm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||AC)(n,t,e);if(!i)return F({},zm);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?F(F({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function pV(t){return{matched:!0,parameters:t.length>0?NC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function bC(t,e,n,r){return n.length>0&&yV(t,n,r)?{segmentGroup:new pe(e,mV(r,new pe(n,t.children))),slicedSegments:[]}:n.length===0&&vV(t,n,r)?{segmentGroup:new pe(t.segments,gV(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new pe(t.segments,t.children),slicedSegments:n}}function gV(t,e,n,r){let i={};for(let o of n)if(Rd(t,e,o)&&!r[on(o)]){let s=new pe([],{});i[on(o)]=s}return F(F({},r),i)}function mV(t,e){let n={};n[X]=e;for(let r of t)if(r.path===""&&on(r)!==X){let i=new pe([],{});n[on(r)]=i}return n}function yV(t,e,n){return n.some(r=>Rd(t,e,r)&&on(r)!==X)}function vV(t,e,n){return n.some(r=>Rd(t,e,r))}function Rd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function _V(t,e,n){return e.length===0&&!t.children[n]}var qm=class{};function IV(t,e,n,r,i,o,s="emptyOnly"){return new Wm(t,e,n,r,i,s,o).recognize()}var EV=31,Wm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Hm(this.urlSerializer,this.urlTree)}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=bC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(se(({children:n,rootSnapshot:r})=>{let i=new xt(r,n),o=new Ja("",i),s=jC(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new bi([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),X,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,X,n).pipe(se(r=>({children:r,rootSnapshot:n})),$n(r=>{if(r instanceof tc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ec?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(se(s=>s instanceof xt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Se(o).pipe(Dr(s=>{let a=r.children[s],u=FF(n,s);return this.processSegmentGroup(e,u,a,s,i)}),zu((s,a)=>(s.push(...a),s)),br(null),vp(),ke(s=>{if(s===null)return Uo(r);let a=eS(s);return wV(a),W(a)}))}processSegment(e,n,r,i,o,s,a){return Se(n).pipe(Dr(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe($n(l=>{if(l instanceof ec)return W(null);throw l}))),zn(u=>!!u),$n(u=>{if(ZC(u))return _V(r,i,o)?W(new qm):Uo(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return on(r)!==s&&(s===X||!Rd(i,o,r))?Uo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Uo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=XC(n,i,o);if(!u)return Uo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>EV&&(this.allowRedirects=!1));let y=new bi(o,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,CC(i),on(i),i.component??i._loadedComponent??null,i,SC(i)),w=bd(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(w.params),y.data=Object.freeze(w.data);let R=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,R).pipe(ke(N=>this.processSegment(e,r,n,N.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=fV(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Mt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Mt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,w=new bi(m,p,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,CC(r),on(r),r.component??r._loadedComponent??null,r,SC(r)),R=bd(w,s,this.paramsInheritanceStrategy);w.params=Object.freeze(R.params),w.data=Object.freeze(R.data);let{segmentGroup:N,slicedSegments:O}=bC(n,m,y,l);if(O.length===0&&N.hasChildren())return this.processChildren(h,l,N,w).pipe(se(K=>new xt(w,K)));if(l.length===0&&O.length===0)return W(new xt(w,[]));let $=on(r)===o;return this.processSegment(h,l,N,O,$?X:o,!0,w).pipe(se(K=>new xt(w,K instanceof xt?[K]:[])))}))):Uo(n)))}getChildConfig(e,n,r){return n.children?W({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?W({routes:n._loadedRoutes,injector:n._loadedInjector}):uV(e,n,r,this.urlSerializer).pipe(ke(i=>i?this.configLoader.loadChildren(e,n).pipe(Xe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):hV(n))):W({routes:[],injector:e})}};function wV(t){t.sort((e,n)=>e.value.outlet===X?-1:n.value.outlet===X?1:e.value.outlet.localeCompare(n.value.outlet))}function TV(t){let e=t.value.routeConfig;return e&&e.path===""}function eS(t){let e=[],n=new Set;for(let r of t){if(!TV(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=eS(r.children);e.push(new xt(r.value,i))}return e.filter(r=>!n.has(r))}function CC(t){return t.data||{}}function SC(t){return t.resolve||{}}function DV(t,e,n,r,i,o){return ke(s=>IV(t,e,n,r,s.extractedUrl,i,o).pipe(se(({state:a,tree:u})=>ve(F({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function bV(t,e){return ke(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return W(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of tS(u))s.add(l);let a=0;return Se(s).pipe(Dr(u=>o.has(u)?CV(u,r,t,e):(u.data=bd(u,u.parent,t).resolve,W(void 0))),Xe(()=>a++),mo(1),ke(u=>a===s.size?W(n):It))})}function tS(t){let e=t.children.map(n=>tS(n)).flat();return[t,...e]}function CV(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!WC(i)&&(o[nc]=i.title),SV(o,t,e,r).pipe(se(s=>(t._resolvedData=s,t.data=bd(t,t.parent,n).resolve,null)))}function SV(t,e,n,r){let i=km(t);if(i.length===0)return W({});let o={};return Se(i).pipe(ke(s=>AV(t[s],e,n,r).pipe(zn(),Xe(a=>{if(a instanceof Qo)throw Cd(new Lr,a);o[s]=a}))),mo(1),se(()=>o),$n(s=>ZC(s)?It:fo(s)))}function AV(t,e,n,r){let i=rc(e)??r,o=Zo(t,i),s=o.resolve?o.resolve(e,n):at(i,()=>o(e,n));return Vr(s)}function Pm(t){return Mt(e=>{let n=t(e);return n?Se(n).pipe(se(()=>e)):W(e)})}var Jm=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===X);return r}getResolvedTitleForRoute(n){return n.data[nc]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>x(nS),providedIn:"root"})}return t})(),nS=(()=>{class t extends Jm{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(G(IC))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ri=new U("",{providedIn:"root",factory:()=>({})}),Ni=new U(""),Nd=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=x(Lb);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return W(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Vr(n.loadComponent()).pipe(se(iS),Xe(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),aa(()=>{this.componentLoaders.delete(n)})),i=new co(r,()=>new Ze).pipe(ao());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=rS(r,this.compiler,n,this.onLoadEndListener).pipe(aa(()=>{this.childrenLoaders.delete(r)})),s=new co(o,()=>new Ze).pipe(ao());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rS(t,e,n,r){return Vr(t.loadChildren()).pipe(se(iS),ke(i=>i instanceof cm||Array.isArray(i)?W(i):Se(e.compileModuleAsync(i))),se(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Ni,[],{optional:!0,self:!0}).flat()),{routes:s.map(Zm),injector:o}}))}function RV(t){return t&&typeof t=="object"&&"default"in t}function iS(t){return RV(t)?t.default:t}var Md=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>x(NV),providedIn:"root"})}return t})(),NV=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Xm=new U(""),ey=new U("");function oS(t,e,n){let r=t.get(ey),i=t.get(qe);return t.get(fe).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),MV(t))),{onViewTransitionCreated:u}=r;return u&&at(t,()=>u({transition:a,from:e,to:n})),s})}function MV(t){return new Promise(e=>{Wg({read:()=>setTimeout(e)},{injector:t})})}var ty=new U(""),Pd=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ze;transitionAbortSubject=new Ze;configLoader=x(Nd);environmentInjector=x(ot);destroyRef=x(Rr);urlSerializer=x(Si);rootContexts=x(Ai);location=x(kr);inputBindingEnabled=x(ic,{optional:!0})!==null;titleStrategy=x(Jm);options=x(Ri,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=x(Md);createViewTransition=x(Xm,{optional:!0});navigationErrorHandler=x(ty,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>W(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new yd(i)),r=i=>this.events.next(new vd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ve(F({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new Je(null),this.transitions.pipe(wt(r=>r!==null),Mt(r=>{let i=!1,o=!1;return W(r).pipe(Mt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",At.SupersededByNewNavigation),It;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?ve(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&u!=="reload"){let l="";return this.events.next(new Dn(s.id,this.urlSerializer.serialize(s.rawUrl),l,qo.IgnoredSameUrlNavigation)),s.resolve(!1),It}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return W(s).pipe(Mt(l=>(this.events.next(new Fr(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?It:Promise.resolve(l))),DV(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Xe(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=ve(F({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let h=new Qa(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:h,source:p,restoredState:m,extras:y}=s,w=new Fr(l,this.urlSerializer.serialize(h),p,m);this.events.next(w);let R=zC(this.rootComponentType).snapshot;return this.currentTransition=r=ve(F({},s),{targetSnapshot:R,urlAfterRedirects:h,extras:ve(F({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,W(r)}else{let l="";return this.events.next(new Dn(s.id,this.urlSerializer.serialize(s.extractedUrl),l,qo.IgnoredByUrlHandlingStrategy)),s.resolve(!1),It}}),Xe(s=>{let a=new fd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),se(s=>(this.currentTransition=r=ve(F({},s),{guards:zF(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),tV(this.environmentInjector,s=>this.events.next(s)),Xe(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Cd(this.urlSerializer,s.guardsResult);let a=new pd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),wt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",At.GuardRejected),!1)),Pm(s=>{if(s.guards.canActivateChecks.length!==0)return W(s).pipe(Xe(a=>{let u=new gd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Mt(a=>{let u=!1;return W(a).pipe(bV(this.paramsInheritanceStrategy,this.environmentInjector),Xe({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",At.NoDataFromResolver)}}))}),Xe(a=>{let u=new md(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Pm(s=>{let a=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(Xe(h=>{u.component=h}),se(()=>{})));for(let h of u.children)l.push(...a(h));return l};return sa(a(s.targetSnapshot.root)).pipe(br(null),Hn(1))}),Pm(()=>this.afterPreactivation()),Mt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?Se(u).pipe(se(()=>r)):W(r)}),se(s=>{let a=jF(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ve(F({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Xe(()=>{this.events.next(new Ya)}),HF(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Hn(1),Xe({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new sn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),_p(this.transitionAbortSubject.pipe(Xe(s=>{throw s}))),aa(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",At.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),$n(s=>{if(this.destroyed)return r.resolve(!1),It;if(o=!0,YC(s))this.events.next(new wn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),$F(s)?this.events.next(new Ko(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Wo(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=at(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof Qo){let{message:l,cancellationCode:h}=Cd(this.urlSerializer,u);this.events.next(new wn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new Ko(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return It}))}))}cancelNavigationTransition(n,r,i){let o=new wn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function PV(t){return t!==ld}var sS=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>x(xV),providedIn:"root"})}return t})(),Ad=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},xV=(()=>{class t extends Ad{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Fg(t)))(i||t)}})();static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),aS=(()=>{class t{urlSerializer=x(Si);options=x(Ri,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=x(kr);urlHandlingStrategy=x(Md);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Tn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof Tn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=zC(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>x(kV),providedIn:"root"})}return t})(),kV=(()=>{class t extends aS{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Fr?this.updateStateMemento():n instanceof Dn?this.commitTransition(r):n instanceof Qa?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Ya?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof wn&&(n.code===At.GuardRejected||n.code===At.NoDataFromResolver)?this.restoreHistory(r):n instanceof Wo?this.restoreHistory(r,!0):n instanceof sn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,u=F(F({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",u)}else{let a=F(F({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Fg(t)))(i||t)}})();static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function xd(t,e){t.events.pipe(wt(n=>n instanceof sn||n instanceof wn||n instanceof Wo||n instanceof Dn),se(n=>n instanceof sn||n instanceof Dn?0:(n instanceof wn?n.code===At.Redirect||n.code===At.SupersededByNewNavigation:!1)?2:1),wt(n=>n!==2),Hn(1)).subscribe(()=>{e()})}var OV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},LV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},tr=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=x(Db);stateManager=x(aS);options=x(Ri,{optional:!0})||{};pendingTasks=x(Ti);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=x(Pd);urlSerializer=x(Si);location=x(kr);urlHandlingStrategy=x(Md);_events=new Ze;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=x(sS);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=x(Ni,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!x(ic,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ne;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof wn&&r.code!==At.Redirect&&r.code!==At.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof sn)this.navigated=!0;else if(r instanceof Ko){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=F({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||PV(i.source)},s);this.scheduleNavigation(a,ld,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}VV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ld,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=F({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Zm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=UC(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return BC(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=zo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ld,null,r)}navigate(n,r={skipLocationChange:!1}){return FV(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=F({},OV):r===!1?i=F({},LV):i=r,zo(n))return EC(this.currentUrlTree,n,i);let o=this.parseUrl(n);return EC(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return xd(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function FV(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new j(4008,!1)}function VV(t){return!(t instanceof Ya)&&!(t instanceof Ko)}var sc=class{};var cS=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,i,o){this.router=n,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(wt(n=>n instanceof sn),Dr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Na(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Se(i).pipe(po())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=W(null);let o=i.pipe(ke(s=>s===null?W(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Se([o,s]).pipe(po())}else return o})}static \u0275fac=function(r){return new(r||t)(G(tr),G(ot),G(sc),G(Nd))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),uS=new U(""),jV=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Fr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof sn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Dn&&n.code===qo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Go&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Go(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){fb()};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})();function UV(t,...e){return In([{provide:Ni,multi:!0,useValue:t},[],{provide:er,useFactory:lS,deps:[tr]},{provide:$l,multi:!0,useFactory:dS},e.map(n=>n.\u0275providers)])}function lS(t){return t.routerState.root}function ac(t,e){return{\u0275kind:t,\u0275providers:e}}function dS(){let t=x(He);return e=>{let n=t.get(Ii);if(e!==n.components[0])return;let r=t.get(tr),i=t.get(hS);t.get(ry)===1&&r.initialNavigation(),t.get(gS,null,ee.Optional)?.setUpPreloading(),t.get(uS,null,ee.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var hS=new U("",{factory:()=>new Ze}),ry=new U("",{providedIn:"root",factory:()=>1});function fS(){let t=[{provide:ry,useValue:0},um(()=>{let e=x(He);return e.get(fm,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(tr),o=e.get(hS);xd(i,()=>{r(!0)}),e.get(Pd).afterPreactivation=()=>(r(!0),o.closed?W(void 0):o),i.initialNavigation()}))})];return ac(2,t)}function pS(){let t=[um(()=>{x(tr).setUpLocationChangeListener()}),{provide:ry,useValue:2}];return ac(3,t)}var gS=new U("");function mS(t){return ac(0,[{provide:gS,useExisting:cS},{provide:sc,useExisting:t}])}function yS(){return ac(8,[Qm,{provide:ic,useExisting:Qm}])}function vS(t){Mr("NgRouterViewTransitions");let e=[{provide:Xm,useValue:oS},{provide:ey,useValue:F({skipNextTransition:!!t?.skipInitialTransition},t)}];return ac(9,e)}var _S=[kr,{provide:Si,useClass:Lr},tr,Ai,{provide:er,useFactory:lS,deps:[tr]},Nd,[]],BV=(()=>{class t{constructor(){}static forRoot(n,r){return{ngModule:t,providers:[_S,[],{provide:Ni,multi:!0,useValue:n},[],r?.errorHandler?{provide:ty,useValue:r.errorHandler}:[],{provide:Ri,useValue:r||{}},r?.useHash?HV():zV(),$V(),r?.preloadingStrategy?mS(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?qV(r):[],r?.bindToComponentInputs?yS().\u0275providers:[],r?.enableViewTransitions?vS().\u0275providers:[],WV()]}}static forChild(n){return{ngModule:t,providers:[{provide:Ni,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Vo({type:t});static \u0275inj=xo({})}return t})();function $V(){return{provide:uS,useFactory:()=>{let t=x(dC),e=x(fe),n=x(Ri),r=x(Pd),i=x(Si);return n.scrollOffset&&t.setOffset(n.scrollOffset),new jV(i,r,t,e,n)}}}function HV(){return{provide:Zn,useClass:vm}}function zV(){return{provide:Zn,useClass:Wl}}function qV(t){return[t.initialNavigation==="disabled"?pS().\u0275providers:[],t.initialNavigation==="enabledBlocking"?fS().\u0275providers:[]]}var ny=new U("");function WV(){return[{provide:ny,useFactory:dS},{provide:$l,multi:!0,useExisting:ny}]}function KV(t,e){let n=!e?.manualCleanup;n&&!e?.injector&&Al(KV);let r=n?e?.injector?.get(Rr)??x(Rr):null,i=QV(e?.equal),o;e?.requireSync?o=Bg({kind:0},{equal:i}):o=Bg({kind:1,value:e?.initialValue},{equal:i});let s,a=t.subscribe({next:u=>o.set({kind:1,value:u}),error:u=>{if(e?.rejectErrors)throw u;o.set({kind:2,error:u})},complete:()=>{s?.()}});if(e?.requireSync&&o().kind===0)throw new j(601,!1);return s=r?.onDestroy(a.unsubscribe.bind(a)),Bb(()=>{let u=o();switch(u.kind){case 1:return u.value;case 2:throw u.error;case 0:throw new j(601,!1)}},{equal:e?.equal})}function QV(t=Object.is){return(e,n)=>e.kind===1&&n.kind===1&&t(e.value,n.value)}function iy(t){t===void 0&&(Al(iy),t=x(He));let e=t.get(xl);return n=>new ie(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var IS=()=>{};var TS=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},YV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},kd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(TS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):YV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new sy;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let w=l<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},sy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},ZV=function(t){let e=TS(t);return kd.encodeByteArray(e,!0)},uc=function(t){return ZV(t).replace(/\./g,"")},Od=function(t){try{return kd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function cy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var JV=()=>cy().__FIREBASE_DEFAULTS__,XV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},e2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Od(t[1]);return e&&JSON.parse(e)},Ld=()=>{try{return IS()||JV()||XV()||e2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uy=t=>{var e,n;return(n=(e=Ld())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},DS=t=>{let e=uy(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ly=()=>{var t;return(t=Ld())===null||t===void 0?void 0:t.config},dy=t=>{var e;return(e=Ld())===null||e===void 0?void 0:e[`_${t}`]};var Mi=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Pi(t){return t.endsWith(".cloudworkstations.dev")}function Fd(t){return _(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function bS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[uc(JSON.stringify(n)),uc(JSON.stringify(s)),""].join(".")}var cc={};function t2(){let t={prod:[],emulator:[]};for(let e of Object.keys(cc))cc[e]?t.emulator.push(e):t.prod.push(e);return t}function n2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var ES=!1;function Vd(t,e){if(typeof window>"u"||typeof document>"u"||!Pi(window.location.host)||cc[t]===e||cc[t]||ES)return;cc[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=t2().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{ES=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=n2(r),y=n("text"),w=document.getElementById(y)||document.createElement("span"),R=n("learnmore"),N=document.getElementById(R)||document.createElement("a"),O=n("preprendIcon"),$=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let K=m.element;a(K),h(N,R);let Ee=l();u($,O),K.append($,w,N,Ee),document.body.appendChild(K)}o?(w.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function r2(){var t;let e=(t=Ld())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AS(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function RS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NS(){let t=We();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function MS(){return!r2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lc(){try{return typeof indexedDB=="object"}catch{return!1}}function PS(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var i2="FirebaseError",Ot=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=i2,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,an.prototype.create)}},an=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?o2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ot(i,a,r)}};function o2(t,e){return t.replace(s2,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var s2=/\{\$([^}]+)}/g;function xS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function cn(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(wS(o)&&wS(s)){if(!cn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function wS(t){return t!==null&&typeof t=="object"}function Jo(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xo(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function es(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function kS(t,e){let n=new ay(t,e);return n.subscribe.bind(n)}var ay=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");a2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=oy),i.error===void 0&&(i.error=oy),i.complete===void 0&&(i.complete=oy);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function a2(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function oy(){}var iK=4*60*60*1e3;function Me(t){return t&&t._delegate?t._delegate:t}var _t=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var xi="[DEFAULT]";var hy=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Mi;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(u2(e))try{this.getOrInitializeService({instanceIdentifier:xi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=xi){return this.instances.has(e)}getOptions(e=xi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:c2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xi){return this.component?this.component.multipleInstances?e:xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function c2(t){return t===xi?void 0:t}function u2(t){return t.instantiationMode==="EAGER"}var jd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new hy(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var l2=[],ce=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ce||{}),d2={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},h2=ce.INFO,f2={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},p2=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=f2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},bn=class{constructor(e){this.name=e,this._logLevel=h2,this._logHandler=p2,this._userLogHandler=null,l2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?d2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var g2=(t,e)=>e.some(n=>t instanceof n),OS,LS;function m2(){return OS||(OS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function y2(){return LS||(LS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var FS=new WeakMap,py=new WeakMap,VS=new WeakMap,fy=new WeakMap,my=new WeakMap;function v2(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Cn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&FS.set(n,t)}).catch(()=>{}),my.set(e,t),e}function _2(t){if(py.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});py.set(t,e)}var gy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return py.get(t);if(e==="objectStoreNames")return t.objectStoreNames||VS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jS(t){gy=t(gy)}function I2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Ud(this),e,...n);return VS.set(r,e.sort?e.sort():[e]),Cn(r)}:y2().includes(t)?function(...e){return t.apply(Ud(this),e),Cn(FS.get(this))}:function(...e){return Cn(t.apply(Ud(this),e))}}function E2(t){return typeof t=="function"?I2(t):(t instanceof IDBTransaction&&_2(t),g2(t,m2())?new Proxy(t,gy):t)}function Cn(t){if(t instanceof IDBRequest)return v2(t);if(fy.has(t))return fy.get(t);let e=E2(t);return e!==t&&(fy.set(t,e),my.set(e,t)),e}var Ud=t=>my.get(t);function BS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Cn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Cn(s.result),u.oldVersion,u.newVersion,Cn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var w2=["get","getKey","getAll","getAllKeys","count"],T2=["put","add","delete","clear"],yy=new Map;function US(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yy.get(e))return yy.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=T2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||w2.includes(n)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return yy.set(e,o),o}jS(t=>ve(F({},t),{get:(e,n,r)=>US(e,n)||t.get(e,n,r),has:(e,n)=>!!US(e,n)||t.has(e,n)}));var _y=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(D2(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function D2(t){let e=t.getComponent();return e?.type==="VERSION"}var Iy="@firebase/app",$S="0.13.0";var nr=new bn("@firebase/app"),b2="@firebase/app-compat",C2="@firebase/analytics-compat",S2="@firebase/analytics",A2="@firebase/app-check-compat",R2="@firebase/app-check",N2="@firebase/auth",M2="@firebase/auth-compat",P2="@firebase/database",x2="@firebase/data-connect",k2="@firebase/database-compat",O2="@firebase/functions",L2="@firebase/functions-compat",F2="@firebase/installations",V2="@firebase/installations-compat",j2="@firebase/messaging",U2="@firebase/messaging-compat",B2="@firebase/performance",$2="@firebase/performance-compat",H2="@firebase/remote-config",z2="@firebase/remote-config-compat",q2="@firebase/storage",W2="@firebase/storage-compat",G2="@firebase/firestore",K2="@firebase/ai",Q2="@firebase/firestore-compat",Y2="firebase",Z2="11.8.0";var Ey="[DEFAULT]",J2={[Iy]:"fire-core",[b2]:"fire-core-compat",[S2]:"fire-analytics",[C2]:"fire-analytics-compat",[R2]:"fire-app-check",[A2]:"fire-app-check-compat",[N2]:"fire-auth",[M2]:"fire-auth-compat",[P2]:"fire-rtdb",[x2]:"fire-data-connect",[k2]:"fire-rtdb-compat",[O2]:"fire-fn",[L2]:"fire-fn-compat",[F2]:"fire-iid",[V2]:"fire-iid-compat",[j2]:"fire-fcm",[U2]:"fire-fcm-compat",[B2]:"fire-perf",[$2]:"fire-perf-compat",[H2]:"fire-rc",[z2]:"fire-rc-compat",[q2]:"fire-gcs",[W2]:"fire-gcs-compat",[G2]:"fire-fst",[Q2]:"fire-fst-compat",[K2]:"fire-vertex","fire-js":"fire-js",[Y2]:"fire-js-all"};var dc=new Map,X2=new Map,wy=new Map;function HS(t,e){try{t.container.addComponent(e)}catch(n){nr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function un(t){let e=t.name;if(wy.has(e))return nr.debug(`There were multiple attempts to register component ${e}.`),!1;wy.set(e,t);for(let n of dc.values())HS(n,t);for(let n of X2.values())HS(n,t);return!0}function ts(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ut(t){return t==null?!1:t.settings!==void 0}var ej={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new an("app","Firebase",ej);var Ty=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _t("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}};var Ur=Z2;function Cy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Ey,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw jr.create("bad-app-name",{appName:String(i)});if(n||(n=ly()),!n)throw jr.create("no-options");let o=dc.get(i);if(o){if(cn(n,o.options)&&cn(r,o.config))return o;throw jr.create("duplicate-app",{appName:i})}let s=new jd(i);for(let u of wy.values())s.addComponent(u);let a=new Ty(n,r,s);return dc.set(i,a),a}function ki(t=Ey){let e=dc.get(t);if(!e&&t===Ey&&ly())return Cy();if(!e)throw jr.create("no-app",{appName:t});return e}function Bd(){return Array.from(dc.values())}function Pe(t,e,n){var r;let i=(r=J2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nr.warn(a.join(" "));return}un(new _t(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var tj="firebase-heartbeat-database",nj=1,hc="firebase-heartbeat-store",vy=null;function GS(){return vy||(vy=BS(tj,nj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hc)}catch(n){console.warn(n)}}}}).catch(t=>{throw jr.create("idb-open",{originalErrorMessage:t.message})})),vy}function rj(t){return _(this,null,function*(){try{let n=(yield GS()).transaction(hc),r=yield n.objectStore(hc).get(KS(t));return yield n.done,r}catch(e){if(e instanceof Ot)nr.warn(e.message);else{let n=jr.create("idb-get",{originalErrorMessage:e?.message});nr.warn(n.message)}}})}function zS(t,e){return _(this,null,function*(){try{let r=(yield GS()).transaction(hc,"readwrite");yield r.objectStore(hc).put(e,KS(t)),yield r.done}catch(n){if(n instanceof Ot)nr.warn(n.message);else{let r=jr.create("idb-set",{originalErrorMessage:n?.message});nr.warn(r.message)}}})}function KS(t){return`${t.name}!${t.options.appId}`}var ij=1024,oj=30,Dy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new by(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=qS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>oj){let s=aj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){nr.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=qS(),{heartbeatsToSend:r,unsentEntries:i}=sj(this._heartbeatsCache.heartbeats),o=uc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return nr.warn(n),""}})}};function qS(){return new Date().toISOString().substring(0,10)}function sj(t,e=ij){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),WS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),WS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var by=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return lc()?PS().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield rj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return zS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return zS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function WS(t){return uc(JSON.stringify({version:2,heartbeats:t})).length}function aj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function cj(t){un(new _t("platform-logger",e=>new _y(e),"PRIVATE")),un(new _t("heartbeat",e=>new Dy(e),"PRIVATE")),Pe(Iy,$S,t),Pe(Iy,$S,"esm2017"),Pe("fire-js","")}cj("");var uj="firebase",lj="11.8.1";Pe(uj,lj,"app");var Br=new Po("ANGULARFIRE2_VERSION");function fc(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var rs=(t,e)=>{let n=e?[e]:Bd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ns=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(ns||{}),QS=dm()&&typeof Zone<"u"?ns.WARN:ns.SILENT;var $d=class{zone;delegate;constructor(e,n=mp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},$r=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=x(fe);this.outsideAngular=n.runOutsideAngular(()=>new $d(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new $d(typeof Zone>"u"?void 0:Zone.current,oa))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),YS=!1;function dj(t,e){!YS&&(QS>ns.SILENT||dm())&&(YS=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),QS>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function hj(t){let e=x(fe,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Oi(t){let e=x(fe,{optional:!0});return e?e.run(()=>t()):t()}var fj=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),at(n,()=>Oi(()=>t.apply(void 0,r)))),Ge=(t,e,n)=>(n||=e?ns.WARN:ns.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=x($r),s=x(xl),a=x(ot)}catch{return dj(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Oi(()=>s.add())),i[l]=fj(i[l],r,a));let u=hj(()=>t.apply(this,i));return e?u instanceof ie?u.pipe(Tr(o.outsideAngular),wr(o.insideAngular),iy(a)):u instanceof Promise?Oi(()=>new Promise((l,h)=>{s.run(()=>u).then(p=>at(a,()=>Oi(()=>l(p))),p=>at(a,()=>Oi(()=>h(p))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Oi(()=>u):u instanceof ie?u.pipe(Tr(o.outsideAngular),wr(o.insideAngular)):Oi(()=>u)});var rr=class{constructor(e){return e}},Li=class{constructor(){return Bd()}};function pj(t){return t&&t.length===1?t[0]:new rr(ki())}var Sy=new U("angularfire2._apps"),gj={provide:rr,useFactory:pj,deps:[[new Ut,Sy]]},mj={provide:Li,deps:[[new Ut,Sy]]};function yj(t){return(e,n)=>{let r=n.get(Nr);Pe("angularfire",Br.full,"core"),Pe("angularfire",Br.full,"app"),Pe("angular",Ob.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new rr(i)}}function WK(t,...e){return In([gj,mj,{provide:Sy,useFactory:yj(t),multi:!0,deps:[fe,He,$r,...e]}])}var GK=Ge(Cy,!0);function hA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var fA=hA,pA=new an("auth","Firebase",hA());var Kd=new bn("@firebase/auth");function vj(t,...e){Kd.logLevel<=ce.WARN&&Kd.warn(`Auth (${Ur}): ${t}`,...e)}function zd(t,...e){Kd.logLevel<=ce.ERROR&&Kd.error(`Auth (${Ur}): ${t}`,...e)}function qt(t,...e){throw Yy(t,...e)}function ln(t,...e){return Yy(t,...e)}function Qy(t,e,n){let r=Object.assign(Object.assign({},fA()),{[e]:n});return new an("auth","Firebase",r).create(e,{appName:t.name})}function Sn(t){return Qy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _j(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&qt(t,"argument-error"),Qy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Yy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return pA.create(t,...e)}function q(t,e,...n){if(!t)throw Yy(e,...n)}function ir(t){let e="INTERNAL ASSERTION FAILED: "+t;throw zd(e),new Error(e)}function sr(t,e){t||ir(e)}function Ny(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Ij(){return ZS()==="http:"||ZS()==="https:"}function ZS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Ej(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ij()||AS()||"connection"in navigator)?navigator.onLine:!0}function wj(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Fi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,sr(n>e,"Short delay should be less than long delay!"),this.isMobile=CS()||RS()}get(){return Ej()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Zy(t,e){sr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Qd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Tj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Dj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bj=new Fi(3e4,6e4);function Wr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ar(o,s,a,u){return _(this,arguments,function*(t,e,n,r,i={}){return gA(t,i,()=>_(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Jo(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return SS()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&Pi(t.emulatorConfig.host)&&(y.credentials="include"),Qd.fetch()(yield mA(t,t.config.apiHost,n,p),y)}))})}function gA(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Tj),e);try{let i=new My(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Hd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hd(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Hd(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Hd(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Qy(t,h,l);qt(t,h)}}catch(i){if(i instanceof Ot)throw i;qt(t,"network-request-failed",{message:String(i)})}})}function Ec(o,s,a,u){return _(this,arguments,function*(t,e,n,r,i={}){let l=yield ar(t,e,n,r,i);return"mfaPendingCredential"in l&&qt(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function mA(t,e,n,r){return _(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?Zy(t.config,i):`${t.config.apiScheme}://${i}`;return Dj.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function Cj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var My=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ln(this.auth,"network-request-failed")),bj.get())})}};function Hd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ln(t,e,r);return i.customData._tokenResponse=n,i}function JS(t){return t!==void 0&&t.enterprise!==void 0}var Py=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Cj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function Sj(t,e){return _(this,null,function*(){return ar(t,"GET","/v2/recaptchaConfig",Wr(t,e))})}function Aj(t,e){return _(this,null,function*(){return ar(t,"POST","/v1/accounts:delete",e)})}function Yd(t,e){return _(this,null,function*(){return ar(t,"POST","/v1/accounts:lookup",e)})}function gc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Jy(t,e=!1){return _(this,null,function*(){let n=Me(t),r=yield n.getIdToken(e),i=Xy(r);q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:gc(Ay(i.auth_time)),issuedAtTime:gc(Ay(i.iat)),expirationTime:gc(Ay(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Ay(t){return Number(t)*1e3}function Xy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return zd("JWT malformed, contained fewer than 3 sections"),null;try{let i=Od(n);return i?JSON.parse(i):(zd("Failed to decode base64 JWT payload"),null)}catch(i){return zd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function XS(t){let e=Xy(t);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function os(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Ot&&Rj(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function Rj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var xy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var yc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gc(this.lastLoginAt),this.creationTime=gc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Zd(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield os(t,Yd(n,{idToken:r}));q(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?yA(o.providerUserInfo):[],a=Nj(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new yc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function ev(t){return _(this,null,function*(){let e=Me(t);yield Zd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Nj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function yA(t){return t.map(e=>{var{providerId:n}=e,r=Au(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Mj(t,e){return _(this,null,function*(){let n=yield gA(t,{},()=>_(null,null,function*(){let r=Jo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield mA(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Qd.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Pj(t,e){return _(this,null,function*(){return ar(t,"POST","/v2/accounts:revokeToken",Wr(t,e))})}var mc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){q(e.length!==0,"internal-error");let n=XS(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Mj(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(q(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(q(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(q(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ir("not implemented")}};function Hr(t,e){q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var zr=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Au(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new yc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield os(this,this.stsTokenManager.getToken(this.auth,e));return q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Jy(this,e)}reload(){return ev(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Zd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(ut(this.auth.app))return Promise.reject(Sn(this.auth));let e=yield this.getIdToken();return yield os(this,Aj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=n.photoURL)!==null&&s!==void 0?s:void 0,R=(a=n.tenantId)!==null&&a!==void 0?a:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,O=(l=n.createdAt)!==null&&l!==void 0?l:void 0,$=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:K,emailVerified:Ee,isAnonymous:ft,providerData:me,stsTokenManager:D}=n;q(K&&D,e,"internal-error");let v=mc.fromJSON(this.name,D);q(typeof K=="string",e,"internal-error"),Hr(p,e.name),Hr(m,e.name),q(typeof Ee=="boolean",e,"internal-error"),q(typeof ft=="boolean",e,"internal-error"),Hr(y,e.name),Hr(w,e.name),Hr(R,e.name),Hr(N,e.name),Hr(O,e.name),Hr($,e.name);let E=new t({uid:K,auth:e,email:m,emailVerified:Ee,displayName:p,isAnonymous:ft,photoURL:w,phoneNumber:y,tenantId:R,stsTokenManager:v,createdAt:O,lastLoginAt:$});return me&&Array.isArray(me)&&(E.providerData=me.map(T=>Object.assign({},T))),N&&(E._redirectEventId=N),E}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new mc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Zd(o),o})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];q(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?yA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new mc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new yc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var eA=new Map;function or(t){sr(t instanceof Function,"Expected a class definition");let e=eA.get(t);return e?(sr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eA.set(t,e),e)}var xj=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),ky=xj;function qd(t,e,n){return`firebase:${t}:${e}:${n}`}var Jd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=qd(this.userKey,i.apiKey,o),this.fullPersistenceKey=qd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Yd(this.auth,{idToken:e}).catch(()=>{});return n?zr._fromGetAccountInfoResponse(this.auth,n,e):null}return zr._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(or(ky),e,r);let i=(yield Promise.all(n.map(l=>_(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||or(ky),s=qd(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield Yd(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield zr._fromGetAccountInfoResponse(e,m,h)}else p=zr._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>_(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function tA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TA(e))return"Blackberry";if(DA(e))return"Webos";if(_A(e))return"Safari";if((e.includes("chrome/")||IA(e))&&!e.includes("edge/"))return"Chrome";if(wA(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function vA(t=We()){return/firefox\//i.test(t)}function _A(t=We()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IA(t=We()){return/crios\//i.test(t)}function EA(t=We()){return/iemobile/i.test(t)}function wA(t=We()){return/android/i.test(t)}function TA(t=We()){return/blackberry/i.test(t)}function DA(t=We()){return/webos/i.test(t)}function tv(t=We()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function kj(t=We()){var e;return tv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Oj(){return NS()&&document.documentMode===10}function bA(t=We()){return tv(t)||wA(t)||DA(t)||TA(t)||/windows phone/i.test(t)||EA(t)}function CA(t,e=[]){let n;switch(t){case"Browser":n=tA(We());break;case"Worker":n=`${tA(We())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ur}/${r}`}var Oy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Lj(n){return _(this,arguments,function*(t,e={}){return ar(t,"GET","/v2/passwordPolicy",Wr(t,e))})}var Fj=6,Ly=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Fj,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Fy=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xd(this),this.idTokenSubscription=new Xd(this),this.beforeStateQueue=new Oy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=or(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Jd.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield Yd(this,{idToken:e}),r=yield zr._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(ut(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Zd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=wj()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(ut(this.app))return Promise.reject(Sn(this));let n=e?Me(e):null;return n&&q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return ut(this.app)?Promise.reject(Sn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return ut(this.app)?Promise.reject(Sn(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(or(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield Lj(this),n=new Ly(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new an("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Pj(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&or(e)||this._popupRedirectResolver;q(n,this,"argument-error"),this.redirectPersistenceManager=yield Jd.create(this,[or(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;if(ut(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&vj(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function cr(t){return Me(t)}var Xd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=kS(n=>this.observer=n)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ch={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vj(t){ch=t}function SA(t){return ch.loadJS(t)}function jj(){return ch.recaptchaEnterpriseScript}function Uj(){return ch.gapiScript}function AA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Vy=class{constructor(){this.enterprise=new jy}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},jy=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var Bj="recaptcha-enterprise",RA="NO_RECAPTCHA",Uy=class{constructor(e){this.type=Bj,this.auth=cr(e)}verify(e="verify",n=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(null,null,function*(){Sj(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Py(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;JS(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(RA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Vy().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&JS(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=jj();u.length!==0&&(u+=a),SA(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function pc(t,e,n,r=!1,i=!1){return _(this,null,function*(){let o=new Uy(t),s;if(i)s=RA;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}let a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function By(t,e,n,r,i){return _(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield pc(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(a=>_(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield pc(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield pc(t,e,n);return r(t,a).catch(u=>_(null,null,function*(){var l;if(((l=t._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let h=yield pc(t,e,n,!1,!0);return r(t,h)}return Promise.reject(u)}))}else{let a=yield pc(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")})}function nv(t,e){let n=ts(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(cn(o,e??{}))return i;qt(i,"already-initialized")}return n.initialize({options:e})}function $j(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(or);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function rv(t,e,n){let r=cr(t);q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=NA(e),{host:s,port:a}=Hj(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){q(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),q(cn(l,r.config.emulator)&&cn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Pi(s)?(Fd(`${o}//${s}${u}`),Vd("Auth",!0)):i||zj()}function NA(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Hj(t){let e=NA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:nA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:nA(s)}}}function nA(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function zj(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var ss=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ir("not implemented")}_getIdTokenResponse(e){return ir("not implemented")}_linkToIdToken(e,n){return ir("not implemented")}_getReauthenticationResolver(e){return ir("not implemented")}};function qj(t,e){return _(this,null,function*(){return ar(t,"POST","/v1/accounts:signUp",e)})}function Wj(t,e){return _(this,null,function*(){return Ec(t,"POST","/v1/accounts:signInWithPassword",Wr(t,e))})}function Gj(t,e){return _(this,null,function*(){return Ec(t,"POST","/v1/accounts:signInWithEmailLink",Wr(t,e))})}function Kj(t,e){return _(this,null,function*(){return Ec(t,"POST","/v1/accounts:signInWithEmailLink",Wr(t,e))})}var vc=class t extends ss{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return By(e,n,"signInWithPassword",Wj,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Gj(e,{email:this._email,oobCode:this._password});default:qt(e,"internal-error")}})}_linkToIdToken(e,n){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return By(e,r,"signUpPassword",qj,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Kj(e,{idToken:n,email:this._email,oobCode:this._password});default:qt(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function is(t,e){return _(this,null,function*(){return Ec(t,"POST","/v1/accounts:signInWithIdp",Wr(t,e))})}var Qj="http://localhost",eh=class t extends ss{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Au(n,["providerId","signInMethod"]);if(!r||!i)return null;let s=new t(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let n=this.buildRequest();return is(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,is(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,is(e,n)}buildRequest(){let e={requestUri:Qj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jo(n)}return e}};function Yj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Zj(t){let e=Xo(es(t)).link,n=e?Xo(es(e)).deep_link_id:null,r=Xo(es(t)).deep_link_id;return(r?Xo(es(r)).link:null)||r||n||e||t}var th=class t{constructor(e){var n,r,i,o,s,a;let u=Xo(es(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=Yj((i=u.mode)!==null&&i!==void 0?i:null);q(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=Zj(e);try{return new t(n)}catch{return null}}};var MA=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return vc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=th.parseLink(r);return q(i,"argument-error"),vc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),_c=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var nh=class extends _c{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Jj=(()=>{class t extends nh{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return eh._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();function PA(t,e){return _(this,null,function*(){return Ec(t,"POST","/v1/accounts:signUp",Wr(t,e))})}var qr=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let o=yield zr._fromIdTokenResponse(e,r,i),s=rA(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=rA(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function rA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}function xA(t){return _(this,null,function*(){var e;if(ut(t.app))return Promise.reject(Sn(t));let n=cr(t);if(yield n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new qr({user:n.currentUser,providerId:null,operationType:"signIn"});let r=yield PA(n,{returnSecureToken:!0}),i=yield qr._fromIdTokenResponse(n,"signIn",r,!0);return yield n._updateCurrentUser(i.user),i})}var $y=class t extends Ot{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function kA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?$y._fromErrorAndOperation(t,o,e,r):o})}function Xj(t,e,n=!1){return _(this,null,function*(){let r=yield os(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return qr._forOperation(t,"link",r)})}function eU(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if(ut(r.app))return Promise.reject(Sn(r));let i="reauthenticate";try{let o=yield os(t,kA(r,i,e,t),n);q(o.idToken,r,"internal-error");let s=Xy(o.idToken);q(s,r,"internal-error");let{sub:a}=s;return q(t.uid===a,r,"user-mismatch"),qr._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&qt(r,"user-mismatch"),o}})}function OA(t,e,n=!1){return _(this,null,function*(){if(ut(t.app))return Promise.reject(Sn(t));let r="signIn",i=yield kA(t,r,e),o=yield qr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function iv(t,e){return _(this,null,function*(){return OA(cr(t),e)})}function LA(t){return _(this,null,function*(){let e=cr(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function ov(t,e,n){return _(this,null,function*(){if(ut(t.app))return Promise.reject(Sn(t));let r=cr(t),s=yield By(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",PA,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&LA(t),u}),a=yield qr._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function sv(t,e,n){return ut(t.app)?Promise.reject(Sn(t)):iv(Me(t),MA.credential(e,n)).catch(r=>_(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&LA(t),r}))}function tU(t,e){return _(this,null,function*(){return ar(t,"POST","/v1/accounts:update",e)})}function av(r,i){return _(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let o=Me(t),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=yield os(o,tU(o.auth,a));o.displayName=u.displayName||null,o.photoURL=u.photoUrl||null;let l=o.providerData.find(({providerId:h})=>h==="password");l&&(l.displayName=o.displayName,l.photoURL=o.photoURL),yield o._updateTokensIfNecessary(u)})}function cv(t,e,n,r){return Me(t).onIdTokenChanged(e,n,r)}function uv(t,e,n){return Me(t).beforeAuthStateChanged(e,n)}function lv(t,e,n,r){return Me(t).onAuthStateChanged(e,n,r)}var rh="__sak";var ih=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rh,"1"),this.storage.removeItem(rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var nU=1e3,rU=10,iU=(()=>{class t extends ih{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bA(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);Oj()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,rU):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},nU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield Ir(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield Ir(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield Ir(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),FA=iU;var oU=(()=>{class t extends ih{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),dv=oU;function sU(t){return Promise.all(t.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var aU=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield sU(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function hv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Hy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=hv("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function An(){return window}function cU(t){An().location.href=t}function VA(){return typeof An().WorkerGlobalScope<"u"&&typeof An().importScripts=="function"}function uU(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function lU(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function dU(){return VA()?self:null}var jA="firebaseLocalStorageDb",hU=1,oh="firebaseLocalStorage",UA="fbase_key",Vi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function uh(t,e){return t.transaction([oh],e?"readwrite":"readonly").objectStore(oh)}function fU(){let t=indexedDB.deleteDatabase(jA);return new Vi(t).toPromise()}function zy(){let t=indexedDB.open(jA,hU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(oh,{keyPath:UA})}catch(i){n(i)}}),t.addEventListener("success",()=>_(null,null,function*(){let r=t.result;r.objectStoreNames.contains(oh)?e(r):(r.close(),yield fU(),e(yield zy()))}))})}function iA(t,e,n){return _(this,null,function*(){let r=uh(t,!0).put({[UA]:e,value:n});return new Vi(r).toPromise()})}function pU(t,e){return _(this,null,function*(){let n=uh(t,!1).get(e),r=yield new Vi(n).toPromise();return r===void 0?null:r.value})}function oA(t,e){let n=uh(t,!0).delete(e);return new Vi(n).toPromise()}var gU=800,mU=3,yU=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield zy(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>mU)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return VA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=aU._getInstance(dU()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield uU(),!this.activeServiceWorker)return;this.sender=new Hy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||lU()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield zy();return yield iA(n,rh,"1"),yield oA(n,rh),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>iA(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>pU(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>oA(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(o=>{let s=uh(o,!1).getAll();return new Vi(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),gU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),BA=yU;var tQ=AA("rcb"),nQ=new Fi(3e4,6e4);function $A(t,e){return e?or(e):(q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Ic=class extends ss{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return is(e,this._buildIdpRequest())}_linkToIdToken(e,n){return is(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return is(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function vU(t){return OA(t.auth,new Ic(t),t.bypassAuthState)}function _U(t){let{auth:e,user:n}=t;return q(n,e,"internal-error"),eU(n,new Ic(t),t.bypassAuthState)}function IU(t){return _(this,null,function*(){let{auth:e,user:n}=t;return q(n,e,"internal-error"),Xj(n,new Ic(t),t.bypassAuthState)})}var sh=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vU;case"linkViaPopup":case"linkViaRedirect":return IU;case"reauthViaPopup":case"reauthViaRedirect":return _U;default:qt(this.auth,"internal-error")}}resolve(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var EU=new Fi(2e3,1e4);function HA(t,e,n){return _(this,null,function*(){if(ut(t.app))return Promise.reject(ln(t,"operation-not-supported-in-this-environment"));let r=cr(t);_j(t,e,_c);let i=$A(r,n);return new wU(r,"signInViaPopup",e,i).executeNotNull()})}var wU=(()=>{class t extends sh{constructor(n,r,i,o,s){super(n,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return _(this,null,function*(){let n=yield this.execute();return q(n,this.auth,"internal-error"),n})}onExecution(){return _(this,null,function*(){sr(this.filter.length===1,"Popup operations only handle one event");let n=hv();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,EU.get())};n()}}t.currentPopupAction=null;return t})(),TU="pendingRedirect",Wd=new Map,qy=class t extends sh{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=Wd.get(this.auth._key());if(!e){try{let r=(yield DU(this.resolver,this.auth))?yield Ir(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wd.set(this.auth._key(),e)}return this.bypassAuthState||Wd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return Ir(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Ir(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function DU(t,e){return _(this,null,function*(){let n=SU(e),r=CU(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function bU(t,e){Wd.set(t._key(),e)}function CU(t){return or(t._redirectPersistence)}function SU(t){return qd(TU,t.config.apiKey,t.name)}function AU(t,e,n=!1){return _(this,null,function*(){if(ut(t.app))return Promise.reject(Sn(t));let r=cr(t),i=$A(r,e),s=yield new qy(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var RU=10*60*1e3,Wy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!zA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ln(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RU&&this.cachedEventUids.clear(),this.cachedEventUids.has(sA(e))}saveEventToCache(e){this.cachedEventUids.add(sA(e)),this.lastProcessedEventTime=Date.now()}};function sA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function NU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zA(t);default:return!1}}function MU(n){return _(this,arguments,function*(t,e={}){return ar(t,"GET","/v1/projects",e)})}var PU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xU=/^https?/;function kU(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield MU(t);for(let n of e)try{if(OU(n))return}catch{}qt(t,"unauthorized-domain")})}function OU(t){let e=Ny(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!xU.test(n))return!1;if(PU.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var LU=new Fi(3e4,6e4);function aA(){let t=An().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function FU(t){return new Promise((e,n)=>{var r,i,o;function s(){aA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aA(),n(ln(t,"network-request-failed"))},timeout:LU.get()})}if(!((i=(r=An().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=An().gapi)===null||o===void 0)&&o.load)s();else{let a=AA("iframefcb");return An()[a]=()=>{gapi.load?s():n(ln(t,"network-request-failed"))},SA(`${Uj()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Gd=null,e})}var Gd=null;function VU(t){return Gd=Gd||FU(t),Gd}var jU=new Fi(5e3,15e3),UU="__/auth/iframe",BU="emulator/auth/iframe",$U={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zU(t){let e=t.config;q(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Zy(e,BU):`https://${t.config.authDomain}/${UU}`,r={apiKey:e.apiKey,appName:t.name,v:Ur},i=HU.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Jo(r).slice(1)}`}function qU(t){return _(this,null,function*(){let e=yield VU(t),n=An().gapi;return q(n,t,"internal-error"),e.open({where:document.body,url:zU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$U,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=ln(t,"network-request-failed"),a=An().setTimeout(()=>{o(s)},jU.get());function u(){An().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var WU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GU=500,KU=600,QU="_blank",YU="http://localhost",ah=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function ZU(t,e,n,r=GU,i=KU){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},WU),{width:r.toString(),height:i.toString(),top:o,left:s}),l=We().toLowerCase();n&&(a=IA(l)?QU:n),vA(l)&&(e=e||YU,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,w])=>`${m}${y}=${w},`,"");if(kj(l)&&a!=="_self")return JU(e||"",a),new ah(null);let p=window.open(e||"",a,h);q(p,t,"popup-blocked");try{p.focus()}catch{}return new ah(p)}function JU(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var XU="__/auth/handler",eB="emulator/auth/handler",tB=encodeURIComponent("fac");function cA(t,e,n,r,i,o){return _(this,null,function*(){q(t.config.authDomain,t,"auth-domain-config-required"),q(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ur,eventId:i};if(e instanceof _c){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",xS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof nh){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${tB}=${encodeURIComponent(u)}`:"";return`${nB(t)}?${Jo(a).slice(1)}${l}`})}function nB({config:t}){return t.emulator?Zy(t,eB):`https://${t.authDomain}/${XU}`}var Ry="webStorageSupport",Gy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dv,this._completeRedirectFn=AU,this._overrideRedirectResult=bU}_openPopup(e,n,r,i){return _(this,null,function*(){var o;sr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield cA(e,n,r,Ny(),i);return ZU(e,s,hv())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield cA(e,n,r,Ny(),i);return cU(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(sr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield qU(e),r=new Wy(e);return n.register("authEvent",i=>(q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ry,{type:Ry},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Ry];s!==void 0&&n(!!s),qt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bA()||_A()||tv()}},qA=Gy;var uA="@firebase/auth",lA="1.10.6";var Ky=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function rB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iB(t){un(new _t("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;q(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CA(t)},l=new Fy(r,i,o,u);return $j(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),un(new _t("auth-internal",e=>{let n=cr(e.getProvider("auth").getImmediate());return(r=>new Ky(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pe(uA,lA,rB(t)),Pe(uA,lA,"esm2017")}var oB=5*60,sB=dy("authIdTokenMaxAge")||oB,dA=null,aB=t=>e=>_(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sB)return;let i=n?.token;dA!==i&&(dA=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function fv(t=ki()){let e=ts(t,"auth");if(e.isInitialized())return e.getImmediate();let n=nv(t,{popupRedirectResolver:qA,persistence:[BA,FA,dv]}),r=dy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=aB(o.toString());uv(n,s,()=>s(n.currentUser)),cv(n,a=>s(a))}}let i=uy("auth");return i&&rv(n,`http://${i}`),n}function cB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Vj({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=ln("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",cB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iB("Browser");var KB=new Map,QB={activated:!1,tokenObservers:[]},YB={initialized:!1,enabled:!1};function dn(t){return KB.get(t)||Object.assign({},QB)}function QA(){return YB}var ZB="https://content-firebaseappcheck.googleapis.com/v1";var JB="exchangeDebugToken",WA={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},jQ=24*60*60*1e3;var mv=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new Mi,this.pending.promise.catch(n=>{}),yield XB(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Mi,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function XB(t){return new Promise(e=>{setTimeout(e,t)})}var e$={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Gr=new an("appCheck","AppCheck",e$);function YA(t){if(!dn(t).activated)throw Gr.create("use-before-activation",{appName:t.name})}function ZA(r,i){return _(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,a)}catch(y){throw Gr.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw Gr.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw Gr.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Gr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function JA(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${ZB}/projects/${n}/apps/${r}:${JB}?key=${i}`,body:{debug_token:e}}}var t$="firebase-app-check-database",n$=1,yv="firebase-app-check-store";var lh=null;function r$(){return lh||(lh=new Promise((t,e)=>{try{let n=indexedDB.open(t$,n$);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Gr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(yv,{keyPath:"compositeKey"})}}}catch(n){e(Gr.create("storage-open",{originalErrorMessage:n?.message}))}}),lh)}function i$(t,e){return o$(s$(t),e)}function o$(t,e){return _(this,null,function*(){let r=(yield r$()).transaction(yv,"readwrite"),o=r.objectStore(yv).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Gr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function s$(t){return`${t.options.appId}-${t.name}`}var wc=new bn("@firebase/app-check");function pv(t,e){return lc()?i$(t,e).catch(n=>{wc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function XA(){return QA().enabled}function e0(){return _(this,null,function*(){let t=QA();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var a$={error:"UNKNOWN_ERROR"};function c$(t){return kd.encodeString(JSON.stringify(t),!1)}function vv(t,e=!1,n=!1){return _(this,null,function*(){let r=t.app;YA(r);let i=dn(r),o=i.token,s;if(o&&!Tc(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Tc(l)?o=l:yield pv(r,void 0))}if(!e&&o&&Tc(o))return{token:o.token};let a=!1;if(XA())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=ZA(JA(r,yield e0()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield pv(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?wc.warn(l.message):n&&wc.error(l),gv(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield dn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?wc.warn(l.message):n&&wc.error(l),s=l}let u;return o?s?Tc(o)?u={token:o.token,internalError:s}:u=gv(s):(u={token:o.token},i.token=o,yield pv(r,o)):u=gv(s),a&&h$(r,u),u})}function u$(t){return _(this,null,function*(){let e=t.app;YA(e);let{provider:n}=dn(e);if(XA()){let r=yield e0(),{token:i}=yield ZA(JA(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function l$(t,e,n,r){let{app:i}=t,o=dn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Tc(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),GA(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>GA(t))}function t0(t,e){let n=dn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function GA(t){let{app:e}=t,n=dn(e),r=n.tokenRefresher;r||(r=d$(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function d$(t){let{app:e}=t;return new mv(()=>_(null,null,function*(){let n=dn(e),r;if(n.token?r=yield vv(t,!0):r=yield vv(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=dn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},WA.RETRIAL_MIN_WAIT,WA.RETRIAL_MAX_WAIT)}function h$(t,e){let n=dn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Tc(t){return t.expireTimeMillis-Date.now()>0}function gv(t){return{token:c$(a$),error:t}}var _v=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=dn(this.app);for(let n of e)t0(this.app,n.next);return Promise.resolve()}};function f$(t,e){return new _v(t,e)}function p$(t){return{getToken:e=>vv(t,e),getLimitedUseToken:()=>u$(t),addTokenListener:e=>l$(t,"INTERNAL",e),removeTokenListener:e=>t0(t.app,e)}}var g$="@firebase/app-check",m$="0.10.0";var y$="app-check",KA="app-check-internal";function v$(){un(new _t(y$,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return f$(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(KA).initialize()})),un(new _t(KA,t=>{let e=t.getProvider("app-check").getImmediate();return p$(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Pe(g$,m$)}v$();var _$="app-check";var as=class{constructor(){return rs(_$)}};var I$=["localhost","0.0.0.0","127.0.0.1"],JQ=typeof window<"u"&&I$.includes(window.location.hostname);var n0="auth",Dc=class{constructor(e){return e}},bc=class{constructor(){return rs(n0)}};var Iv=new U("angularfire2.auth-instances");function E$(t,e){let n=fc(n0,t,e);return n&&new Dc(n)}function w$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Dc(r)}}var T$={provide:bc,deps:[[new Ut,Iv]]},D$={provide:Dc,useFactory:E$,deps:[[new Ut,Iv],rr]};function cY(t,...e){return Pe("angularfire",Br.full,"auth"),In([D$,T$,{provide:Iv,useFactory:w$(t),multi:!0,deps:[fe,He,$r,Li,[new Ut,as],...e]}])}var uY=Ge(ov,!0,2);var lY=Ge(fv,!0);var dY=Ge(lv,!0);var hY=Ge(sv,!0,2);var fY=Ge(av,!0,2);var r0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},i0={};var ur,Ev;(function(){var t;function e(D,v){function E(){}E.prototype=v.prototype,D.D=v.prototype,D.prototype=new E,D.prototype.constructor=D,D.C=function(T,b,S){for(var I=Array(arguments.length-2),Fn=2;Fn<arguments.length;Fn++)I[Fn-2]=arguments[Fn];return v.prototype[b].apply(T,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,E){E||(E=0);var T=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)T[b]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(b=0;16>b;++b)T[b]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=D.g[0],E=D.g[1],b=D.g[2];var S=D.g[3],I=v+(S^E&(b^S))+T[0]+3614090360&4294967295;v=E+(I<<7&4294967295|I>>>25),I=S+(b^v&(E^b))+T[1]+3905402710&4294967295,S=v+(I<<12&4294967295|I>>>20),I=b+(E^S&(v^E))+T[2]+606105819&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(v^b&(S^v))+T[3]+3250441966&4294967295,E=b+(I<<22&4294967295|I>>>10),I=v+(S^E&(b^S))+T[4]+4118548399&4294967295,v=E+(I<<7&4294967295|I>>>25),I=S+(b^v&(E^b))+T[5]+1200080426&4294967295,S=v+(I<<12&4294967295|I>>>20),I=b+(E^S&(v^E))+T[6]+2821735955&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(v^b&(S^v))+T[7]+4249261313&4294967295,E=b+(I<<22&4294967295|I>>>10),I=v+(S^E&(b^S))+T[8]+1770035416&4294967295,v=E+(I<<7&4294967295|I>>>25),I=S+(b^v&(E^b))+T[9]+2336552879&4294967295,S=v+(I<<12&4294967295|I>>>20),I=b+(E^S&(v^E))+T[10]+4294925233&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(v^b&(S^v))+T[11]+2304563134&4294967295,E=b+(I<<22&4294967295|I>>>10),I=v+(S^E&(b^S))+T[12]+1804603682&4294967295,v=E+(I<<7&4294967295|I>>>25),I=S+(b^v&(E^b))+T[13]+4254626195&4294967295,S=v+(I<<12&4294967295|I>>>20),I=b+(E^S&(v^E))+T[14]+2792965006&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(v^b&(S^v))+T[15]+1236535329&4294967295,E=b+(I<<22&4294967295|I>>>10),I=v+(b^S&(E^b))+T[1]+4129170786&4294967295,v=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(v^E))+T[6]+3225465664&4294967295,S=v+(I<<9&4294967295|I>>>23),I=b+(v^E&(S^v))+T[11]+643717713&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^v&(b^S))+T[0]+3921069994&4294967295,E=b+(I<<20&4294967295|I>>>12),I=v+(b^S&(E^b))+T[5]+3593408605&4294967295,v=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(v^E))+T[10]+38016083&4294967295,S=v+(I<<9&4294967295|I>>>23),I=b+(v^E&(S^v))+T[15]+3634488961&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^v&(b^S))+T[4]+3889429448&4294967295,E=b+(I<<20&4294967295|I>>>12),I=v+(b^S&(E^b))+T[9]+568446438&4294967295,v=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(v^E))+T[14]+3275163606&4294967295,S=v+(I<<9&4294967295|I>>>23),I=b+(v^E&(S^v))+T[3]+4107603335&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^v&(b^S))+T[8]+1163531501&4294967295,E=b+(I<<20&4294967295|I>>>12),I=v+(b^S&(E^b))+T[13]+2850285829&4294967295,v=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(v^E))+T[2]+4243563512&4294967295,S=v+(I<<9&4294967295|I>>>23),I=b+(v^E&(S^v))+T[7]+1735328473&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^v&(b^S))+T[12]+2368359562&4294967295,E=b+(I<<20&4294967295|I>>>12),I=v+(E^b^S)+T[5]+4294588738&4294967295,v=E+(I<<4&4294967295|I>>>28),I=S+(v^E^b)+T[8]+2272392833&4294967295,S=v+(I<<11&4294967295|I>>>21),I=b+(S^v^E)+T[11]+1839030562&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^v)+T[14]+4259657740&4294967295,E=b+(I<<23&4294967295|I>>>9),I=v+(E^b^S)+T[1]+2763975236&4294967295,v=E+(I<<4&4294967295|I>>>28),I=S+(v^E^b)+T[4]+1272893353&4294967295,S=v+(I<<11&4294967295|I>>>21),I=b+(S^v^E)+T[7]+4139469664&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^v)+T[10]+3200236656&4294967295,E=b+(I<<23&4294967295|I>>>9),I=v+(E^b^S)+T[13]+681279174&4294967295,v=E+(I<<4&4294967295|I>>>28),I=S+(v^E^b)+T[0]+3936430074&4294967295,S=v+(I<<11&4294967295|I>>>21),I=b+(S^v^E)+T[3]+3572445317&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^v)+T[6]+76029189&4294967295,E=b+(I<<23&4294967295|I>>>9),I=v+(E^b^S)+T[9]+3654602809&4294967295,v=E+(I<<4&4294967295|I>>>28),I=S+(v^E^b)+T[12]+3873151461&4294967295,S=v+(I<<11&4294967295|I>>>21),I=b+(S^v^E)+T[15]+530742520&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^v)+T[2]+3299628645&4294967295,E=b+(I<<23&4294967295|I>>>9),I=v+(b^(E|~S))+T[0]+4096336452&4294967295,v=E+(I<<6&4294967295|I>>>26),I=S+(E^(v|~b))+T[7]+1126891415&4294967295,S=v+(I<<10&4294967295|I>>>22),I=b+(v^(S|~E))+T[14]+2878612391&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~v))+T[5]+4237533241&4294967295,E=b+(I<<21&4294967295|I>>>11),I=v+(b^(E|~S))+T[12]+1700485571&4294967295,v=E+(I<<6&4294967295|I>>>26),I=S+(E^(v|~b))+T[3]+2399980690&4294967295,S=v+(I<<10&4294967295|I>>>22),I=b+(v^(S|~E))+T[10]+4293915773&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~v))+T[1]+2240044497&4294967295,E=b+(I<<21&4294967295|I>>>11),I=v+(b^(E|~S))+T[8]+1873313359&4294967295,v=E+(I<<6&4294967295|I>>>26),I=S+(E^(v|~b))+T[15]+4264355552&4294967295,S=v+(I<<10&4294967295|I>>>22),I=b+(v^(S|~E))+T[6]+2734768916&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~v))+T[13]+1309151649&4294967295,E=b+(I<<21&4294967295|I>>>11),I=v+(b^(E|~S))+T[4]+4149444226&4294967295,v=E+(I<<6&4294967295|I>>>26),I=S+(E^(v|~b))+T[11]+3174756917&4294967295,S=v+(I<<10&4294967295|I>>>22),I=b+(v^(S|~E))+T[2]+718787259&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~v))+T[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(b+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+b&4294967295,D.g[3]=D.g[3]+S&4294967295}r.prototype.u=function(D,v){v===void 0&&(v=D.length);for(var E=v-this.blockSize,T=this.B,b=this.h,S=0;S<v;){if(b==0)for(;S<=E;)i(this,D,S),S+=this.blockSize;if(typeof D=="string"){for(;S<v;)if(T[b++]=D.charCodeAt(S++),b==this.blockSize){i(this,T),b=0;break}}else for(;S<v;)if(T[b++]=D[S++],b==this.blockSize){i(this,T),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var E=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=E&255,E/=256;for(this.u(D),D=Array(16),v=E=0;4>v;++v)for(var T=0;32>T;T+=8)D[E++]=this.g[v]>>>T&255;return D};function o(D,v){var E=a;return Object.prototype.hasOwnProperty.call(E,D)?E[D]:E[D]=v(D)}function s(D,v){this.h=v;for(var E=[],T=!0,b=D.length-1;0<=b;b--){var S=D[b]|0;T&&S==v||(E[b]=S,T=!1)}this.g=E}var a={};function u(D){return-128<=D&&128>D?o(D,function(v){return new s([v|0],0>v?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return N(l(-D));for(var v=[],E=1,T=0;D>=E;T++)v[T]=D/E|0,E*=4294967296;return new s(v,0)}function h(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return N(h(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),T=p,b=0;b<D.length;b+=8){var S=Math.min(8,D.length-b),I=parseInt(D.substring(b,b+S),v);8>S?(S=l(Math.pow(v,S)),T=T.j(S).add(l(I))):(T=T.j(E),T=T.add(l(I)))}return T}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(R(this))return-N(this).m();for(var D=0,v=1,E=0;E<this.g.length;E++){var T=this.i(E);D+=(0<=T?T:4294967296+T)*v,v*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(w(this))return"0";if(R(this))return"-"+N(this).toString(D);for(var v=l(Math.pow(D,6)),E=this,T="";;){var b=Ee(E,v).g;E=O(E,b.j(v));var S=((0<E.g.length?E.g[0]:E.h)>>>0).toString(D);if(E=b,w(E))return S+T;for(;6>S.length;)S="0"+S;T=S+T}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function w(D){if(D.h!=0)return!1;for(var v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function R(D){return D.h==-1}t.l=function(D){return D=O(this,D),R(D)?-1:w(D)?0:1};function N(D){for(var v=D.g.length,E=[],T=0;T<v;T++)E[T]=~D.g[T];return new s(E,~D.h).add(m)}t.abs=function(){return R(this)?N(this):this},t.add=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],T=0,b=0;b<=v;b++){var S=T+(this.i(b)&65535)+(D.i(b)&65535),I=(S>>>16)+(this.i(b)>>>16)+(D.i(b)>>>16);T=I>>>16,S&=65535,I&=65535,E[b]=I<<16|S}return new s(E,E[E.length-1]&-2147483648?-1:0)};function O(D,v){return D.add(N(v))}t.j=function(D){if(w(this)||w(D))return p;if(R(this))return R(D)?N(this).j(N(D)):N(N(this).j(D));if(R(D))return N(this.j(N(D)));if(0>this.l(y)&&0>D.l(y))return l(this.m()*D.m());for(var v=this.g.length+D.g.length,E=[],T=0;T<2*v;T++)E[T]=0;for(T=0;T<this.g.length;T++)for(var b=0;b<D.g.length;b++){var S=this.i(T)>>>16,I=this.i(T)&65535,Fn=D.i(b)>>>16,xs=D.i(b)&65535;E[2*T+2*b]+=I*xs,$(E,2*T+2*b),E[2*T+2*b+1]+=S*xs,$(E,2*T+2*b+1),E[2*T+2*b+1]+=I*Fn,$(E,2*T+2*b+1),E[2*T+2*b+2]+=S*Fn,$(E,2*T+2*b+2)}for(T=0;T<v;T++)E[T]=E[2*T+1]<<16|E[2*T];for(T=v;T<2*v;T++)E[T]=0;return new s(E,0)};function $(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function K(D,v){this.g=D,this.h=v}function Ee(D,v){if(w(v))throw Error("division by zero");if(w(D))return new K(p,p);if(R(D))return v=Ee(N(D),v),new K(N(v.g),N(v.h));if(R(v))return v=Ee(D,N(v)),new K(N(v.g),v.h);if(30<D.g.length){if(R(D)||R(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,T=v;0>=T.l(D);)E=ft(E),T=ft(T);var b=me(E,1),S=me(T,1);for(T=me(T,2),E=me(E,2);!w(T);){var I=S.add(T);0>=I.l(D)&&(b=b.add(E),S=I),T=me(T,1),E=me(E,1)}return v=O(D,b.j(v)),new K(b,v)}for(b=p;0<=D.l(v);){for(E=Math.max(1,Math.floor(D.m()/v.m())),T=Math.ceil(Math.log(E)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),S=l(E),I=S.j(v);R(I)||0<I.l(D);)E-=T,S=l(E),I=S.j(v);w(S)&&(S=m),b=b.add(S),D=O(D,I)}return new K(b,D)}t.A=function(D){return Ee(this,D).h},t.and=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],T=0;T<v;T++)E[T]=this.i(T)&D.i(T);return new s(E,this.h&D.h)},t.or=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],T=0;T<v;T++)E[T]=this.i(T)|D.i(T);return new s(E,this.h|D.h)},t.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],T=0;T<v;T++)E[T]=this.i(T)^D.i(T);return new s(E,this.h^D.h)};function ft(D){for(var v=D.g.length+1,E=[],T=0;T<v;T++)E[T]=D.i(T)<<1|D.i(T-1)>>>31;return new s(E,D.h)}function me(D,v){var E=v>>5;v%=32;for(var T=D.g.length-E,b=[],S=0;S<T;S++)b[S]=0<v?D.i(S+E)>>>v|D.i(S+E+1)<<32-v:D.i(S+E);return new s(b,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ev=i0.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,ur=i0.Integer=s}).apply(typeof r0<"u"?r0:typeof self<"u"?self:typeof window<"u"?window:{});var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lr={};var wv,b$,cs,Tv,Cc,hh,Dv,bv,Cv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof dh=="object"&&dh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var C=c[g];if(!(C in f))break e;f=f[C]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,C={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function w(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,C,A){for(var k=Array(arguments.length-2),we=2;we<arguments.length;we++)k[we-2]=arguments[we];return d.prototype[C].apply(g,k)}}function R(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function N(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=c.length||0,A=g.length||0;c.length=C+A;for(let k=0;k<A;k++)c[C+k]=g[k]}else c.push(g)}}class O{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function $(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Ee(c){return Ee[" "](c),c}Ee[" "]=function(){};var ft=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function me(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(c,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)c[f]=g[f];for(let A=0;A<E.length;A++)f=E[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function I(){var c=yf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Fn{constructor(){this.h=this.g=null}add(d,f){let g=xs.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var xs=new O(()=>new LN,c=>c.reset());class LN{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ks,Os=!1,yf=new Fn,KI=()=>{let c=a.Promise.resolve(void 0);ks=()=>{c.then(FN)}};var FN=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){S(f)}var d=xs;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Os=!1};function mr(){this.s=this.s,this.C=this.C}mr.prototype.s=!1,mr.prototype.ma=function(){this.s||(this.s=!0,this.N())},mr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var VN=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Ls(c,d){if(tt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(ft){e:{try{Ee(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:jN[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ls.aa.h.call(this)}}w(Ls,tt);var jN={2:"touch",3:"pen",4:"mouse"};Ls.prototype.h=function(){Ls.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Fs="closure_listenable_"+(1e6*Math.random()|0),UN=0;function BN(c,d,f,g,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++UN,this.da=this.fa=!1}function Kc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Qc(c){this.src=c,this.g={},this.h=0}Qc.prototype.add=function(c,d,f,g,C){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var k=_f(c,d,g,C);return-1<k?(d=c[k],f||(d.fa=!1)):(d=new BN(d,this.src,A,!!g,C),d.fa=f,c.push(d)),d};function vf(c,d){var f=d.type;if(f in c.g){var g=c.g[f],C=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(g,C,1),A&&(Kc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function _f(c,d,f,g){for(var C=0;C<c.length;++C){var A=c[C];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return C}return-1}var If="closure_lm_"+(1e6*Math.random()|0),Ef={};function QI(c,d,f,g,C){if(g&&g.once)return ZI(c,d,f,g,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)QI(c,d[A],f,g,C);return null}return f=bf(f),c&&c[Fs]?c.K(d,f,l(g)?!!g.capture:!!g,C):YI(c,d,f,!1,g,C)}function YI(c,d,f,g,C,A){if(!d)throw Error("Invalid event type");var k=l(C)?!!C.capture:!!C,we=Tf(c);if(we||(c[If]=we=new Qc(c)),f=we.add(d,f,g,k,A),f.proxy)return f;if(g=$N(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)VN||(C=k),C===void 0&&(C=!1),c.addEventListener(d.toString(),g,C);else if(c.attachEvent)c.attachEvent(XI(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function $N(){function c(f){return d.call(c.src,c.listener,f)}let d=HN;return c}function ZI(c,d,f,g,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)ZI(c,d[A],f,g,C);return null}return f=bf(f),c&&c[Fs]?c.L(d,f,l(g)?!!g.capture:!!g,C):YI(c,d,f,!0,g,C)}function JI(c,d,f,g,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)JI(c,d[A],f,g,C);else g=l(g)?!!g.capture:!!g,f=bf(f),c&&c[Fs]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=_f(A,f,g,C),-1<f&&(Kc(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=Tf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=_f(d,f,g,C)),(f=-1<c?d[c]:null)&&wf(f))}function wf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Fs])vf(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(XI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Tf(d))?(vf(f,c),f.h==0&&(f.src=null,d[If]=null)):Kc(c)}}}function XI(c){return c in Ef?Ef[c]:Ef[c]="on"+c}function HN(c,d){if(c.da)c=!0;else{d=new Ls(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&wf(c),c=f.call(g,d)}return c}function Tf(c){return c=c[If],c instanceof Qc?c:null}var Df="__closure_events_fn_"+(1e9*Math.random()>>>0);function bf(c){return typeof c=="function"?c:(c[Df]||(c[Df]=function(d){return c.handleEvent(d)}),c[Df])}function nt(){mr.call(this),this.i=new Qc(this),this.M=this,this.F=null}w(nt,mr),nt.prototype[Fs]=!0,nt.prototype.removeEventListener=function(c,d,f,g){JI(this,c,d,f,g)};function pt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new tt(d,c);else if(d instanceof tt)d.target=d.target||c;else{var C=d;d=new tt(g,c),T(d,C)}if(C=!0,f)for(var A=f.length-1;0<=A;A--){var k=d.g=f[A];C=Yc(k,g,!0,d)&&C}if(k=d.g=c,C=Yc(k,g,!0,d)&&C,C=Yc(k,g,!1,d)&&C,f)for(A=0;A<f.length;A++)k=d.g=f[A],C=Yc(k,g,!1,d)&&C}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Kc(f[g]);delete c.g[d],c.h--}}this.F=null},nt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},nt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Yc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var k=d[A];if(k&&!k.da&&k.capture==f){var we=k.listener,Ye=k.ha||k.src;k.fa&&vf(c.i,k),C=we.call(Ye,g)!==!1&&C}}return C&&!g.defaultPrevented}function eE(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function tE(c){c.g=eE(()=>{c.g=null,c.i&&(c.i=!1,tE(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class zN extends mr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:tE(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vs(c){mr.call(this),this.h=c,this.g={}}w(Vs,mr);var nE=[];function rE(c){me(c.g,function(d,f){this.g.hasOwnProperty(f)&&wf(d)},c),c.g={}}Vs.prototype.N=function(){Vs.aa.N.call(this),rE(this)},Vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cf=a.JSON.stringify,qN=a.JSON.parse,WN=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Sf(){}Sf.prototype.h=null;function iE(c){return c.h||(c.h=c.i())}function oE(){}var js={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Af(){tt.call(this,"d")}w(Af,tt);function Rf(){tt.call(this,"c")}w(Rf,tt);var ti={},sE=null;function Zc(){return sE=sE||new nt}ti.La="serverreachability";function aE(c){tt.call(this,ti.La,c)}w(aE,tt);function Us(c){let d=Zc();pt(d,new aE(d))}ti.STAT_EVENT="statevent";function cE(c,d){tt.call(this,ti.STAT_EVENT,c),this.stat=d}w(cE,tt);function gt(c){let d=Zc();pt(d,new cE(d,c))}ti.Ma="timingevent";function uE(c,d){tt.call(this,ti.Ma,c),this.size=d}w(uE,tt);function Bs(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function $s(){this.g=!0}$s.prototype.xa=function(){this.g=!1};function GN(c,d,f,g,C,A){c.info(function(){if(c.g)if(A)for(var k="",we=A.split("&"),Ye=0;Ye<we.length;Ye++){var he=we[Ye].split("=");if(1<he.length){var rt=he[0];he=he[1];var it=rt.split("_");k=2<=it.length&&it[1]=="type"?k+(rt+"="+he+"&"):k+(rt+"=redacted&")}}else k=null;else k=A;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+k})}function KN(c,d,f,g,C,A,k){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+A+" "+k})}function Ji(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+YN(c,f)+(g?" "+g:"")})}function QN(c,d){c.info(function(){return"TIMEOUT: "+d})}$s.prototype.info=function(){};function YN(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var k=1;k<C.length;k++)C[k]=""}}}}return Cf(f)}catch{return d}}var Jc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},lE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nf;function Xc(){}w(Xc,Sf),Xc.prototype.g=function(){return new XMLHttpRequest},Xc.prototype.i=function(){return{}},Nf=new Xc;function yr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Vs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dE}function dE(){this.i=null,this.g="",this.h=!1}var hE={},Mf={};function Pf(c,d,f){c.L=1,c.v=ru(Vn(d)),c.m=f,c.P=!0,fE(c,null)}function fE(c,d){c.F=Date.now(),eu(c),c.A=Vn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),SE(f.i,"t",g),c.C=0,f=c.j.J,c.h=new dE,c.g=qE(c.j,f?d:null,!c.m),0<c.O&&(c.M=new zN(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(nE[0]=C.toString()),C=nE);for(var A=0;A<C.length;A++){var k=QI(f,C[A],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Us(),GN(c.i,c.u,c.A,c.l,c.R,c.m)}yr.prototype.ca=function(c){c=c.target;let d=this.M;d&&jn(c)==3?d.j():this.Y(c)},yr.prototype.Y=function(c){try{if(c==this.g)e:{let it=jn(this.g);var d=this.g.Ba();let to=this.g.Z();if(!(3>it)&&(it!=3||this.g&&(this.h.h||this.g.oa()||kE(this.g)))){this.J||it!=4||d==7||(d==8||0>=to?Us(3):Us(2)),xf(this);var f=this.g.Z();this.X=f;t:if(pE(this)){var g=kE(this.g);c="";var C=g.length,A=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ni(this),Hs(this);var k="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==C-1)});g.length=0,this.h.g+=c,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=f==200,KN(this.i,this.u,this.A,this.l,this.R,it,f),this.o){if(this.T&&!this.K){t:{if(this.g){var we,Ye=this.g;if((we=Ye.g?Ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(we)){var he=we;break t}}he=null}if(f=he)Ji(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kf(this,f);else{this.o=!1,this.s=3,gt(12),ni(this),Hs(this);break e}}if(this.P){f=!0;let Qt;for(;!this.J&&this.C<k.length;)if(Qt=ZN(this,k),Qt==Mf){it==4&&(this.s=4,gt(14),f=!1),Ji(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==hE){this.s=4,gt(15),Ji(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else Ji(this.i,this.l,Qt,null),kf(this,Qt);if(pE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||k.length!=0||this.h.h||(this.s=1,gt(16),f=!1),this.o=this.o&&f,!f)Ji(this.i,this.l,k,"[Invalid Chunked Response]"),ni(this),Hs(this);else if(0<k.length&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.ba&&!rt.M&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Uf(rt),rt.M=!0,gt(11))}}else Ji(this.i,this.l,k,null),kf(this,k);it==4&&ni(this),this.o&&!this.J&&(it==4?BE(this.j,this):(this.o=!1,eu(this)))}else pM(this.g),f==400&&0<k.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),ni(this),Hs(this)}}}catch{}finally{}};function pE(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ZN(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Mf:(f=Number(d.substring(f,g)),isNaN(f)?hE:(g+=1,g+f>d.length?Mf:(d=d.slice(g,g+f),c.C=g+f,d)))}yr.prototype.cancel=function(){this.J=!0,ni(this)};function eu(c){c.S=Date.now()+c.I,gE(c,c.I)}function gE(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Bs(m(c.ba,c),d)}function xf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}yr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(QN(this.i,this.A),this.L!=2&&(Us(),gt(17)),ni(this),this.s=2,Hs(this)):gE(this,this.S-c)};function Hs(c){c.j.G==0||c.J||BE(c.j,c)}function ni(c){xf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,rE(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function kf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Of(f.h,c))){if(!c.K&&Of(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)cu(f),su(f);else break e;jf(f),gt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=Bs(m(f.Za,f),6e3));if(1>=vE(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ii(f,11)}else if((c.K||f.g==c)&&cu(f),!$(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let he=C[d];if(f.T=he[0],he=he[1],f.G==2)if(he[0]=="c"){f.K=he[1],f.ia=he[2];let rt=he[3];rt!=null&&(f.la=rt,f.j.info("VER="+f.la));let it=he[4];it!=null&&(f.Aa=it,f.j.info("SVER="+f.Aa));let to=he[5];to!=null&&typeof to=="number"&&0<to&&(g=1.5*to,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Qt=c.g;if(Qt){let lu=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lu){var A=g.h;A.g||lu.indexOf("spdy")==-1&&lu.indexOf("quic")==-1&&lu.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Lf(A,A.h),A.h=null))}if(g.D){let Bf=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Bf&&(g.ya=Bf,be(g.I,g.D,Bf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var k=c;if(g.qa=zE(g,g.J?g.ia:null,g.W),k.K){_E(g.h,k);var we=k,Ye=g.L;Ye&&(we.I=Ye),we.B&&(xf(we),eu(we)),g.g=k}else jE(g);0<f.i.length&&au(f)}else he[0]!="stop"&&he[0]!="close"||ii(f,7);else f.G==3&&(he[0]=="stop"||he[0]=="close"?he[0]=="stop"?ii(f,7):Vf(f):he[0]!="noop"&&f.l&&f.l.ta(he),f.v=0)}}Us(4)}catch{}}var JN=class{constructor(c,d){this.g=c,this.map=d}};function mE(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yE(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function vE(c){return c.h?1:c.g?c.g.size:0}function Of(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Lf(c,d){c.g?c.g.add(d):c.h=d}function _E(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}mE.prototype.cancel=function(){if(this.i=IE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function IE(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return R(c.i)}function XN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function eM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function EE(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=eM(c),g=XN(c),C=g.length,A=0;A<C;A++)d.call(void 0,g[A],f&&f[A],c)}var wE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tM(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),C=null;if(0<=g){var A=c[f].substring(0,g);C=c[f].substring(g+1)}else A=c[f];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function ri(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ri){this.h=c.h,tu(this,c.j),this.o=c.o,this.g=c.g,nu(this,c.s),this.l=c.l;var d=c.i,f=new Ws;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),TE(this,f),this.m=c.m}else c&&(d=String(c).match(wE))?(this.h=!1,tu(this,d[1]||"",!0),this.o=zs(d[2]||""),this.g=zs(d[3]||"",!0),nu(this,d[4]),this.l=zs(d[5]||"",!0),TE(this,d[6]||"",!0),this.m=zs(d[7]||"")):(this.h=!1,this.i=new Ws(null,this.h))}ri.prototype.toString=function(){var c=[],d=this.j;d&&c.push(qs(d,DE,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(qs(d,DE,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(qs(f,f.charAt(0)=="/"?iM:rM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",qs(f,sM)),c.join("")};function Vn(c){return new ri(c)}function tu(c,d,f){c.j=f?zs(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function nu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function TE(c,d,f){d instanceof Ws?(c.i=d,aM(c.i,c.h)):(f||(d=qs(d,oM)),c.i=new Ws(d,c.h))}function be(c,d,f){c.i.set(d,f)}function ru(c){return be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function zs(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function qs(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,nM),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function nM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var DE=/[#\/\?@]/g,rM=/[#\?:]/g,iM=/[#\?]/g,oM=/[#\?@]/g,sM=/#/g;function Ws(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function vr(c){c.g||(c.g=new Map,c.h=0,c.i&&tM(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Ws.prototype,t.add=function(c,d){vr(this),this.i=null,c=Xi(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function bE(c,d){vr(c),d=Xi(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function CE(c,d){return vr(c),d=Xi(c,d),c.g.has(d)}t.forEach=function(c,d){vr(this),this.g.forEach(function(f,g){f.forEach(function(C){c.call(d,C,g,this)},this)},this)},t.na=function(){vr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=c[g];for(let A=0;A<C.length;A++)f.push(d[g])}return f},t.V=function(c){vr(this);let d=[];if(typeof c=="string")CE(this,c)&&(d=d.concat(this.g.get(Xi(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return vr(this),this.i=null,c=Xi(this,c),CE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function SE(c,d,f){bE(c,d),0<f.length&&(c.i=null,c.g.set(Xi(c,d),R(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var C=A;k[g]!==""&&(C+="="+encodeURIComponent(String(k[g]))),c.push(C)}}return this.i=c.join("&")};function Xi(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function aM(c,d){d&&!c.j&&(vr(c),c.i=null,c.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(bE(this,g),SE(this,C,f))},c)),c.j=d}function cM(c,d){let f=new $s;if(a.Image){let g=new Image;g.onload=y(_r,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(_r,f,"TestLoadImage: error",!1,d,g),g.onabort=y(_r,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(_r,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function uM(c,d){let f=new $s,g=new AbortController,C=setTimeout(()=>{g.abort(),_r(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(C),A.ok?_r(f,"TestPingServer: ok",!0,d):_r(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),_r(f,"TestPingServer: error",!1,d)})}function _r(c,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function lM(){this.g=new WN}function dM(c,d,f){let g=f||"";try{EE(c,function(C,A){let k=C;l(C)&&(k=Cf(C)),d.push(g+A+"="+encodeURIComponent(k))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function Gs(c){this.l=c.Ub||null,this.j=c.eb||!1}w(Gs,Sf),Gs.prototype.g=function(){return new iu(this.l,this.j)},Gs.prototype.i=function(c){return function(){return c}}({});function iu(c,d){nt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(iu,nt),t=iu.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Qs(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ks(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qs(this)),this.g&&(this.readyState=3,Qs(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;AE(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function AE(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ks(this):Qs(this),this.readyState==3&&AE(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ks(this))},t.Qa=function(c){this.g&&(this.response=c,Ks(this))},t.ga=function(){this.g&&Ks(this)};function Ks(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Qs(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Qs(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(iu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function RE(c){let d="";return me(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Ff(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=RE(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):be(c,d,f))}function Re(c){nt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Re,nt);var hM=/^https?$/i,fM=["POST","PUT"];t=Re.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nf.g(),this.v=this.o?iE(this.o):iE(Nf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){NE(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(fM,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,k]of f)this.g.setRequestHeader(A,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xE(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){NE(this,A)}};function NE(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,ME(c),ou(c)}function ME(c){c.A||(c.A=!0,pt(c,"complete"),pt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,pt(this,"complete"),pt(this,"abort"),ou(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ou(this,!0)),Re.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?PE(this):this.bb())},t.bb=function(){PE(this)};function PE(c){if(c.h&&typeof s<"u"&&(!c.v[1]||jn(c)!=4||c.Z()!=2)){if(c.u&&jn(c)==4)eE(c.Ea,0,c);else if(pt(c,"readystatechange"),jn(c)==4){c.h=!1;try{let k=c.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=k===0){var C=String(c.D).match(wE)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),g=!hM.test(C?C.toLowerCase():"")}f=g}if(f)pt(c,"complete"),pt(c,"success");else{c.m=6;try{var A=2<jn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",ME(c)}}finally{ou(c)}}}}function ou(c,d){if(c.g){xE(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||pt(c,"ready");try{f.onreadystatechange=g}catch{}}}function xE(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function jn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),qN(d)}};function kE(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function pM(c){let d={};c=(c.g&&2<=jn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if($(c[g]))continue;var f=b(c[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[C]||[];d[C]=A,A.push(f)}D(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ys(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function OE(c){this.Aa=0,this.i=[],this.j=new $s,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ys("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ys("baseRetryDelayMs",5e3,c),this.cb=Ys("retryDelaySeedMs",1e4,c),this.Wa=Ys("forwardChannelMaxRetries",2,c),this.wa=Ys("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new mE(c&&c.concurrentRequestLimit),this.Da=new lM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=OE.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){gt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=zE(this,null,this.W),au(this)};function Vf(c){if(LE(c),c.G==3){var d=c.U++,f=Vn(c.I);if(be(f,"SID",c.K),be(f,"RID",d),be(f,"TYPE","terminate"),Zs(c,f),d=new yr(c,c.j,d),d.L=2,d.v=ru(Vn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=qE(d.j,null),d.g.ea(d.v)),d.F=Date.now(),eu(d)}HE(c)}function su(c){c.g&&(Uf(c),c.g.cancel(),c.g=null)}function LE(c){su(c),c.u&&(a.clearTimeout(c.u),c.u=null),cu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function au(c){if(!yE(c.h)&&!c.s){c.s=!0;var d=c.Ga;ks||KI(),Os||(ks(),Os=!0),yf.add(d,c),c.B=0}}function gM(c,d){return vE(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Bs(m(c.Ga,c,d),$E(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new yr(this,this.j,c),A=this.o;if(this.S&&(A?(A=v(A),T(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=VE(this,C,d),f=Vn(this.I),be(f,"RID",c),be(f,"CVER",22),this.D&&be(f,"X-HTTP-Session-Id",this.D),Zs(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(RE(A)))+"&"+d:this.m&&Ff(f,this.m,A)),Lf(this.h,C),this.Ua&&be(f,"TYPE","init"),this.P?(be(f,"$req",d),be(f,"SID","null"),C.T=!0,Pf(C,f,null)):Pf(C,f,d),this.G=2}}else this.G==3&&(c?FE(this,c):this.i.length==0||yE(this.h)||FE(this))};function FE(c,d){var f;d?f=d.l:f=c.U++;let g=Vn(c.I);be(g,"SID",c.K),be(g,"RID",f),be(g,"AID",c.T),Zs(c,g),c.m&&c.o&&Ff(g,c.m,c.o),f=new yr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=VE(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Lf(c.h,f),Pf(f,g,d)}function Zs(c,d){c.H&&me(c.H,function(f,g){be(d,g,f)}),c.l&&EE({},function(f,g){be(d,g,f)})}function VE(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var C=c.i;let A=-1;for(;;){let k=["count="+f];A==-1?0<f?(A=C[0].g,k.push("ofs="+A)):A=0:k.push("ofs="+A);let we=!0;for(let Ye=0;Ye<f;Ye++){let he=C[Ye].g,rt=C[Ye].map;if(he-=A,0>he)A=Math.max(0,C[Ye].g-100),we=!1;else try{dM(rt,k,"req"+he+"_")}catch{g&&g(rt)}}if(we){g=k.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function jE(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ks||KI(),Os||(ks(),Os=!0),yf.add(d,c),c.v=0}}function jf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Bs(m(c.Fa,c),$E(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,UE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Bs(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),su(this),UE(this))};function Uf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function UE(c){c.g=new yr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Vn(c.qa);be(d,"RID","rpc"),be(d,"SID",c.K),be(d,"AID",c.T),be(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&be(d,"TO",c.ja),be(d,"TYPE","xmlhttp"),Zs(c,d),c.m&&c.o&&Ff(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=ru(Vn(d)),f.m=null,f.P=!0,fE(f,c)}t.Za=function(){this.C!=null&&(this.C=null,su(this),jf(this),gt(19))};function cu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function BE(c,d){var f=null;if(c.g==d){cu(c),Uf(c),c.g=null;var g=2}else if(Of(c.h,d))f=d.D,_E(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;g=Zc(),pt(g,new uE(g,f)),au(c)}else jE(c);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&gM(c,d)||g==2&&jf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:ii(c,5);break;case 4:ii(c,10);break;case 3:ii(c,6);break;default:ii(c,2)}}}function $E(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function ii(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let C=!g;g=new ri(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||tu(g,"https"),ru(g),C?cM(g.toString(),f):uM(g.toString(),f)}else gt(2);c.G=0,c.l&&c.l.sa(d),HE(c),LE(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function HE(c){if(c.G=0,c.ka=[],c.l){let d=IE(c.h);(d.length!=0||c.i.length!=0)&&(N(c.ka,d),N(c.ka,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.ra()}}function zE(c,d,f){var g=f instanceof ri?Vn(f):new ri(f);if(g.g!="")d&&(g.g=d+"."+g.g),nu(g,g.s);else{var C=a.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new ri(null);g&&tu(A,g),d&&(A.g=d),C&&nu(A,C),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&be(g,f,d),be(g,"VER",c.la),Zs(c,g),g}function qE(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Re(new Gs({eb:f})):new Re(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function WE(){}t=WE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function uu(){}uu.prototype.g=function(c,d){return new Rt(c,d)};function Rt(c,d){nt.call(this),this.g=new OE(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!$(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!$(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new eo(this)}w(Rt,nt),Rt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rt.prototype.close=function(){Vf(this.g)},Rt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Cf(c),c=f);d.i.push(new JN(d.Ya++,c)),d.G==3&&au(d)},Rt.prototype.N=function(){this.g.l=null,delete this.j,Vf(this.g),delete this.g,Rt.aa.N.call(this)};function GE(c){Af.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}w(GE,Af);function KE(){Rf.call(this),this.status=1}w(KE,Rf);function eo(c){this.g=c}w(eo,WE),eo.prototype.ua=function(){pt(this.g,"a")},eo.prototype.ta=function(c){pt(this.g,new GE(c))},eo.prototype.sa=function(c){pt(this.g,new KE)},eo.prototype.ra=function(){pt(this.g,"b")},uu.prototype.createWebChannel=uu.prototype.g,Rt.prototype.send=Rt.prototype.o,Rt.prototype.open=Rt.prototype.m,Rt.prototype.close=Rt.prototype.close,Cv=lr.createWebChannelTransport=function(){return new uu},bv=lr.getStatEventTarget=function(){return Zc()},Dv=lr.Event=ti,hh=lr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Jc.NO_ERROR=0,Jc.TIMEOUT=8,Jc.HTTP_ERROR=6,Cc=lr.ErrorCode=Jc,lE.COMPLETE="complete",Tv=lr.EventType=lE,oE.EventType=js,js.OPEN="a",js.CLOSE="b",js.ERROR="c",js.MESSAGE="d",nt.prototype.listen=nt.prototype.K,cs=lr.WebChannel=oE,b$=lr.FetchXmlHttpFactory=Gs,Re.prototype.listenOnce=Re.prototype.L,Re.prototype.getLastError=Re.prototype.Ka,Re.prototype.getLastErrorCode=Re.prototype.Ba,Re.prototype.getStatus=Re.prototype.Z,Re.prototype.getResponseJson=Re.prototype.Oa,Re.prototype.getResponseText=Re.prototype.oa,Re.prototype.send=Re.prototype.ea,Re.prototype.setWithCredentials=Re.prototype.Ha,wv=lr.XhrIo=Re}).apply(typeof dh<"u"?dh:typeof self<"u"?self:typeof window<"u"?window:{});var o0="@firebase/firestore",s0="4.7.16";var Ke=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");var As="11.8.1";var $i=new bn("@firebase/firestore");function us(){return $i.logLevel}function V(t,...e){if($i.logLevel<=ce.DEBUG){let n=e.map(vI);$i.debug(`Firestore (${As}): ${t}`,...n)}}function dr(t,...e){if($i.logLevel<=ce.ERROR){let n=e.map(vI);$i.error(`Firestore (${As}): ${t}`,...n)}}function ms(t,...e){if($i.logLevel<=ce.WARN){let n=e.map(vI);$i.warn(`Firestore (${As}): ${t}`,...n)}}function vI(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function z(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,J0(t,r,n)}function J0(t,e,n){let r=`FIRESTORE (${As}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw dr(r),new Error(r)}function ge(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||J0(e,i,r)}function Q(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends Ot{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Rn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var _h=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Mv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ke.UNAUTHENTICATED))}shutdown(){}},Pv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},xv=class{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ge(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Rn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Rn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Rn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ge(typeof r.accessToken=="string",31837,{l:r}),new _h(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ge(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}},kv=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Ov=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new kv(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ih=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Lv=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ut(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ge(this.o===void 0,3512);let r=o=>{o.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,V("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ih(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ih(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function C$(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function X0(){return new TextEncoder}var Eh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=C$(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function re(t,e){return t<e?-1:t>e?1:0}function Fv(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return re(r,i);{let o=X0(),s=S$(o.encode(a0(t,n)),o.encode(a0(e,n)));return s!==0?s:re(r,i)}}n+=r>65535?2:1}return re(t.length,e.length)}function a0(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function S$(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return re(t[n],e[n]);return re(t.length,e.length)}function ys(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var c0=-62135596800,u0=1e6,et=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*u0);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<c0)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/u0}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-c0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var J=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new et(0,0))}static max(){return new t(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var l0="__name__",wh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&z(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&z(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return re(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):Fv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ur.fromString(e.substring(4,e.length-2))}},Ae=class t extends wh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},A$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ft=class t extends wh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return A$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===l0}static keyField(){return new t([l0])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new L(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var H=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ae.fromString(e))}static fromName(e){return new t(Ae.fromString(e).popFirst(5))}static empty(){return new t(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ae(e.slice()))}};var Pc=-1,Vv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Vv.UNKNOWN_ID=-1;function R$(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new et(n+1,0):new et(n,r));return new Hi(i,H.empty(),e)}function N$(t){return new Hi(t.readTime,t.key,Pc)}var Hi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(J.min(),H.empty(),Pc)}static max(){return new t(J.max(),H.empty(),Pc)}};function M$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}var P$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",jv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Rs(t){return _(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==P$)throw t;V("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function x$(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ns(t){return t.name==="IndexedDbTransactionError"}var _I=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ce&&this.ce(n),n}}t.le=-1;return t})(),II=-1;function of(t){return t==null}function xc(t){return t===0&&1/t==-1/0}function k$(t){return typeof t=="number"&&Number.isInteger(t)&&!xc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var eR="";function O$(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=d0(e)),e=L$(t.get(n),e);return d0(e)}function L$(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case eR:n+="";break;default:n+=o}}return n}function d0(t){return t+eR+""}var F$="remoteDocuments",tR="owner";var nR="mutationQueues";var rR="mutations";var iR="documentMutations",V$="remoteDocumentsV14";var oR="remoteDocumentGlobal";var sR="targets";var aR="targetDocuments";var cR="targetGlobal",uR="collectionParents";var lR="clientMetadata";var dR="bundles";var hR="namedQueries";var j$="indexConfiguration";var U$="indexState";var B$="indexEntries";var fR="documentOverlays";var $$="globals";var H$=[nR,rR,iR,F$,sR,tR,cR,aR,lR,oR,uR,dR,hR],AY=[...H$,fR],z$=[nR,rR,iR,V$,sR,tR,cR,aR,lR,oR,uR,dR,hR,fR],q$=z$,W$=[...q$,j$,U$,B$];var RY=[...W$,$$];function h0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ei(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pR(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var xe=class t{constructor(e,n){this.comparator=e,this.root=n||Nn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fs(this.root,e,this.comparator,!1)}getReverseIterator(){return new fs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fs(this.root,e,this.comparator,!0)}},fs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Nn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw z(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw z(27949);return e+(this.isRed()?0:1)}};Nn.EMPTY=null,Nn.RED=!0,Nn.BLACK=!1;Nn.EMPTY=new class{constructor(){this.size=0}get key(){throw z(57766)}get value(){throw z(16141)}get color(){throw z(16727)}get left(){throw z(29726)}get right(){throw z(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Qe=class t{constructor(e){this.comparator=e,this.data=new xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Th(this.data.getIterator())}getIteratorFrom(e){return new Th(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Th=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Gt=class t{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new t([])}unionWith(e){let n=new Qe(Ft.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ys(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Dh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ht=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Dh("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ht.EMPTY_BYTE_STRING=new ht("");var G$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(t){if(ge(!!t,39018),typeof t=="string"){let e=0,n=G$.exec(t);if(ge(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ce(t.seconds),nanos:Ce(t.nanos)}}function Ce(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fr(t){return typeof t=="string"?ht.fromBase64String(t):ht.fromUint8Array(t)}var gR="server_timestamp",mR="__type__",yR="__previous_value__",vR="__local_write_time__";function EI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[mR])===null||n===void 0?void 0:n.stringValue)===gR}function sf(t){let e=t.mapValue.fields[yR];return EI(e)?sf(e):e}function kc(t){let e=hr(t.mapValue.fields[vR].timestampValue);return new et(e.seconds,e.nanos)}var Uv=class{constructor(e,n,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},bh="(default)",Ch=class t{constructor(e,n){this.projectId=e,this.database=n||bh}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===bh}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var wI="__type__",_R="__max__",fh={mapValue:{fields:{__type__:{stringValue:_R}}}},TI="__vector__",vs="value";function Qr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?EI(t)?4:ER(t)?9007199254740991:IR(t)?10:11:z(28295,{value:t})}function kn(t,e){if(t===e)return!0;let n=Qr(t);if(n!==Qr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kc(t).isEqual(kc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=hr(i.timestampValue),a=hr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return fr(i.bytesValue).isEqual(fr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ce(i.geoPointValue.latitude)===Ce(o.geoPointValue.latitude)&&Ce(i.geoPointValue.longitude)===Ce(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ce(i.integerValue)===Ce(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ce(i.doubleValue),a=Ce(o.doubleValue);return s===a?xc(s)===xc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ys(t.arrayValue.values||[],e.arrayValue.values||[],kn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(h0(s)!==h0(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!kn(s[u],a[u])))return!1;return!0}(t,e);default:return z(52216,{left:t})}}function Oc(t,e){return(t.values||[]).find(n=>kn(n,e))!==void 0}function _s(t,e){if(t===e)return 0;let n=Qr(t),r=Qr(e);if(n!==r)return re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ce(o.integerValue||o.doubleValue),u=Ce(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return f0(t.timestampValue,e.timestampValue);case 4:return f0(kc(t),kc(e));case 5:return Fv(t.stringValue,e.stringValue);case 6:return function(o,s){let a=fr(o),u=fr(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=re(a[l],u[l]);if(h!==0)return h}return re(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=re(Ce(o.latitude),Ce(s.latitude));return a!==0?a:re(Ce(o.longitude),Ce(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return p0(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[vs])===null||a===void 0?void 0:a.arrayValue,w=(u=m[vs])===null||u===void 0?void 0:u.arrayValue,R=re(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=w?.values)===null||h===void 0?void 0:h.length)||0);return R!==0?R:p0(y,w)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===fh.mapValue&&s===fh.mapValue)return 0;if(o===fh.mapValue)return 1;if(s===fh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Fv(u[p],h[p]);if(m!==0)return m;let y=_s(a[u[p]],l[h[p]]);if(y!==0)return y}return re(u.length,h.length)}(t.mapValue,e.mapValue);default:throw z(23264,{Pe:n})}}function f0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);let n=hr(t),r=hr(e),i=re(n.seconds,r.seconds);return i!==0?i:re(n.nanos,r.nanos)}function p0(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=_s(n[i],r[i]);if(o)return o}return re(n.length,r.length)}function Is(t){return Bv(t)}function Bv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=hr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return fr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return H.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Bv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Bv(n.fields[s])}`;return i+"}"}(t.mapValue):z(61005,{value:t})}function mh(t){switch(Qr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=sf(t);return e?16+mh(e):16;case 5:return 2*t.stringValue.length;case 6:return fr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+mh(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ei(r.fields,(o,s)=>{i+=o.length+mh(s)}),i}(t.mapValue);default:throw z(13486,{value:t})}}function g0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $v(t){return!!t&&"integerValue"in t}function DI(t){return!!t&&"arrayValue"in t}function m0(t){return!!t&&"nullValue"in t}function y0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yh(t){return!!t&&"mapValue"in t}function IR(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[wI])===null||n===void 0?void 0:n.stringValue)===TI}function Ac(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ei(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ac(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ac(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ER(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===_R}var MY={mapValue:{fields:{[wI]:{stringValue:TI},[vs]:{arrayValue:{}}}}};var Lt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!yh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ac(n)}setAll(e){let n=Ft.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ac(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());yh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return kn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];yh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ei(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Ac(this.value))}};function wR(t){let e=[];return ei(t.fields,(n,r)=>{let i=new Ft([n]);if(yh(r)){let o=wR(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Gt(e)}var hn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,J.min(),J.min(),J.min(),Lt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,J.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,J.min(),J.min(),Lt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,J.min(),J.min(),Lt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Es=class{constructor(e,n){this.position=e,this.inclusive=n}};function v0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=H.comparator(H.fromName(s.referenceValue),n.key):r=_s(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function _0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!kn(t.position[n],e.position[n]))return!1;return!0}var zi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function K$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Sh=class{},Ue=class t extends Sh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new zv(e,n,r):n==="array-contains"?new Gv(e,r):n==="in"?new Kv(e,r):n==="not-in"?new Qv(e,r):n==="array-contains-any"?new Yv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qv(e,r):new Wv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(_s(n,this.value)):n!==null&&Qr(this.value)===Qr(n)&&this.matchesComparison(_s(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},fn=class t extends Sh{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new t(e,n)}matches(e){return TR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function TR(t){return t.op==="and"}function DR(t){return Q$(t)&&TR(t)}function Q$(t){for(let e of t.filters)if(e instanceof fn)return!1;return!0}function Hv(t){if(t instanceof Ue)return t.field.canonicalString()+t.op.toString()+Is(t.value);if(DR(t))return t.filters.map(e=>Hv(e)).join(",");{let e=t.filters.map(n=>Hv(n)).join(",");return`${t.op}(${e})`}}function bR(t,e){return t instanceof Ue?function(r,i){return i instanceof Ue&&r.op===i.op&&r.field.isEqual(i.field)&&kn(r.value,i.value)}(t,e):t instanceof fn?function(r,i){return i instanceof fn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&bR(s,i.filters[a]),!0):!1}(t,e):void z(19439)}function CR(t){return t instanceof Ue?function(n){return`${n.field.canonicalString()} ${n.op} ${Is(n.value)}`}(t):t instanceof fn?function(n){return n.op.toString()+" {"+n.getFilters().map(CR).join(" ,")+"}"}(t):"Filter"}var zv=class extends Ue{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){let n=H.comparator(e.key,this.key);return this.matchesComparison(n)}},qv=class extends Ue{constructor(e,n){super(e,"in",n),this.keys=SR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Wv=class extends Ue{constructor(e,n){super(e,"not-in",n),this.keys=SR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function SR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}var Gv=class extends Ue{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return DI(n)&&Oc(n.arrayValue,this.value)}},Kv=class extends Ue{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Oc(this.value.arrayValue,n)}},Qv=class extends Ue{constructor(e,n){super(e,"not-in",n)}matches(e){if(Oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Oc(this.value.arrayValue,n)}},Yv=class extends Ue{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!DI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Oc(this.value.arrayValue,r))}};var Zv=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function I0(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Zv(t,e,n,r,i,o,s)}function bI(t){let e=Q(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Hv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),of(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Is(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Is(r)).join(",")),e.Ie=n}return e.Ie}function CI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!K$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_0(t.startAt,e.startAt)&&_0(t.endAt,e.endAt)}function Jv(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Yr=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function Y$(t,e,n,r,i,o,s,a){return new Yr(t,e,n,r,i,o,s,a)}function af(t){return new Yr(t)}function E0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function AR(t){return t.collectionGroup!==null}function Rc(t){let e=Q(t);if(e.Ee===null){e.Ee=[];let n=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Qe(Ft.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new zi(o,r))}),n.has(Ft.keyField().canonicalString())||e.Ee.push(new zi(Ft.keyField(),r))}return e.Ee}function Mn(t){let e=Q(t);return e.de||(e.de=Z$(e,Rc(t))),e.de}function Z$(t,e){if(t.limitType==="F")return I0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new zi(i.field,o)});let n=t.endAt?new Es(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Es(t.startAt.position,t.startAt.inclusive):null;return I0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xv(t,e){let n=t.filters.concat([e]);return new Yr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function e_(t,e,n){return new Yr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cf(t,e){return CI(Mn(t),Mn(e))&&t.limitType===e.limitType}function RR(t){return`${bI(Mn(t))}|lt:${t.limitType}`}function ls(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>CR(i)).join(", ")}]`),of(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Is(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Is(i)).join(",")),`Target(${r})`}(Mn(t))}; limitType=${t.limitType})`}function uf(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):H.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Rc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=v0(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Rc(r),i)||r.endAt&&!function(s,a,u){let l=v0(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Rc(r),i))}(t,e)}function J$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function NR(t){return(e,n)=>{let r=!1;for(let i of Rc(t)){let o=X$(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function X$(t,e,n){let r=t.field.isKeyField()?H.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?_s(u,l):z(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return z(19790,{direction:t.dir})}}var pr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ei(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return pR(this.inner)}size(){return this.innerSize}};var eH=new xe(H.comparator);function gr(){return eH}var MR=new xe(H.comparator);function Sc(...t){let e=MR;for(let n of t)e=e.insert(n.key,n);return e}function PR(t){let e=MR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ji(){return Nc()}function xR(){return Nc()}function Nc(){return new pr(t=>t.toString(),(t,e)=>t.isEqual(e))}var tH=new xe(H.comparator),nH=new Qe(H.comparator);function le(...t){let e=nH;for(let n of t)e=e.add(n);return e}var rH=new Qe(re);function iH(){return rH}function SI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xc(e)?"-0":e}}function kR(t){return{integerValue:""+t}}function oH(t,e){return k$(e)?kR(e):SI(t,e)}var ws=class{constructor(){this._=void 0}};function sH(t,e,n){return t instanceof qi?function(i,o){let s={fields:{[mR]:{stringValue:gR},[vR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&EI(o)&&(o=sf(o)),o&&(s.fields[yR]=o),{mapValue:s}}(n,e):t instanceof Zr?LR(t,e):t instanceof Wi?FR(t,e):function(i,o){let s=OR(i,o),a=w0(s)+w0(i.Re);return $v(s)&&$v(i.Re)?kR(a):SI(i.serializer,a)}(t,e)}function aH(t,e,n){return t instanceof Zr?LR(t,e):t instanceof Wi?FR(t,e):n}function OR(t,e){return t instanceof Ts?function(r){return $v(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var qi=class extends ws{},Zr=class extends ws{constructor(e){super(),this.elements=e}};function LR(t,e){let n=VR(e);for(let r of t.elements)n.some(i=>kn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Wi=class extends ws{constructor(e){super(),this.elements=e}};function FR(t,e){let n=VR(e);for(let r of t.elements)n=n.filter(i=>!kn(i,r));return{arrayValue:{values:n}}}var Ts=class extends ws{constructor(e,n){super(),this.serializer=e,this.Re=n}};function w0(t){return Ce(t.integerValue||t.doubleValue)}function VR(t){return DI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ah=class{constructor(e,n){this.field=e,this.transform=n}};function cH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Zr&&i instanceof Zr||r instanceof Wi&&i instanceof Wi?ys(r.elements,i.elements,kn):r instanceof Ts&&i instanceof Ts?kn(r.Re,i.Re):r instanceof qi&&i instanceof qi}(t.transform,e.transform)}var t_=class{constructor(e,n){this.version=e,this.transformResults=n}},Pn=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function vh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ds=class{};function jR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Lc(t.key,Pn.none()):new Gi(t.key,t.data,Pn.none());{let n=t.data,r=Lt.empty(),i=new Qe(Ft.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new On(t.key,r,new Gt(i.toArray()),Pn.none())}}function uH(t,e,n){t instanceof Gi?function(i,o,s){let a=i.value.clone(),u=D0(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof On?function(i,o,s){if(!vh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=D0(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(UR(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Mc(t,e,n,r){return t instanceof Gi?function(o,s,a,u){if(!vh(o.precondition,s))return a;let l=o.value.clone(),h=b0(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof On?function(o,s,a,u){if(!vh(o.precondition,s))return a;let l=b0(o.fieldTransforms,u,s),h=s.data;return h.setAll(UR(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return vh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function lH(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=OR(r.transform,i||null);o!=null&&(n===null&&(n=Lt.empty()),n.set(r.field,o))}return n||null}function T0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ys(r,i,(o,s)=>cH(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Gi=class extends Ds{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},On=class extends Ds{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function UR(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function D0(t,e,n){let r=new Map;ge(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,aH(s,a,n[i]))}return r}function b0(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,sH(o,s,e))}return r}var Lc=class extends Ds{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},n_=class extends Ds{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var r_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&uH(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Mc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Mc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=xR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=jR(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&ys(this.mutations,e.mutations,(n,r)=>T0(n,r))&&ys(this.baseMutations,e.baseMutations,(n,r)=>T0(n,r))}},i_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ge(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return tH}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var o_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var s_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ve,de;function dH(t){switch(t){case M.OK:return z(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return z(15467,{code:t})}}function BR(t){if(t===void 0)return dr("GRPC error has no .code"),M.UNKNOWN;switch(t){case Ve.OK:return M.OK;case Ve.CANCELLED:return M.CANCELLED;case Ve.UNKNOWN:return M.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return M.INTERNAL;case Ve.UNAVAILABLE:return M.UNAVAILABLE;case Ve.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Ve.NOT_FOUND:return M.NOT_FOUND;case Ve.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Ve.ABORTED:return M.ABORTED;case Ve.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Ve.DATA_LOSS:return M.DATA_LOSS;default:return z(39323,{code:t})}}(de=Ve||(Ve={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";var C0=null;var hH=new ur([4294967295,4294967295],0);function S0(t){let e=X0().encode(t),n=new Ev;return n.update(e),new Uint8Array(n.digest())}function A0(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ur([n,r],0),new ur([i,o],0)]}var a_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ui(`Invalid padding: ${n}`);if(r<0)throw new Ui(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ui(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ui(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=ur.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(ur.fromNumber(r)));return i.compare(hH)===1&&(i=new ur([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let n=S0(e),[r,i]=A0(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.Se(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let n=S0(e),[r,i]=A0(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.be(s)}}be(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ui=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Rh=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Fc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(J.min(),i,new xe(re),gr(),le())}},Fc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,le(),le(),le())}};var ps=class{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}},Nh=class{constructor(e,n){this.targetId=e,this.Ce=n}},Mh=class{constructor(e,n,r=ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Ph=class{constructor(){this.Fe=0,this.Me=R0(),this.xe=ht.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=le(),n=le(),r=le();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:z(38017,{changeType:o})}}),new Fc(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=R0()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ge(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},c_=class{constructor(e){this.ze=e,this.je=new Map,this.He=gr(),this.Je=ph(),this.Ye=ph(),this.Ze=new xe(re)}Xe(e){for(let n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(let n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{let r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:z(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){let n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){let o=i.target;if(Jv(o))if(r===0){let s=new H(o.path);this.tt(n,s,hn.newNoDocument(s,J.min()))}else ge(r===1,20013,{expectedCount:r});else{let s=this.ut(n);if(s!==r){let a=this.ct(e),u=a?this.lt(a,e,s):1;if(u!==0){this.st(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,l)}C0?.ht(function(h,p,m,y,w){var R,N,O,$,K,Ee;let ft={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},me=p.unchangedNames;return me&&(ft.bloomFilter={applied:w===0,hashCount:(R=me?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:($=(O=(N=me?.bits)===null||N===void 0?void 0:N.bitmap)===null||O===void 0?void 0:O.length)!==null&&$!==void 0?$:0,padding:(Ee=(K=me?.bits)===null||K===void 0?void 0:K.padding)!==null&&Ee!==void 0?Ee:0,mightContain:D=>{var v;return(v=y?.mightContain(D))!==null&&v!==void 0&&v}}),ft}(s,e.Ce,this.ze.Pt(),a,u))}}}}ct(e){let n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=fr(r).toUint8Array()}catch(u){if(u instanceof Dh)return ms("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new a_(s,i,o)}catch(u){return ms(u instanceof Ui?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){let r=this.ze.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,o,null),i++)}),i}It(e){let n=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&Jv(a.target)){let u=new H(a.target.path);this.Et(u).has(s)||this.dt(s,u)||this.tt(s,u,hn.newNoDocument(u,e))}o.Le&&(n.set(s,o.qe()),o.Qe())}});let r=le();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this._t(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new Rh(e,n,this.Ze,this.He,r);return this.He=gr(),this.Je=ph(),this.Ye=ph(),this.Ze=new xe(re),i}et(e,n){if(!this.it(e))return;let r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){let n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Ph,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Qe(re),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Qe(re),this.Je=this.Je.insert(e,n)),n}it(e){let n=this._t(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}_t(e){let n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Ph),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}};function ph(){return new xe(H.comparator)}function R0(){return new xe(H.comparator)}var fH={asc:"ASCENDING",desc:"DESCENDING"},pH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gH={and:"AND",or:"OR"},u_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function l_(t,e){return t.useProto3Json||of(e)?e:{value:e}}function xh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $R(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mH(t,e){return xh(t,e.toTimestamp())}function xn(t){return ge(!!t,49232),J.fromTimestamp(function(n){let r=hr(n);return new et(r.seconds,r.nanos)}(t))}function AI(t,e){return d_(t,e).canonicalString()}function d_(t,e){let n=function(i){return new Ae(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function HR(t){let e=Ae.fromString(t);return ge(KR(e),10190,{key:e.toString()}),e}function h_(t,e){return AI(t.databaseId,e.path)}function Sv(t,e){let n=HR(e);if(n.get(1)!==t.databaseId.projectId)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(qR(n))}function zR(t,e){return AI(t.databaseId,e)}function yH(t){let e=HR(t);return e.length===4?Ae.emptyPath():qR(e)}function f_(t){return new Ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qR(t){return ge(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function N0(t,e,n){return{name:h_(t,e),fields:n.value.mapValue.fields}}function vH(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:z(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(ge(h===void 0||typeof h=="string",58123),ht.fromBase64String(h||"")):(ge(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ht.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?M.UNKNOWN:BR(l.code);return new L(h,l.message||"")}(s);n=new Mh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Sv(t,r.document.name),o=xn(r.document.updateTime),s=r.document.createTime?xn(r.document.createTime):J.min(),a=new Lt({mapValue:{fields:r.document.fields}}),u=hn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new ps(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Sv(t,r.document),o=r.readTime?xn(r.readTime):J.min(),s=hn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ps([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Sv(t,r.document),o=r.removedTargetIds||[];n=new ps([],o,i,null)}else{if(!("filter"in e))return z(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new s_(i,o),a=r.targetId;n=new Nh(a,s)}}return n}function _H(t,e){let n;if(e instanceof Gi)n={update:N0(t,e.key,e.value)};else if(e instanceof Lc)n={delete:h_(t,e.key)};else if(e instanceof On)n={update:N0(t,e.key,e.data),updateMask:AH(e.fieldMask)};else{if(!(e instanceof n_))return z(16599,{ft:e.type});n={verify:h_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof qi)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Zr)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Wi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ts)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw z(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:mH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:z(27497)}(t,e.precondition)),n}function IH(t,e){return t&&t.length>0?(ge(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?xn(i.updateTime):xn(o);return s.isEqual(J.min())&&(s=xn(o)),new t_(s,i.transformResults||[])}(n,e))):[]}function EH(t,e){return{documents:[zR(t,e.path)]}}function wH(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=zR(t,i);let o=function(l){if(l.length!==0)return GR(fn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:ds(m.field),direction:bH(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=l_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:n,parent:i}}function TH(t){let e=yH(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ge(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=WR(p);return m instanceof fn&&DR(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(w){return new zi(hs(w.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,of(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new Es(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new Es(y,m)}(n.endAt)),Y$(e,i,s,o,a,"F",u,l)}function DH(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return z(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=hs(n.unaryFilter.field);return Ue.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=hs(n.unaryFilter.field);return Ue.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=hs(n.unaryFilter.field);return Ue.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=hs(n.unaryFilter.field);return Ue.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return z(61313);default:return z(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ue.create(hs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return z(58110);default:return z(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fn.create(n.compositeFilter.filters.map(r=>WR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return z(1026)}}(n.compositeFilter.op))}(t):z(30097,{filter:t})}function bH(t){return fH[t]}function CH(t){return pH[t]}function SH(t){return gH[t]}function ds(t){return{fieldPath:t.canonicalString()}}function hs(t){return Ft.fromServerFormat(t.fieldPath)}function GR(t){return t instanceof Ue?function(n){if(n.op==="=="){if(y0(n.value))return{unaryFilter:{field:ds(n.field),op:"IS_NAN"}};if(m0(n.value))return{unaryFilter:{field:ds(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(y0(n.value))return{unaryFilter:{field:ds(n.field),op:"IS_NOT_NAN"}};if(m0(n.value))return{unaryFilter:{field:ds(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ds(n.field),op:CH(n.op),value:n.value}}}(t):t instanceof fn?function(n){let r=n.getFilters().map(i=>GR(i));return r.length===1?r[0]:{compositeFilter:{op:SH(n.op),filters:r}}}(t):z(54877,{filter:t})}function AH(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Vc=class t{constructor(e,n,r,i,o=J.min(),s=J.min(),a=ht.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var p_=class{constructor(e){this.wt=e}};function RH(t){let e=TH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?e_(e,e.limit,"L"):e}var kh=class{constructor(){}vt(e,n){this.Ct(e,n),n.Ft()}Ct(e,n){if("nullValue"in e)this.Mt(n,5);else if("booleanValue"in e)this.Mt(n,10),n.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(n,15),n.xt(Ce(e.integerValue));else if("doubleValue"in e){let r=Ce(e.doubleValue);isNaN(r)?this.Mt(n,13):(this.Mt(n,15),xc(r)?n.xt(0):n.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(n,20),typeof r=="string"&&(r=hr(r)),n.Ot(`${r.seconds||""}`),n.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,n),this.Bt(n);else if("bytesValue"in e)this.Mt(n,30),n.Lt(fr(e.bytesValue)),this.Bt(n);else if("referenceValue"in e)this.kt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(n,45),n.xt(r.latitude||0),n.xt(r.longitude||0)}else"mapValue"in e?ER(e)?this.Mt(n,Number.MAX_SAFE_INTEGER):IR(e)?this.qt(e.mapValue,n):(this.Qt(e.mapValue,n),this.Bt(n)):"arrayValue"in e?(this.$t(e.arrayValue,n),this.Bt(n)):z(19022,{Ut:e})}Nt(e,n){this.Mt(n,25),this.Kt(e,n)}Kt(e,n){n.Ot(e)}Qt(e,n){let r=e.fields||{};this.Mt(n,55);for(let i of Object.keys(r))this.Nt(i,n),this.Ct(r[i],n)}qt(e,n){var r,i;let o=e.fields||{};this.Mt(n,53);let s=vs,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(n,15),n.xt(Ce(a)),this.Nt(s,n),this.Ct(o[s],n)}$t(e,n){let r=e.values||[];this.Mt(n,50);for(let i of r)this.Ct(i,n)}kt(e,n){this.Mt(n,37),H.fromName(e).path.forEach(r=>{this.Mt(n,60),this.Kt(r,n)})}Mt(e,n){e.xt(n)}Bt(e){e.xt(2)}};kh.Wt=new kh;var g_=class{constructor(){this.Cn=new m_}addToCollectionParentIndex(e,n){return this.Cn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Hi.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Hi.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},m_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Qe(Ae.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qe(Ae.comparator)).toArray()}};var PY=new Uint8Array(0);var M0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QR=41943040,Wt=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Wt.DEFAULT_COLLECTION_PERCENTILE=10,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wt.DEFAULT=new Wt(QR,Wt.DEFAULT_COLLECTION_PERCENTILE,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wt.DISABLED=new Wt(-1,0,0);var jc=class t{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new t(0)}static lr(){return new t(-1)}};var P0="LruGarbageCollector",NH=1048576;function x0([t,e],[n,r]){let i=re(t,n);return i===0?re(e,r):i}var y_=class{constructor(e){this.Er=e,this.buffer=new Qe(x0),this.dr=0}Ar(){return++this.dr}Rr(e){let n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();x0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},v_=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){V(P0,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ns(n)?V(P0,"Ignoring IndexedDB error during garbage collection: ",n):yield Rs(n)}yield this.mr(3e5)}))}},__=class{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return P.resolve(_I.le);let r=new y_(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(V("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(M0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(V("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),M0):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(V("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),us()<=ce.DEBUG&&V("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function MH(t,e){return new __(t,e)}var I_=class{constructor(){this.changes=new pr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var E_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var w_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Mc(r.mutation,i,Gt.empty(),et.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){let i=ji();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Sc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=ji();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=gr(),s=Nc(),a=function(){return Nc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof On)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Mc(h.mutation,l,h.mutation.getFieldMask(),et.now())):s.set(l.key,Gt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new E_(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Nc(),i=new xe((s,a)=>s-a),o=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Gt.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||le()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=xR();h.forEach(m=>{if(!o.has(m)){let y=jR(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return H.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(ji()),a=Pc,u=o;return s.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,le())).next(h=>({batchId:a,changes:PR(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=Sc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Sc();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,u=>{let l=function(p,m){return new Yr(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,hn.newInvalidDocument(h)))});let a=Sc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Mc(h.mutation,l,Gt.empty(),et.now()),uf(n,l)&&(a=a.insert(u,l))}),a})}};var T_=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return P.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:xn(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:RH(i.bundledQuery),readTime:xn(i.readTime)}}(n)),P.resolve()}};var D_=class{constructor(){this.overlays=new xe(H.comparator),this.Qr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=ji();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.bt(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=ji(),o=n.length+1,s=new H(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new xe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=ji(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=ji(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}bt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new o_(n,r));let o=this.Qr.get(n);o===void 0&&(o=le(),this.Qr.set(n,o)),this.Qr.set(n,o.add(r.key))}};var b_=class{constructor(){this.sessionToken=ht.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var Uc=class{constructor(){this.$r=new Qe(je.Ur),this.Kr=new Qe(je.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){let r=new je(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new je(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){let n=new H(new Ae([])),r=new je(n,e),i=new je(n,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let n=new H(new Ae([])),r=new je(n,e),i=new je(n,e+1),o=le();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new je(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},je=class{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return H.comparator(e.key,n.key)||re(e.Zr,n.Zr)}static Wr(e,n){return re(e.Zr,n.Zr)||H.comparator(e.key,n.key)}};var C_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Qe(je.Ur)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new r_(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Xr=this.Xr.add(new je(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.ti(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?II:this.nr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new je(n,0),i=new je(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let a=this.ei(s.Zr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qe(re);return n.forEach(i=>{let o=new je(i,0),s=new je(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),P.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;H.isDocumentKey(o)||(o=o.child(""));let s=new je(new H(o),0),a=new Qe(re);return this.Xr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Zr)),!0)},s),P.resolve(this.ni(a))}ni(e){let n=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ge(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return P.forEach(n.mutations,i=>{let o=new je(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){let r=new je(n,0),i=this.Xr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var S_=class{constructor(e){this.ii=e,this.docs=function(){return new xe(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let r=gr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():hn.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=gr(),s=n.path,a=new H(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||M$(N$(h),r)<=0||(i.has(h.key)||uf(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){z(9500)}si(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new A_(this)}getSize(e){return P.resolve(this.size)}},A_=class extends I_{constructor(e){super(),this.Br=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}};var R_=class{constructor(e){this.persistence=e,this.oi=new pr(n=>bI(n),CI),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this._i=0,this.ai=new Uc,this.targetCount=0,this.ui=jc.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),P.resolve()}Tr(e){this.oi.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.ui=new jc(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.Tr(n),P.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.oi.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.ai.Yr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.ai.containsKey(n))}};var Oh=class{constructor(e,n){this.ci={},this.overlays={},this.li=new _I(0),this.hi=!1,this.hi=!0,this.Pi=new b_,this.referenceDelegate=e(this),this.Ti=new R_(this),this.indexManager=new g_,this.remoteDocumentCache=function(i){return new S_(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new p_(n),this.Ei=new T_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new D_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new C_(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);let i=new N_(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,n){return P.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}},N_=class extends jv{constructor(e){super(),this.currentSequenceNumber=e}},M_=class t{constructor(e){this.persistence=e,this.Vi=new Uc,this.mi=null}static fi(e){return new t(e)}get gi(){if(this.mi)return this.mi;throw z(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),P.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.gi,r=>{let i=H.fromPath(r);return this.pi(e,i).next(o=>{o||n.removeEntry(i,J.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return P.or([()=>P.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}},Lh=class t{constructor(e,n){this.persistence=e,this.yi=new pr(r=>O$(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=MH(this,n)}static fi(e,n){return new t(e,n)}di(){}Ai(e){return P.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){let n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return P.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?P.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,J.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),P.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),P.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=mh(e.data.value)),n}Dr(e,n,r){return P.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.yi.get(n);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var P_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=le(),i=le();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var x_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var k_=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return MS()?8:x$(We())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ws(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Ss(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new x_;return this.bs(e,n,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,n,s,a.size)})}).next(()=>o.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(us()<=ce.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",ls(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),P.resolve()):(us()<=ce.DEBUG&&V("QueryEngine","Query:",ls(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(us()<=ce.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",ls(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mn(n))):P.resolve())}ws(e,n){if(E0(n))return P.resolve(null);let r=Mn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=e_(n,null,"F"),r=Mn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=le(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.vs(n,a);return this.Cs(n,l,s,u.readTime)?this.ws(e,e_(n,null,"F")):this.Fs(e,l,n,u)}))})))}Ss(e,n,r,i){return E0(n)||i.isEqual(J.min())?P.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(n,o);return this.Cs(n,s,r,i)?P.resolve(null):(us()<=ce.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ls(n)),this.Fs(e,s,n,R$(i,Pc)).next(a=>a))})}vs(e,n){let r=new Qe(NR(e));return n.forEach((i,o)=>{uf(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}bs(e,n,r){return us()<=ce.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",ls(n)),this.ys.getDocumentsMatchingQuery(e,n,Hi.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var RI="LocalStore",PH=3e8,O_=class{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new xe(re),this.Os=new pr(o=>bI(o),CI),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new w_(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}};function xH(t,e,n,r){return new O_(t,e,n,r)}function YR(t,e){return _(this,null,function*(){let n=Q(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=le();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({ks:l,removedBatchIds:s,addedBatchIds:a}))})})})}function kH(t,e){let n=Q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=P.resolve();return m.forEach(w=>{y=y.next(()=>h.getEntry(u,w)).next(R=>{let N=l.docVersions.get(w);ge(N!==null,48541),R.version.compareTo(N)<0&&(p.applyToRemoteDocument(R,l),R.isValidDocument()&&(R.setReadTime(l.commitVersion),h.addEntry(R)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=le();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ZR(t){let e=Q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function OH(t,e){let n=Q(t),r=e.snapshotVersion,i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ti.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ti.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(ht.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(R,N,O){return R.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=PH?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(m,y,h)&&a.push(n.Ti.updateTargetData(o,y))});let u=gr(),l=le();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(LH(o,s,e.documentUpdates).next(h=>{u=h.qs,l=h.Qs})),!r.isEqual(J.min())){let h=n.Ti.getLastRemoteSnapshotVersion(o).next(p=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.xs=i,o))}function LH(t,e,n){let r=le(),i=le();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=gr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):V(RI,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{qs:s,Qs:i}})}function FH(t,e){let n=Q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=II),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function VH(t,e){let n=Q(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):n.Ti.allocateTargetId(r).next(s=>(i=new Vc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}function L_(t,e,n){return _(this,null,function*(){let r=Q(t),i=r.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ns(s))throw s;V(RI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function k0(t,e,n){let r=Q(t),i=J.min(),o=le();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=Q(u),m=p.Os.get(h);return m!==void 0?P.resolve(p.xs.get(m)):p.Ti.getTargetData(l,h)}(r,s,Mn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,n?i:J.min(),n?o:le())).next(a=>(jH(r,J$(e),a),{documents:a,$s:o})))}function jH(t,e,n){let r=t.Ns.get(e)||J.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ns.set(e,r)}var Fh=class{constructor(){this.activeTargetIds=iH()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var F_=class{constructor(){this.xo=new Fh,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Fh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var V_=class{No(e){}shutdown(){}};var O0="ConnectivityMonitor",Vh=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){V(O0,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){V(O0,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var gh=null;function j_(){return gh===null?gh=function(){return 268435456+Math.round(2147483648*Math.random())}():gh++,"0x"+gh.toString(16)}var Av="RestConnection",UH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},U_=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===bh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,o){let s=j_(),a=this.jo(e,n.toUriEncodedString());V(Av,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,i,o);let{host:l}=new URL(a),h=Pi(l);return this.Jo(e,a,u,r,h).then(p=>(V(Av,`Received RPC '${e}' ${s}: `,p),p),p=>{throw ms(Av,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,n,r,i,o,s){return this.zo(e,n,r,i,o)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+As}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,n){let r=UH[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}};var B_=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var lt="WebChannelConnection",$_=class extends U_{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){let s=j_();return new Promise((a,u)=>{let l=new wv;l.setWithCredentials(!0),l.listenOnce(Tv.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Cc.NO_ERROR:let p=l.getResponseJson();V(lt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Cc.TIMEOUT:V(lt,`RPC '${e}' ${s} timed out`),u(new L(M.DEADLINE_EXCEEDED,"Request time out"));break;case Cc.HTTP_ERROR:let m=l.getStatus();if(V(lt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let w=y?.error;if(w&&w.status&&w.message){let R=function(O){let $=O.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf($)>=0?$:M.UNKNOWN}(w.status);u(new L(R,w.message))}else u(new L(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new L(M.UNAVAILABLE,"Connection failed."));break;default:z(9055,{l_:e,streamId:s,h_:l.getLastErrorCode(),P_:l.getLastError()})}}finally{V(lt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);V(lt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}T_(e,n,r){let i=j_(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Cv(),a=bv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");V(lt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,y=!1,w=new B_({Zo:N=>{y?V(lt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(m||(V(lt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),V(lt,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},Xo:()=>p.close()}),R=(N,O,$)=>{N.listen(O,K=>{try{$(K)}catch(Ee){setTimeout(()=>{throw Ee},0)}})};return R(p,cs.EventType.OPEN,()=>{y||(V(lt,`RPC '${e}' stream ${i} transport opened.`),w.__())}),R(p,cs.EventType.CLOSE,()=>{y||(y=!0,V(lt,`RPC '${e}' stream ${i} transport closed`),w.u_())}),R(p,cs.EventType.ERROR,N=>{y||(y=!0,ms(lt,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),w.u_(new L(M.UNAVAILABLE,"The operation could not be completed")))}),R(p,cs.EventType.MESSAGE,N=>{var O;if(!y){let $=N.data[0];ge(!!$,16349);let K=$,Ee=K?.error||((O=K[0])===null||O===void 0?void 0:O.error);if(Ee){V(lt,`RPC '${e}' stream ${i} received error:`,Ee);let ft=Ee.status,me=function(E){let T=Ve[E];if(T!==void 0)return BR(T)}(ft),D=Ee.message;me===void 0&&(me=M.INTERNAL,D="Unknown error status: "+ft+" with message "+Ee.message),y=!0,w.u_(new L(me,D)),p.close()}else V(lt,`RPC '${e}' stream ${i} received:`,$),w.c_($)}}),R(a,Dv.STAT_EVENT,N=>{N.stat===hh.PROXY?V(lt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===hh.NOPROXY&&V(lt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.a_()},0),w}};function Rv(){return typeof document<"u"?document:null}function lf(t){return new u_(t,!0)}var jh=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=i,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();let n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}};var L0="PersistentStream",Uh=class{constructor(e,n,r,i,o,s,a,u){this.xi=e,this.y_=r,this.w_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new jh(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}stop(){return _(this,null,function*(){this.F_()&&(yield this.close(0))})}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}B_(){return _(this,null,function*(){if(this.M_())return this.close(0)})}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}close(e,n){return _(this,null,function*(){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(dr(n.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(n)})}Q_(){}auth(){this.state=1;let e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===n&&this.K_(r,i)},r=>{e(()=>{let i=new L(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,n){let r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(()=>_(this,null,function*(){this.state=0,this.start()}))}W_(e){return V(L0,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(V(L0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},H_=class extends Uh{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();let n=vH(this.serializer,e),r=function(o){if(!("targetChange"in o))return J.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?J.min():s.readTime?xn(s.readTime):J.min()}(e);return this.listener.j_(n,r)}H_(e){let n={};n.database=f_(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=Jv(u)?{documents:EH(o,u)}:{query:wH(o,u).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=$R(o,s.resumeToken);let l=l_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(J.min())>0){a.readTime=xh(o,s.snapshotVersion.toTimestamp());let l=l_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=DH(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){let n={};n.database=f_(this.serializer),n.removeTarget=e,this.L_(n)}},z_=class extends Uh{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();let n=IH(e.writeResults,e.commitTime),r=xn(e.commitTime);return this.listener.ea(r,n)}ta(){let e={};e.database=f_(this.serializer),this.L_(e)}Z_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>_H(this.serializer,r))};this.L_(n)}};var q_=class{},W_=class extends q_{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,d_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(M.UNKNOWN,o.toString())})}Yo(e,n,r,i,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,d_(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(M.UNKNOWN,s.toString())})}terminate(){this.na=!0,this.connection.terminate()}},G_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(dr(n),this.oa=!1):V("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}};var Ki="RemoteStore",K_=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(s=>{r.enqueueAndForget(()=>_(this,null,function*(){Zi(this)&&(V(Ki,"Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let l=Q(u);l.Ta.add(4),yield qc(l),l.da.set("Unknown"),l.Ta.delete(4),yield df(l)})}(this))}))}),this.da=new G_(r,i)}};function df(t){return _(this,null,function*(){if(Zi(t))for(let e of t.Ia)yield e(!0)})}function qc(t){return _(this,null,function*(){for(let e of t.Ia)yield e(!1)})}function JR(t,e){let n=Q(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),xI(n)?PI(n):Ms(n).M_()&&MI(n,e))}function NI(t,e){let n=Q(t),r=Ms(n);n.Pa.delete(e),r.M_()&&XR(n,e),n.Pa.size===0&&(r.M_()?r.N_():Zi(n)&&n.da.set("Unknown"))}function MI(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ms(t).H_(e)}function XR(t,e){t.Aa.Ke(e),Ms(t).J_(e)}function PI(t){t.Aa=new c_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Ms(t).start(),t.da._a()}function xI(t){return Zi(t)&&!Ms(t).F_()&&t.Pa.size>0}function Zi(t){return Q(t).Ta.size===0}function eN(t){t.Aa=void 0}function BH(t){return _(this,null,function*(){t.da.set("Online")})}function $H(t){return _(this,null,function*(){t.Pa.forEach((e,n)=>{MI(t,e)})})}function HH(t,e){return _(this,null,function*(){eN(t),xI(t)?(t.da.ca(e),PI(t)):t.da.set("Unknown")})}function zH(t,e,n){return _(this,null,function*(){if(t.da.set("Online"),e instanceof Mh&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Pa.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Pa.delete(a),i.Aa.removeTarget(a))})}(t,e)}catch(r){V(Ki,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Bh(t,r)}else if(e instanceof ps?t.Aa.Xe(e):e instanceof Nh?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(J.min()))try{let r=yield ZR(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Aa.It(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Pa.get(l);h&&o.Pa.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Pa.get(u);if(!h)return;o.Pa.set(u,h.withResumeToken(ht.EMPTY_BYTE_STRING,h.snapshotVersion)),XR(o,u);let p=new Vc(h.target,u,l,h.sequenceNumber);MI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){V(Ki,"Failed to raise snapshot:",r),yield Bh(t,r)}})}function Bh(t,e,n){return _(this,null,function*(){if(!Ns(e))throw e;t.Ta.add(1),yield qc(t),t.da.set("Offline"),n||(n=()=>ZR(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){V(Ki,"Retrying IndexedDB access"),yield n(),t.Ta.delete(1),yield df(t)}))})}function tN(t,e){return e().catch(n=>Bh(t,n,e))}function hf(t){return _(this,null,function*(){let e=Q(t),n=Jr(e),r=e.ha.length>0?e.ha[e.ha.length-1].batchId:II;for(;qH(e);)try{let i=yield FH(e.localStore,r);if(i===null){e.ha.length===0&&n.N_();break}r=i.batchId,WH(e,i)}catch(i){yield Bh(e,i)}nN(e)&&rN(e)})}function qH(t){return Zi(t)&&t.ha.length<10}function WH(t,e){t.ha.push(e);let n=Jr(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function nN(t){return Zi(t)&&!Jr(t).F_()&&t.ha.length>0}function rN(t){Jr(t).start()}function GH(t){return _(this,null,function*(){Jr(t).ta()})}function KH(t){return _(this,null,function*(){let e=Jr(t);for(let n of t.ha)e.Z_(n.mutations)})}function QH(t,e,n){return _(this,null,function*(){let r=t.ha.shift(),i=i_.from(r,e,n);yield tN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield hf(t)})}function YH(t,e){return _(this,null,function*(){e&&Jr(t).Y_&&(yield function(r,i){return _(this,null,function*(){if(function(s){return dH(s)&&s!==M.ABORTED}(i.code)){let o=r.ha.shift();Jr(r).O_(),yield tN(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield hf(r)}})}(t,e)),nN(t)&&rN(t)})}function F0(t,e){return _(this,null,function*(){let n=Q(t);n.asyncQueue.verifyOperationInProgress(),V(Ki,"RemoteStore received new credentials");let r=Zi(n);n.Ta.add(3),yield qc(n),r&&n.da.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),yield df(n)})}function ZH(t,e){return _(this,null,function*(){let n=Q(t);e?(n.Ta.delete(2),yield df(n)):e||(n.Ta.add(2),yield qc(n),n.da.set("Unknown"))})}function Ms(t){return t.Ra||(t.Ra=function(n,r,i){let o=Q(n);return o.ra(),new H_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:BH.bind(null,t),n_:$H.bind(null,t),i_:HH.bind(null,t),j_:zH.bind(null,t)}),t.Ia.push(e=>_(null,null,function*(){e?(t.Ra.O_(),xI(t)?PI(t):t.da.set("Unknown")):(yield t.Ra.stop(),eN(t))}))),t.Ra}function Jr(t){return t.Va||(t.Va=function(n,r,i){let o=Q(n);return o.ra(),new z_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:GH.bind(null,t),i_:YH.bind(null,t),X_:KH.bind(null,t),ea:QH.bind(null,t)}),t.Ia.push(e=>_(null,null,function*(){e?(t.Va.O_(),yield hf(t)):(yield t.Va.stop(),t.ha.length>0&&(V(Ki,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))}))),t.Va}var Q_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function kI(t,e){if(dr("AsyncQueue",`${e}: ${t}`),Ns(t))return new L(M.UNAVAILABLE,`${e}: ${t}`);throw t}var $h=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=Sc(),this.sortedSet=new xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Hh=class{constructor(){this.ma=new xe(H.comparator)}track(e){let n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):z(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){let e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}},bs=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,$h.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Y_=class{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}},Z_=class{constructor(){this.queries=V0(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){let i=Q(n),o=i.queries;i.queries=V0(),o.forEach((s,a)=>{for(let u of a.ya)u.onError(r)})})(this,new L(M.ABORTED,"Firestore shutting down"))}};function V0(){return new pr(t=>RR(t),cf)}function iN(t,e){return _(this,null,function*(){let n=Q(t),r=3,i=e.query,o=n.queries.get(i);o?!o.wa()&&e.Sa()&&(r=2):(o=new Y_,r=e.Sa()?0:1);try{switch(r){case 0:o.pa=yield n.onListen(i,!0);break;case 1:o.pa=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=kI(s,`Initialization of query '${ls(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.ya.push(e),e.Da(n.onlineState),o.pa&&e.va(o.pa)&&OI(n)})}function oN(t,e){return _(this,null,function*(){let n=Q(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.ya.indexOf(e);s>=0&&(o.ya.splice(s,1),o.ya.length===0?i=e.Sa()?0:1:!o.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function JH(t,e){let n=Q(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.ya)a.va(i)&&(r=!0);s.pa=i}}r&&OI(n)}function XH(t,e,n){let r=Q(t),i=r.queries.get(e);if(i)for(let o of i.ya)o.onError(n);r.queries.delete(e)}function OI(t){t.ba.forEach(e=>{e.next()})}var J_,j0;(j0=J_||(J_={})).Ca="default",j0.Cache="cache";var zh=class{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new bs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;let r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;let n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=bs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==J_.Cache}};var qh=class{constructor(e){this.key=e}},Wh=class{constructor(e){this.key=e}},X_=class{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=le(),this.mutatedKeys=le(),this.Ha=NR(e),this.Ja=new $h(this.Ha)}get Ya(){return this.Ga}Za(e,n){let r=n?n.Xa:new Hh,i=n?n.Ja:this.Ja,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=uf(this.query,p)?p:null,w=!!m&&this.mutatedKeys.has(m.key),R=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),N=!1;m&&y?m.data.isEqual(y.data)?w!==R&&(r.track({type:3,doc:y}),N=!0):this.eu(m,y)||(r.track({type:2,doc:y}),N=!0,(u&&this.Ha(y,u)>0||l&&this.Ha(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),N=!0):m&&!y&&(r.track({type:1,doc:m}),N=!0,(u||l)&&(a=!0)),N&&(y?(s=s.add(y),o=R?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ja:s,Xa:r,Cs:a,mutatedKeys:o}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;let s=e.Xa.ga();s.sort((h,p)=>function(y,w){let R=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z(20277,{Vt:N})}};return R(y)-R(w)}(h.type,p.type)||this.Ha(h.doc,p.doc)),this.tu(r),i=i!=null&&i;let a=n&&!i?this.nu():[],u=this.ja.size===0&&this.current&&!i?1:0,l=u!==this.za;return this.za=u,s.length!==0||l?{snapshot:new bs(this.query,e.Ja,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Hh,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];let e=this.ja;this.ja=le(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});let n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new Wh(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new qh(r))}),n}su(e){this.Ga=e.$s,this.ja=le();let n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return bs.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}},LI="SyncEngine",eI=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},tI=class{constructor(e){this.key=e,this._u=!1}},nI=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.au={},this.uu=new pr(a=>RR(a),cf),this.cu=new Map,this.lu=new Set,this.hu=new xe(H.comparator),this.Pu=new Map,this.Tu=new Uc,this.Iu={},this.Eu=new Map,this.du=jc.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}};function e4(t,e,n=!0){return _(this,null,function*(){let r=dN(t),i,o=r.uu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ou()):i=yield sN(r,e,n,!0),i})}function t4(t,e){return _(this,null,function*(){let n=dN(t);yield sN(n,e,!0,!1)})}function sN(t,e,n,r){return _(this,null,function*(){let i=yield VH(t.localStore,Mn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield n4(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&JR(t.remoteStore,i),a})}function n4(t,e,n,r,i){return _(this,null,function*(){t.Ru=(p,m,y)=>function(R,N,O,$){return _(this,null,function*(){let K=N.view.Za(O);K.Cs&&(K=yield k0(R.localStore,N.query,!1).then(({documents:D})=>N.view.Za(D,K)));let Ee=$&&$.targetChanges.get(N.targetId),ft=$&&$.targetMismatches.get(N.targetId)!=null,me=N.view.applyChanges(K,R.isPrimaryClient,Ee,ft);return B0(R,N.targetId,me.ru),me.snapshot})}(t,p,m,y);let o=yield k0(t.localStore,e,!0),s=new X_(e,o.$s),a=s.Za(o.documents),u=Fc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);B0(t,n,l.ru);let h=new eI(e,n,s);return t.uu.set(e,h),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),l.snapshot})}function r4(t,e,n){return _(this,null,function*(){let r=Q(t),i=r.uu.get(e),o=r.cu.get(i.targetId);if(o.length>1)return r.cu.set(i.targetId,o.filter(s=>!cf(s,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield L_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&NI(r.remoteStore,i.targetId),rI(r,i.targetId)}).catch(Rs))):(rI(r,i.targetId),yield L_(r.localStore,i.targetId,!0))})}function i4(t,e){return _(this,null,function*(){let n=Q(t),r=n.uu.get(e),i=n.cu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),NI(n.remoteStore,r.targetId))})}function o4(t,e,n){return _(this,null,function*(){let r=h4(t);try{let i=yield function(s,a){let u=Q(s),l=et.now(),h=a.reduce((y,w)=>y.add(w.key),le()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=gr(),R=le();return u.Bs.getEntries(y,h).next(N=>{w=N,w.forEach((O,$)=>{$.isValidDocument()||(R=R.add(O))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,w)).next(N=>{p=N;let O=[];for(let $ of a){let K=lH($,p.get($.key).overlayedDocument);K!=null&&O.push(new On($.key,K,wR(K.value.mapValue),Pn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,O,a)}).next(N=>{m=N;let O=N.applyToLocalDocumentSet(p,R);return u.documentOverlayCache.saveOverlays(y,N.batchId,O)})}).then(()=>({batchId:m.batchId,changes:PR(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Iu[s.currentUser.toKey()];l||(l=new xe(re)),l=l.insert(a,u),s.Iu[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Wc(r,i.changes),yield hf(r.remoteStore)}catch(i){let o=kI(i,"Failed to persist write");n.reject(o)}})}function aN(t,e){return _(this,null,function*(){let n=Q(t);try{let r=yield OH(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Pu.get(o);s&&(ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s._u=!0:i.modifiedDocuments.size>0?ge(s._u,14607):i.removedDocuments.size>0&&(ge(s._u,42227),s._u=!1))}),yield Wc(n,r,e)}catch(r){yield Rs(r)}})}function U0(t,e,n){let r=Q(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.uu.forEach((o,s)=>{let a=s.view.Da(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=Q(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.ya)m.Da(a)&&(l=!0)}),l&&OI(u)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function s4(t,e,n){return _(this,null,function*(){let r=Q(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Pu.get(e),o=i&&i.key;if(o){let s=new xe(H.comparator);s=s.insert(o,hn.newNoDocument(o,J.min()));let a=le().add(o),u=new Rh(J.min(),new Map,new xe(re),s,a);yield aN(r,u),r.hu=r.hu.remove(o),r.Pu.delete(e),FI(r)}else yield L_(r.localStore,e,!1).then(()=>rI(r,e,n)).catch(Rs)})}function a4(t,e){return _(this,null,function*(){let n=Q(t),r=e.batch.batchId;try{let i=yield kH(n.localStore,e);uN(n,r,null),cN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Wc(n,i)}catch(i){yield Rs(i)}})}function c4(t,e,n){return _(this,null,function*(){let r=Q(t);try{let i=yield function(s,a){let u=Q(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(ge(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);uN(r,e,n),cN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Wc(r,i)}catch(i){yield Rs(i)}})}function cN(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function uN(t,e,n){let r=Q(t),i=r.Iu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function rI(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||lN(t,r)})}function lN(t,e){t.lu.delete(e.path.canonicalString());let n=t.hu.get(e);n!==null&&(NI(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),FI(t))}function B0(t,e,n){for(let r of n)r instanceof qh?(t.Tu.addReference(r.key,e),u4(t,r)):r instanceof Wh?(V(LI,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||lN(t,r.key)):z(19791,{mu:r})}function u4(t,e){let n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(V(LI,"New document in limbo: "+n),t.lu.add(r),FI(t))}function FI(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){let e=t.lu.values().next().value;t.lu.delete(e);let n=new H(Ae.fromString(e)),r=t.du.next();t.Pu.set(r,new tI(n)),t.hu=t.hu.insert(n,r),JR(t.remoteStore,new Vc(Mn(af(n.path)),r,"TargetPurposeLimboResolution",_I.le))}}function Wc(t,e,n){return _(this,null,function*(){let r=Q(t),i=[],o=[],s=[];r.uu.isEmpty()||(r.uu.forEach((a,u)=>{s.push(r.Ru(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=P_.Rs(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.au.j_(i),yield function(u,l){return _(this,null,function*(){let h=Q(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.ds,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.As,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Ns(p))throw p;V(RI,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.xs.get(m),w=y.snapshotVersion,R=y.withLastLimboFreeSnapshotVersion(w);h.xs=h.xs.insert(m,R)}}})}(r.localStore,o))})}function l4(t,e){return _(this,null,function*(){let n=Q(t);if(!n.currentUser.isEqual(e)){V(LI,"User change. New user:",e.toKey());let r=yield YR(n.localStore,e);n.currentUser=e,function(o,s){o.Eu.forEach(a=>{a.forEach(u=>{u.reject(new L(M.CANCELLED,s))})}),o.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Wc(n,r.ks)}})}function d4(t,e){let n=Q(t),r=n.Pu.get(e);if(r&&r._u)return le().add(r.key);{let i=le(),o=n.cu.get(e);if(!o)return i;for(let s of o){let a=n.uu.get(s);i=i.unionWith(a.view.Ya)}return i}}function dN(t){let e=Q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=aN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=d4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=s4.bind(null,e),e.au.j_=JH.bind(null,e.eventManager),e.au.Vu=XH.bind(null,e.eventManager),e}function h4(t){let e=Q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=a4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c4.bind(null,e),e}var hN=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return _(this,null,function*(){this.serializer=lf(n.databaseInfo.databaseId),this.sharedClientState=this.pu(n),this.persistence=this.yu(n),yield this.persistence.start(),this.localStore=this.wu(n),this.gcScheduler=this.Su(n,this.localStore),this.indexBackfillerScheduler=this.bu(n,this.localStore)})}Su(n,r){return null}bu(n,r){return null}wu(n){return xH(this.persistence,new k_,n.initialUser,this.serializer)}yu(n){return new Oh(M_.fi,this.serializer)}pu(n){return new F_}terminate(){return _(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),iI=class extends hN{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){ge(this.persistence.referenceDelegate instanceof Lh,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new v_(r,e.asyncQueue,n)}yu(e){let n=this.cacheSizeBytes!==void 0?Wt.withCacheSize(this.cacheSizeBytes):Wt.DEFAULT;return new Oh(r=>Lh.fi(r,n),this.serializer)}};var f4=(()=>{class t{initialize(n,r){return _(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>U0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=l4.bind(null,this.syncEngine),yield ZH(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new Z_}()}createDatastore(n){let r=lf(n.databaseInfo.databaseId),i=function(s){return new $_(s)}(n.databaseInfo);return function(s,a,u,l){return new W_(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new K_(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>U0(this.syncEngine,r,0),function(){return Vh.C()?new Vh:new V_}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let m=new nI(o,s,a,u,l,h);return p&&(m.Au=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var n,r;yield function(o){return _(this,null,function*(){let s=Q(o);V(Ki,"RemoteStore shutting down."),s.Ta.add(5),yield qc(s),s.Ea.shutdown(),s.da.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Gh=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Xr="FirestoreClient",oI=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ke.UNAUTHENTICATED,this.clientId=Eh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){V(Xr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(V(Xr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=kI(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Nv(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),V(Xr,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield YR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function $0(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield p4(t);V(Xr,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>F0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>F0(e.remoteStore,i)),t._onlineComponents=e})}function p4(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V(Xr,"Using user provided OfflineComponentProvider");try{yield Nv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ms("Error using user provided cache. Falling back to memory cache: "+n),yield Nv(t,new hN)}}else V(Xr,"Using default OfflineComponentProvider"),yield Nv(t,new iI(void 0));return t._offlineComponents})}function fN(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(V(Xr,"Using user provided OnlineComponentProvider"),yield $0(t,t._uninitializedComponentsProvider._online)):(V(Xr,"Using default OnlineComponentProvider"),yield $0(t,new f4))),t._onlineComponents})}function g4(t){return fN(t).then(e=>e.syncEngine)}function sI(t){return _(this,null,function*(){let e=yield fN(t),n=e.eventManager;return n.onListen=e4.bind(null,e.syncEngine),n.onUnlisten=r4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=t4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=i4.bind(null,e.syncEngine),n})}function m4(t,e,n={}){let r=new Rn;return t.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(o,s,a,u,l){let h=new Gh({next:m=>{h.Cu(),s.enqueueAndForget(()=>oN(o,p));let y=m.docs.has(a);!y&&m.fromCache?l.reject(new L(M.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new L(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new zh(af(a.path),h,{includeMetadataChanges:!0,La:!0});return iN(o,p)}(yield sI(t),t.asyncQueue,e,n,r)})),r.promise}function pN(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var H0=new Map;function gN(t,e,n){if(!n)throw new L(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function y4(t,e,n,r){if(e===!0&&r===!0)throw new L(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function z0(t){if(!H.isDocumentKey(t))throw new L(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function q0(t){if(H.isDocumentKey(t))throw new L(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ff(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":z(12329,{type:typeof t})}function Kt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=ff(t);throw new L(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var mN="firestore.googleapis.com",W0=!0,Kh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mN,this.ssl=W0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:W0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NH)throw new L(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}y4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Cs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new L(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Mv;switch(r.type){case"firstParty":return new Ov(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=H0.get(n);r&&(V("ComponentProvider","Removing Datastore"),H0.delete(n),r.terminate())}(this),Promise.resolve()}};function yN(t,e,n,r={}){var i;t=Kt(t,Cs);let o=Pi(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(Fd(`https://${u}`),Vd("Firestore",!0)),s.host!==mN&&s.host!==u&&ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!cn(l,a)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Ke.MOCK_USER;else{h=bS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new L(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ke(m)}t._authCredentials=new Pv(new _h(h,p))}}var Qi=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},dt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Kr=class t extends Qi{constructor(e,n,r){super(e,n,af(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new H(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function vN(t,e,...n){if(t=Me(t),gN("collection","path",e),t instanceof Cs){let r=Ae.fromString(e,...n);return q0(r),new Kr(t,null,r)}{if(!(t instanceof dt||t instanceof Kr))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ae.fromString(e,...n));return q0(r),new Kr(t.firestore,null,r)}}function VI(t,e,...n){if(t=Me(t),arguments.length===1&&(e=Eh.newId()),gN("doc","path",e),t instanceof Cs){let r=Ae.fromString(e,...n);return z0(r),new dt(t,null,new H(r))}{if(!(t instanceof dt||t instanceof Kr))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ae.fromString(e,...n));return z0(r),new dt(t.firestore,t instanceof Kr?t.converter:null,new H(r))}}var G0="AsyncQueue",Qh=class{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new jh(this,"async_queue_retry"),this.ec=()=>{let r=Rv();r&&V(G0,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;let n=Rv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;let n=Rv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});let n=new Rn;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}sc(){return _(this,null,function*(){if(this.zu.length!==0){try{yield this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Ns(e))throw e;V(G0,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}})}rc(e){let n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,dr("INTERNAL UNHANDLED ERROR: ",K0(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);let i=Q_.createAndSchedule(this,e,n,r,o=>this.oc(o));return this.Hu.push(i),i}nc(){this.Ju&&z(47125,{_c:K0(this.Ju)})}verifyOperationInProgress(){}ac(){return _(this,null,function*(){let e;do e=this.tc,yield e;while(e!==this.tc)})}uc(e){for(let n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){let n=this.Hu.indexOf(e);this.Hu.splice(n,1)}};function K0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function Q0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Ln=class extends Cs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Qh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Qh(e),this._firestoreClient=void 0,yield e}})}};function _N(t,e){let n=typeof t=="object"?t:ki(),r=typeof t=="string"?t:e||bh,i=ts(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=DS("firestore");o&&yN(i,...o)}return i}function jI(t){if(t._terminated)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||v4(t),t._firestoreClient}function v4(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new Uv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,pN(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new oI(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var Bc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(ht.fromBase64String(e))}catch(n){throw new L(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ss=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Yi=class{constructor(e){this._methodName=e}};var $c=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}};var Hc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var _4=/^__.*__$/,aI=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new On(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gi(e,this.data,n,this.fieldTransforms)}},Yh=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new On(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function IN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z(40011,{hc:t})}}var Zh=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Xh(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(IN(this.hc)&&_4.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}},cI=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||lf(e)}gc(e,n,r,i=!1){return new Zh({hc:e,methodName:n,fc:r,path:Ft.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function pf(t){let e=t._freezeSettings(),n=lf(t._databaseId);return new cI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function EN(t,e,n,r,i,o={}){let s=t.gc(o.merge||o.mergeFields?2:0,e,n,i);UI("Data must be an object, but it was:",s,r);let a=wN(r,s),u,l;if(o.merge)u=new Gt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=dI(e,p,n);if(!s.contains(m))throw new L(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);DN(h,m)||h.push(m)}u=new Gt(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new aI(new Lt(a),u,l)}var Jh=class t extends Yi{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function I4(t,e,n){return new Zh({hc:3,fc:e.settings.fc,methodName:t._methodName,Ec:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var uI=class t extends Yi{_toFieldTransform(e){return new Ah(e.path,new qi)}isEqual(e){return e instanceof t}},lI=class t extends Yi{constructor(e,n){super(e),this.yc=n}_toFieldTransform(e){let n=I4(this,e,!0),r=this.yc.map(o=>Ps(o,n)),i=new Zr(r);return new Ah(e.path,i)}isEqual(e){return e instanceof t&&cn(this.yc,e.yc)}};function E4(t,e,n,r){let i=t.gc(1,e,n);UI("Data must be an object, but it was:",i,r);let o=[],s=Lt.empty();ei(r,(u,l)=>{let h=BI(e,u,n);l=Me(l);let p=i.Ac(h);if(l instanceof Jh)o.push(h);else{let m=Ps(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new Gt(o);return new Yh(s,a,i.fieldTransforms)}function w4(t,e,n,r,i,o){let s=t.gc(1,e,n),a=[dI(e,r,n)],u=[i];if(o.length%2!=0)throw new L(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(dI(e,o[m])),u.push(o[m+1]);let l=[],h=Lt.empty();for(let m=a.length-1;m>=0;--m)if(!DN(l,a[m])){let y=a[m],w=u[m];w=Me(w);let R=s.Ac(y);if(w instanceof Jh)l.push(y);else{let N=Ps(w,R);N!=null&&(l.push(y),h.set(y,N))}}let p=new Gt(l);return new Yh(h,p,s.fieldTransforms)}function T4(t,e,n,r=!1){return Ps(n,t.gc(r?4:3,e))}function Ps(t,e){if(TN(t=Me(t)))return UI("Unsupported field value:",e,t),wN(t,e);if(t instanceof Yi)return function(r,i){if(!IN(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Ps(a,i.Rc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Me(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=et.fromDate(r);return{timestampValue:xh(i.serializer,o)}}if(r instanceof et){let o=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xh(i.serializer,o)}}if(r instanceof $c)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bc)return{bytesValue:$R(i.serializer,r._byteString)};if(r instanceof dt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Vc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:AI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Hc)return function(s,a){return{mapValue:{fields:{[wI]:{stringValue:TI},[vs]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Vc("VectorValues must only contain numeric values.");return SI(a.serializer,l)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${ff(r)}`)}(t,e)}function wN(t,e){let n={};return pR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ei(t,(r,i)=>{let o=Ps(i,e.Ic(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function TN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof $c||t instanceof Bc||t instanceof dt||t instanceof Yi||t instanceof Hc)}function UI(t,e,n){if(!TN(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=ff(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function dI(t,e,n){if((e=Me(e))instanceof Ss)return e._internalPath;if(typeof e=="string")return BI(t,e);throw Xh("Field path arguments must be of type string or ",t,!1,void 0,n)}var D4=new RegExp("[~\\*/\\[\\]]");function BI(t,e,n){if(e.search(D4)>=0)throw Xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ss(...e.split("."))._internalPath}catch{throw Xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new L(M.INVALID_ARGUMENT,a+t+u)}function DN(t,e){return t.some(n=>n.isEqual(e))}var ef=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new hI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field($I("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},hI=class extends ef{data(){return super.data()}};function $I(t,e){return typeof e=="string"?BI(t,e):e instanceof Ss?e._internalPath:e._delegate._internalPath}function b4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var zc=class{},tf=class extends zc{};function C4(t,e,...n){let r=[];e instanceof zc&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof pI).length,a=o.filter(u=>u instanceof fI).length;if(s>1||s>0&&a>0)throw new L(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var fI=class t extends tf{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return bN(e._query,n),new Qi(e.firestore,e.converter,Xv(e._query,n))}_parse(e){let n=pf(e.firestore);return function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new L(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Z0(p,h);let w=[];for(let R of p)w.push(Y0(u,o,R));m={arrayValue:{values:w}}}else m=Y0(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Z0(p,h),m=T4(a,s,p,h==="in"||h==="not-in");return Ue.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var pI=class t extends zc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:fn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)bN(s,u),s=Xv(s,u)}(e._query,n),new Qi(e.firestore,e.converter,Xv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var gI=class t extends tf{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new L(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new L(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zi(o,s)}(e._query,this._field,this._direction);return new Qi(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new Yr(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function S4(t,e="asc"){let n=e,r=$I("orderBy",t);return gI._create(r,n)}function Y0(t,e,n){if(typeof(n=Me(n))=="string"){if(n==="")throw new L(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AR(e)&&n.indexOf("/")!==-1)throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ae.fromString(n));if(!H.isDocumentKey(r))throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return g0(t,new H(r))}if(n instanceof dt)return g0(t,n._key);throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ff(n)}.`)}function Z0(t,e){if(!Array.isArray(t)||t.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bN(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var mI=class{convertValue(e,n="none"){switch(Qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw z(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return ei(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[vs].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ce(s.doubleValue));return new Hc(o)}convertGeoPoint(e){return new $c(Ce(e.latitude),Ce(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=sf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(kc(e));default:return null}}convertTimestamp(e){let n=hr(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ae.fromString(e);ge(KR(r),9688,{name:e});let i=new Ch(r.get(1),r.get(3)),o=new H(r.popFirst(5));return i.isEqual(n)||dr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function CN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Bi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},nf=class extends ef{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new gs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field($I("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},gs=class extends nf{data(e={}){return super.data(e)}},yI=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Bi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new gs(this._firestore,this._userDataWriter,r.key,r,new Bi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new gs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Bi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new gs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Bi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:A4(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function A4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z(61501,{type:t})}}function R4(t){t=Kt(t,dt);let e=Kt(t.firestore,Ln);return m4(jI(e),t._key).then(n=>NN(e,t,n))}var rf=class extends mI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,n)}};function SN(t,e,n){t=Kt(t,dt);let r=Kt(t.firestore,Ln),i=CN(t.converter,e,n);return gf(r,[EN(pf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Pn.none())])}function AN(t,e,n,...r){t=Kt(t,dt);let i=Kt(t.firestore,Ln),o=pf(i),s;return s=typeof(e=Me(e))=="string"||e instanceof Ss?w4(o,"updateDoc",t._key,e,n,r):E4(o,"updateDoc",t._key,e),gf(i,[s.toMutation(t._key,Pn.exists(!0))])}function N4(t){return gf(Kt(t.firestore,Ln),[new Lc(t._key,Pn.none())])}function RN(t,e){let n=Kt(t.firestore,Ln),r=VI(t),i=CN(t.converter,e);return gf(n,[EN(pf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Pn.exists(!1))]).then(()=>r)}function HI(t,...e){var n,r,i;t=Me(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Q0(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Q0(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof dt)l=Kt(t.firestore,Ln),h=af(t._key.path),u={next:p=>{e[s]&&e[s](NN(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=Kt(t,Qi);l=Kt(p.firestore,Ln),h=p._query;let m=new rf(l);u={next:y=>{e[s]&&e[s](new yI(l,m,p,y))},error:e[s+1],complete:e[s+2]},b4(t._query)}return function(m,y,w,R){let N=new Gh(R),O=new zh(y,N,w);return m.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return iN(yield sI(m),O)})),()=>{N.Cu(),m.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return oN(yield sI(m),O)}))}}(jI(l),h,a,u)}function gf(t,e){return function(r,i){let o=new Rn;return r.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return o4(yield g4(r),i,o)})),o.promise}(jI(t),e)}function NN(t,e,n){let r=n.docs.get(e._key),i=new rf(t);return new nf(t,i,e._key,r,new Bi(n.hasPendingWrites,n.fromCache),e.converter)}function xY(){return new uI("serverTimestamp")}function kY(...t){return new lI("arrayUnion",t)}(function(e,n=!0){(function(i){As=i})(Ur),un(new _t("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Ln(new xv(r.getProvider("auth-internal")),new Lv(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ch(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Pe(o0,s0,e),Pe(o0,s0,"esm2017")})();var mf=function(){return mf=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},mf.apply(this,arguments)};var x4={includeMetadataChanges:!1};function zI(t,e){return e===void 0&&(e=x4),new ie(function(n){var r=HI(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function MN(t){return zI(t,{includeMetadataChanges:!0})}function PN(t,e){return e===void 0&&(e={}),MN(t).pipe(se(function(n){return qI(n,e)}))}function qI(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:mf(mf({},r),(n={},n[e.idField]=t.id,n))}function xN(t){return zI(t,{includeMetadataChanges:!0}).pipe(se(function(e){return e.docs}))}function kN(t,e){return e===void 0&&(e={}),xN(t).pipe(se(function(n){return n.map(function(r){return qI(r,e)})}))}var Gc=class{constructor(e){return e}},ON="firestore",WI=class{constructor(){return rs(ON)}};var GI=new U("angularfire2.firestore-instances");function k4(t,e){let n=fc(ON,t,e);return n&&new Gc(n)}function O4(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Gc(r)}}var L4={provide:WI,deps:[[new Ut,GI]]},F4={provide:Gc,useFactory:k4,deps:[[new Ut,GI],rr]};function QZ(t,...e){return Pe("angularfire",Br.full,"fst"),In([F4,L4,{provide:GI,useFactory:O4(t),multi:!0,deps:[fe,He,$r,Li,[new Ut,bc],[new Ut,as],...e]}])}var YZ=Ge(kN,!0);var ZZ=Ge(PN,!0);var JZ=Ge(RN,!0,2);var XZ=Ge(vN,!0,2);var eJ=Ge(VI,!0,2);var tJ=Ge(_N,!0);var nJ=Ge(SN,!0,2);var rJ=Ge(AN,!0,2);export{F as a,ve as b,V4 as c,j4 as d,_ as e,Ze as f,Se as g,W as h,se as i,JM as j,XM as k,Mt as l,j as m,_T as n,B as o,xo as p,U as q,x as r,Nl as s,_W as t,IW as u,Fg as v,Dt as w,Sa as x,Bg as y,EW as z,wW as A,Bl as B,Pt as C,_b as D,Vo as E,jo as F,i1 as G,h1 as H,Ma as I,S1 as J,A1 as K,PW as L,xW as M,kW as N,OW as O,Rb as P,Nb as Q,lm as R,LW as S,Mb as T,FW as U,VW as V,J1 as W,Pb as X,jW as Y,UW as Z,BW as _,$W as $,HW as aa,Ub as ba,Bb as ca,Yn as da,VL as ea,jL as fa,$L as ga,uC as ha,iF as ia,Km as ja,tr as ka,UV as la,BV as ma,KV as na,WK as oa,GK as pa,Jj as qa,xA as ra,lv as sa,HA as ta,fv as ua,Dc as va,cY as wa,uY as xa,lY as ya,dY as za,hY as Aa,fY as Ba,et as Ca,vN as Da,C4 as Ea,S4 as Fa,R4 as Ga,SN as Ha,N4 as Ia,xY as Ja,kY as Ka,Gc as La,QZ as Ma,YZ as Na,ZZ as Oa,JZ as Pa,XZ as Qa,eJ as Ra,tJ as Sa,nJ as Ta,rJ as Ua};
