var EM=Object.defineProperty,wM=Object.defineProperties;var TM=Object.getOwnPropertyDescriptors;var nw=Object.getOwnPropertySymbols,DM=Object.getPrototypeOf,bM=Object.prototype.hasOwnProperty,CM=Object.prototype.propertyIsEnumerable,SM=Reflect.get;var rw=(t,e,n)=>e in t?EM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F=(t,e)=>{for(var n in e||={})bM.call(e,n)&&rw(t,n,e[n]);if(nw)for(var n of nw(e))CM.call(e,n)&&rw(t,n,e[n]);return t},ve=(t,e)=>wM(t,TM(e));var Er=(t,e,n)=>SM(DM(t),n,e);var _=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});function Kf(t,e){return Object.is(t,e)}var $e=null,du=!1,Qf=1,Yt=Symbol("SIGNAL");function te(t){let e=$e;return $e=t,e}function Yf(){return $e}var na={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ra(t){if(du)throw new Error("");if($e===null)return;$e.consumerOnSignalRead(t);let e=$e.nextProducerIndex++;if(gu($e),e<$e.producerNode.length&&$e.producerNode[e]!==t&&ta($e)){let n=$e.producerNode[e];pu(n,$e.producerIndexOfThis[e])}$e.producerNode[e]!==t&&($e.producerNode[e]=t,$e.producerIndexOfThis[e]=ta($e)?ow(t,$e,e):0),$e.producerLastReadVersion[e]=t.version}function iw(){Qf++}function Zf(t){if(!(ta(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Qf)){if(!t.producerMustRecompute(t)&&!tp(t)){Gf(t);return}t.producerRecomputeValue(t),Gf(t)}}function Jf(t){if(t.liveConsumerNode===void 0)return;let e=du;du=!0;try{for(let n of t.liveConsumerNode)n.dirty||AM(n)}finally{du=e}}function Xf(){return $e?.consumerAllowSignalWrites!==!1}function AM(t){t.dirty=!0,Jf(t),t.consumerMarkedDirty?.(t)}function Gf(t){t.dirty=!1,t.lastCleanEpoch=Qf}function fu(t){return t&&(t.nextProducerIndex=0),te(t)}function ep(t,e){if(te(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ta(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)pu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function tp(t){gu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Zf(n),r!==n.version))return!0}return!1}function np(t){if(gu(t),ta(t))for(let e=0;e<t.producerNode.length;e++)pu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ow(t,e,n){if(sw(t),t.liveConsumerNode.length===0&&aw(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=ow(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function pu(t,e){if(sw(t),t.liveConsumerNode.length===1&&aw(t))for(let r=0;r<t.producerNode.length;r++)pu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];gu(i),i.producerIndexOfThis[r]=e}}function ta(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function gu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function sw(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function aw(t){return t.producerNode!==void 0}function rp(t,e){let n=Object.create(RM);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Zf(n),ra(n),n.value===hu)throw n.error;return n.value};return r[Yt]=n,r}var qf=Symbol("UNSET"),Wf=Symbol("COMPUTING"),hu=Symbol("ERRORED"),RM=ve(F({},na),{value:qf,dirty:!0,error:null,equal:Kf,kind:"computed",producerMustRecompute(t){return t.value===qf||t.value===Wf},producerRecomputeValue(t){if(t.value===Wf)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Wf;let n=fu(t),r,i=!1;try{r=t.computation(),te(null),i=e!==qf&&e!==hu&&r!==hu&&t.equal(e,r)}catch(o){r=hu,t.error=o}finally{ep(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function NM(){throw new Error}var cw=NM;function uw(t){cw(t)}function ip(t){cw=t}var MM=null;function op(t,e){let n=Object.create(mu);n.value=t,e!==void 0&&(n.equal=e);let r=()=>(ra(n),n.value);return r[Yt]=n,r}function ia(t,e){Xf()||uw(t),t.equal(t.value,e)||(t.value=e,PM(t))}function sp(t,e){Xf()||uw(t),ia(t,e(t.value))}var mu=ve(F({},na),{equal:Kf,value:void 0,kind:"signal"});function PM(t){t.version++,iw(),Jf(t),MM?.()}function ap(t){let e=te(null);try{return t()}finally{te(e)}}var cp;function oa(){return cp}function Un(t){let e=cp;return cp=t,e}var yu=Symbol("NotFound");function Y(t){return typeof t=="function"}function ro(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var vu=ro(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function oi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ne=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Y(r))try{r()}catch(o){e=o instanceof vu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{lw(o)}catch(s){e=e??[],s instanceof vu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new vu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)lw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&oi(n,e)}remove(e){let{_finalizers:n}=this;n&&oi(n,e),e instanceof t&&e._removeParent(this)}};Ne.EMPTY=(()=>{let t=new Ne;return t.closed=!0,t})();var up=Ne.EMPTY;function _u(t){return t instanceof Ne||t&&"closed"in t&&Y(t.remove)&&Y(t.add)&&Y(t.unsubscribe)}function lw(t){Y(t)?t():t.unsubscribe()}var Zt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var io={setTimeout(t,e,...n){let{delegate:r}=io;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=io;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Iu(t){io.setTimeout(()=>{let{onUnhandledError:e}=Zt;if(e)e(t);else throw t})}function sa(){}var dw=lp("C",void 0,void 0);function hw(t){return lp("E",void 0,t)}function fw(t){return lp("N",t,void 0)}function lp(t,e,n){return{kind:t,value:e,error:n}}var si=null;function oo(t){if(Zt.useDeprecatedSynchronousErrorHandling){let e=!si;if(e&&(si={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=si;if(si=null,n)throw r}}else t()}function pw(t){Zt.useDeprecatedSynchronousErrorHandling&&si&&(si.errorThrown=!0,si.error=t)}var ai=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,_u(e)&&e.add(this)):this.destination=VM}static create(e,n,r){return new so(e,n,r)}next(e){this.isStopped?hp(fw(e),this):this._next(e)}error(e){this.isStopped?hp(hw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?hp(dw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},LM=Function.prototype.bind;function dp(t,e){return LM.call(t,e)}var fp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Eu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Eu(r)}else Eu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Eu(n)}}},so=class extends ai{constructor(e,n,r){super();let i;if(Y(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Zt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&dp(e.next,o),error:e.error&&dp(e.error,o),complete:e.complete&&dp(e.complete,o)}):i=e}this.destination=new fp(i)}};function Eu(t){Zt.useDeprecatedSynchronousErrorHandling?pw(t):Iu(t)}function FM(t){throw t}function hp(t,e){let{onStoppedNotification:n}=Zt;n&&io.setTimeout(()=>n(t,e))}var VM={closed:!0,next:sa,error:FM,complete:sa};var ao=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Mt(t){return t}function wu(...t){return pp(t)}function pp(t){return t.length===0?Mt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var oe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=UM(n)?n:new so(n,r,i);return oo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=gw(r),new r((i,o)=>{let s=new so({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ao](){return this}pipe(...n){return pp(n)(this)}toPromise(n){return n=gw(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function gw(t){var e;return(e=t??Zt.Promise)!==null&&e!==void 0?e:Promise}function jM(t){return t&&Y(t.next)&&Y(t.error)&&Y(t.complete)}function UM(t){return t&&t instanceof ai||jM(t)&&_u(t)}function gp(t){return Y(t?.lift)}function ue(t){return e=>{if(gp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(t,e,n,r,i){return new mp(t,e,n,r,i)}var mp=class extends ai{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function co(){return ue((t,e)=>{let n=null;t._refCount++;let r=se(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var uo=class extends oe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,gp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ne;let n=this.getSubject();e.add(this.source.subscribe(se(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ne.EMPTY)}return e}refCount(){return co()(this)}};var mw=ro(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Je=(()=>{class t extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Tu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new mw}next(n){oo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){oo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){oo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?up:(this.currentObservers=null,o.push(n),new Ne(()=>{this.currentObservers=null,oi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new oe;return n.source=this,n}}return t.create=(e,n)=>new Tu(e,n),t})(),Tu=class extends Je{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:up}};var ke=class extends Je{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var yp={now(){return(yp.delegate||Date).now()},delegate:void 0};var Du=class extends Ne{constructor(e,n){super()}schedule(e,n=0){return this}};var aa={setInterval(t,e,...n){let{delegate:r}=aa;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=aa;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var lo=class extends Du{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return aa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&aa.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,oi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ho=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ho.now=yp.now;var fo=class extends ho{constructor(e,n=ho.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var ca=new fo(lo);var bu=class extends lo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Cu=class extends fo{};var vp=new Cu(bu);var Et=new oe(t=>t.complete());function yw(t){return t&&Y(t.schedule)}function vw(t){return t[t.length-1]}function Su(t){return Y(vw(t))?t.pop():void 0}function wr(t){return yw(vw(t))?t.pop():void 0}function Au(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Iw(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function _w(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ci(t){return this instanceof ci?(this.v=t,this):new ci(t)}function Ew(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(w){return Promise.resolve(w).then(y,p)}}function a(y,w){r[y]&&(i[y]=function(R){return new Promise(function(N,O){o.push([y,R,N,O])>1||u(y,R)})},w&&(i[y]=w(i[y])))}function u(y,w){try{l(r[y](w))}catch(R){m(o[0][3],R)}}function l(y){y.value instanceof ci?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,w){y(w),o.shift(),o.length&&u(o[0][0],o[0][1])}}function ww(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof _w=="function"?_w(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Ru=t=>t&&typeof t.length=="number"&&typeof t!="function";function Nu(t){return Y(t?.then)}function Mu(t){return Y(t[ao])}function Pu(t){return Symbol.asyncIterator&&Y(t?.[Symbol.asyncIterator])}function xu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function BM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ku=BM();function Ou(t){return Y(t?.[ku])}function Lu(t){return Ew(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ci(n.read());if(i)return yield ci(void 0);yield yield ci(r)}}finally{n.releaseLock()}})}function Fu(t){return Y(t?.getReader)}function Fe(t){if(t instanceof oe)return t;if(t!=null){if(Mu(t))return $M(t);if(Ru(t))return HM(t);if(Nu(t))return zM(t);if(Pu(t))return Tw(t);if(Ou(t))return qM(t);if(Fu(t))return WM(t)}throw xu(t)}function $M(t){return new oe(e=>{let n=t[ao]();if(Y(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function HM(t){return new oe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function zM(t){return new oe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Iu)})}function qM(t){return new oe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Tw(t){return new oe(e=>{GM(t,e).catch(n=>e.error(n))})}function WM(t){return Tw(Lu(t))}function GM(t,e){var n,r,i,o;return Iw(this,void 0,void 0,function*(){try{for(n=ww(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function wt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Tr(t,e=0){return ue((n,r)=>{n.subscribe(se(r,i=>wt(r,t,()=>r.next(i),e),()=>wt(r,t,()=>r.complete(),e),i=>wt(r,t,()=>r.error(i),e)))})}function Dr(t,e=0){return ue((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Dw(t,e){return Fe(t).pipe(Dr(e),Tr(e))}function bw(t,e){return Fe(t).pipe(Dr(e),Tr(e))}function Cw(t,e){return new oe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Sw(t,e){return new oe(n=>{let r;return wt(n,e,()=>{r=t[ku](),wt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Y(r?.return)&&r.return()})}function Vu(t,e){if(!t)throw new Error("Iterable cannot be null");return new oe(n=>{wt(n,e,()=>{let r=t[Symbol.asyncIterator]();wt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Aw(t,e){return Vu(Lu(t),e)}function Rw(t,e){if(t!=null){if(Mu(t))return Dw(t,e);if(Ru(t))return Cw(t,e);if(Nu(t))return bw(t,e);if(Pu(t))return Vu(t,e);if(Ou(t))return Sw(t,e);if(Fu(t))return Aw(t,e)}throw xu(t)}function Se(t,e){return e?Rw(t,e):Fe(t)}function W(...t){let e=wr(t);return Se(t,e)}function po(t,e){let n=Y(t)?t:()=>t,r=i=>i.error(n());return new oe(e?i=>e.schedule(r,0,i):r)}function _p(t){return!!t&&(t instanceof oe||Y(t.lift)&&Y(t.subscribe))}var Bn=ro(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ne(t,e){return ue((n,r)=>{let i=0;n.subscribe(se(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:KM}=Array;function QM(t,e){return KM(e)?t(...e):t(e)}function ju(t){return ne(e=>QM(t,e))}var{isArray:YM}=Array,{getPrototypeOf:ZM,prototype:JM,keys:XM}=Object;function Uu(t){if(t.length===1){let e=t[0];if(YM(e))return{args:e,keys:null};if(eP(e)){let n=XM(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function eP(t){return t&&typeof t=="object"&&ZM(t)===JM}function Bu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ui(...t){let e=wr(t),n=Su(t),{args:r,keys:i}=Uu(t);if(r.length===0)return Se([],e);let o=new oe(tP(r,e,i?s=>Bu(i,s):Mt));return n?o.pipe(ju(n)):o}function tP(t,e,n=Mt){return r=>{Nw(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)Nw(e,()=>{let l=Se(t[u],e),h=!1;l.subscribe(se(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Nw(t,e,n){t?wt(n,t,e):e()}function Mw(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=R=>l<r?w(R):u.push(R),w=R=>{o&&e.next(R),l++;let N=!1;Fe(n(R,h++)).subscribe(se(e,O=>{i?.(O),o?y(O):e.next(O)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let O=u.shift();s?wt(e,s,()=>w(O)):w(O)}m()}catch(O){e.error(O)}}))};return t.subscribe(se(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Oe(t,e,n=1/0){return Y(e)?Oe((r,i)=>ne((o,s)=>e(r,o,i,s))(Fe(t(r,i))),n):(typeof e=="number"&&(n=e),ue((r,i)=>Mw(r,i,t,n)))}function go(t=1/0){return Oe(Mt,t)}function Pw(){return go(1)}function mo(...t){return Pw()(Se(t,wr(t)))}function $u(t){return new oe(e=>{Fe(t()).subscribe(e)})}function nP(...t){let e=Su(t),{args:n,keys:r}=Uu(t),i=new oe(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Fe(n[h]).subscribe(se(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Bu(r,a):a),o.complete())}))}});return e?i.pipe(ju(e)):i}function Tt(t,e){return ue((n,r)=>{let i=0;n.subscribe(se(r,o=>t.call(e,o,i++)&&r.next(o)))})}function $n(t){return ue((e,n)=>{let r=null,i=!1,o;r=e.subscribe(se(n,void 0,void 0,s=>{o=Fe(t(s,$n(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function xw(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(se(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function br(t,e){return Y(e)?Oe(t,e,1):Oe(t,1)}function rP(t,e=ca){return ue((n,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function u(){let l=s+t,h=e.now();if(h<l){i=this.schedule(void 0,l-h),r.add(i);return}a()}n.subscribe(se(r,l=>{o=l,s=e.now(),i||(i=e.schedule(u,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function Cr(t){return ue((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Hn(t){return t<=0?()=>Et:ue((e,n)=>{let r=0;e.subscribe(se(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Hu(t=iP){return ue((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function iP(){return new Bn}function ua(t){return ue((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function zn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Tt((i,o)=>t(i,o,r)):Mt,Hn(1),n?Cr(e):Hu(()=>new Bn))}function yo(t){return t<=0?()=>Et:ue((e,n)=>{let r=[];e.subscribe(se(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ip(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Tt((i,o)=>t(i,o,r)):Mt,yo(1),n?Cr(e):Hu(()=>new Bn))}function zu(t,e){return ue(xw(t,e,arguments.length>=2,!0))}function qu(...t){let e=wr(t);return ue((n,r)=>{(e?mo(t,n,e):mo(t,n)).subscribe(r)})}function Pt(t,e){return ue((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(se(r,u=>{i?.unsubscribe();let l=0,h=o++;Fe(t(u,h)).subscribe(i=se(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ep(t){return ue((e,n)=>{Fe(t).subscribe(se(n,()=>n.complete(),sa)),!n.closed&&e.subscribe(n)})}function Xe(t,e,n){let r=Y(t)||e||n?{next:t,error:e,complete:n}:t;return r?ue((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(se(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Mt}var IT="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",j=class extends Error{code;constructor(e,n){super(ET(e,n)),this.code=e}};function oP(t){return`NG0${Math.abs(t)}`}function ET(t,e){return`${oP(t)}${e?": "+e:""}`}var wT=Symbol("InputSignalNode#UNSET"),sP=ve(F({},mu),{transformFn:void 0,applyValueToInputSignal(t,e){ia(t,e)}});function TT(t,e){let n=Object.create(sP);n.value=t,n.transformFn=e?.transform;function r(){if(ra(n),n.value===wT){let i=null;throw new j(-950,i)}return n.value}return r[Yt]=n,r}function ba(t){return{toString:t}.toString()}var Wu="__parameters__";function aP(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function cP(t,e,n){return ba(()=>{let r=aP(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Wu)?u[Wu]:Object.defineProperty(u,Wu,{value:[]})[Wu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var da=globalThis;function Te(t){for(let e in t)if(t[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function uP(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ct(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Ct).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function kw(t,e){return t?e?`${t} ${e}`:t:e||""}var lP=Te({__forward_ref__:Te});function DT(t){return t.__forward_ref__=DT,t.toString=function(){return Ct(this())},t}function mt(t){return bT(t)?t():t}function bT(t){return typeof t=="function"&&t.hasOwnProperty(lP)&&t.__forward_ref__===DT}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ko(t){return{providers:t.providers||[],imports:t.imports||[]}}function Cl(t){return Ow(t,ST)||Ow(t,AT)}function CT(t){return Cl(t)!==null}function Ow(t,e){return t.hasOwnProperty(e)?t[e]:null}function dP(t){let e=t&&(t[ST]||t[AT]);return e||null}function Lw(t){return t&&(t.hasOwnProperty(Fw)||t.hasOwnProperty(hP))?t[Fw]:null}var ST=Te({\u0275prov:Te}),Fw=Te({\u0275inj:Te}),AT=Te({ngInjectableDef:Te}),hP=Te({ngInjectorDef:Te}),U=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function RT(t){return t&&!!t.\u0275providers}var fP=Te({\u0275cmp:Te}),pP=Te({\u0275dir:Te}),gP=Te({\u0275pipe:Te}),mP=Te({\u0275mod:Te}),Xu=Te({\u0275fac:Te}),pa=Te({__NG_ELEMENT_ID__:Te}),Vw=Te({__NG_ENV_ID__:Te});function Cg(t){return typeof t=="string"?t:t==null?"":String(t)}function yP(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Cg(t)}function NT(t,e){throw new j(-200,t)}function Sg(t,e){throw new j(-201,!1)}var ee=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ee||{}),Fp;function MT(){return Fp}function Dt(t){let e=Fp;return Fp=t,e}function PT(t,e,n){let r=Cl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ee.Optional)return null;if(e!==void 0)return e;Sg(t,"Injector")}var vP={},di=vP,Vp="__NG_DI_FLAG__",el=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?yu:di,r)}},tl="ngTempTokenPath",_P="ngTokenPath",IP=/\n/gm,EP="\u0275",jw="__source";function wP(t,e=ee.Default){if(oa()===void 0)throw new j(-203,!1);if(oa()===null)return PT(t,void 0,e);{let n=oa(),r;return n instanceof el?r=n.injector:r=n,r.get(t,e&ee.Optional?null:void 0,e)}}function G(t,e=ee.Default){return(MT()||wP)(mt(t),e)}function x(t,e=ee.Default){return G(t,Sl(e))}function Sl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function jp(t){let e=[];for(let n=0;n<t.length;n++){let r=mt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,o=ee.Default;for(let s=0;s<r.length;s++){let a=r[s],u=DP(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(G(i,o))}else e.push(G(r))}return e}function TP(t,e){return t[Vp]=e,t.prototype[Vp]=e,t}function DP(t){return t[Vp]}function bP(t,e,n,r){let i=t[tl];throw e[jw]&&i.unshift(e[jw]),t.message=CP(`
`+t.message,i,n,r),t[_P]=i,t[tl]=null,t}function CP(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==EP?t.slice(2):t;let i=Ct(e);if(Array.isArray(e))i=e.map(Ct).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ct(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(IP,`
  `)}`}var Ut=TP(cP("Optional"),8);function fi(t,e){let n=t.hasOwnProperty(Xu);return n?t[Xu]:null}function Ag(t,e){t.forEach(n=>Array.isArray(n)?Ag(n,e):e(n))}function xT(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function nl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function SP(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function AP(t,e,n){let r=Ca(t,e);return r>=0?t[r|1]=n:(r=~r,SP(t,r,e,n)),r}function wp(t,e){let n=Ca(t,e);if(n>=0)return t[n|1]}function Ca(t,e){return RP(t,e,1)}function RP(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var pi={},Vt=[],ga=new U(""),kT=new U("",-1),OT=new U(""),rl=class{get(e,n=di){if(n===di){let r=new Error(`NullInjectorError: No provider for ${Ct(e)}!`);throw r.name="NullInjectorError",r}return n}};function LT(t,e){let n=t[mP]||null;if(!n&&e===!0)throw new Error(`Type ${Ct(t)} does not have '\u0275mod' property.`);return n}function gi(t){return t[fP]||null}function NP(t){return t[pP]||null}function MP(t){return t[gP]||null}function In(t){return{\u0275providers:t}}function PP(...t){return{\u0275providers:FT(!0,t),\u0275fromNgModule:!0}}function FT(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Ag(e,s=>{let a=s;Up(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&VT(i,o),n}function VT(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Rg(i,o=>{e(o,r)})}}function Up(t,e,n,r){if(t=mt(t),!t)return!1;let i=null,o=Lw(t),s=!o&&gi(t);if(!o&&!s){let u=t.ngModule;if(o=Lw(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Up(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Ag(o.imports,h=>{Up(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&VT(l,e)}if(!a){let l=fi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Vt},i),e({provide:OT,useValue:i,multi:!0},i),e({provide:ga,useValue:()=>G(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Rg(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Rg(t,e){for(let n of t)RT(n)&&(n=n.\u0275providers),Array.isArray(n)?Rg(n,e):e(n)}var xP=Te({provide:String,useValue:Te});function jT(t){return t!==null&&typeof t=="object"&&xP in t}function kP(t){return!!(t&&t.useExisting)}function OP(t){return!!(t&&t.useFactory)}function Do(t){return typeof t=="function"}function LP(t){return!!t.useClass}var Al=new U(""),Ku={},Uw={},Tp;function Ng(){return Tp===void 0&&(Tp=new rl),Tp}var ot=class{},ma=class extends ot{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,$p(e,s=>this.processProvider(s)),this.records.set(kT,vo(void 0,this)),i.has("environment")&&this.records.set(ot,vo(void 0,this));let o=this.records.get(Al);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(OT,Vt,ee.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?yu:di,r)}destroy(){ha(this),this._destroyed=!0;let e=te(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),te(e)}}onDestroy(e){return ha(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ha(this);let n=Un(this),r=Dt(void 0),i;try{return e()}finally{Un(n),Dt(r)}}get(e,n=di,r=ee.Default){if(ha(this),e.hasOwnProperty(Vw))return e[Vw](this);r=Sl(r);let i,o=Un(this),s=Dt(void 0);try{if(!(r&ee.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=BP(e)&&Cl(e);l&&this.injectableDefInScope(l)?u=vo(Bp(e),Ku):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,r)}let a=r&ee.Self?Ng():this.parent;return n=r&ee.Optional&&n===di?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[tl]=a[tl]||[]).unshift(Ct(e)),o)throw a;return bP(a,e,"R3InjectorError",this.source)}else throw a}finally{Dt(s),Un(o)}}resolveInjectorInitializers(){let e=te(null),n=Un(this),r=Dt(void 0),i;try{let o=this.get(ga,Vt,ee.Self);for(let s of o)s()}finally{Un(n),Dt(r),te(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ct(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=mt(e);let n=Do(e)?e:mt(e&&e.provide),r=VP(e);if(!Do(e)&&e.multi===!0){let i=this.records.get(n);i||(i=vo(void 0,Ku,!0),i.factory=()=>jp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=te(null);try{return n.value===Uw?NT(Ct(e)):n.value===Ku&&(n.value=Uw,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&UP(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{te(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=mt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Bp(t){let e=Cl(t),n=e!==null?e.factory:fi(t);if(n!==null)return n;if(t instanceof U)throw new j(204,!1);if(t instanceof Function)return FP(t);throw new j(204,!1)}function FP(t){if(t.length>0)throw new j(204,!1);let n=dP(t);return n!==null?()=>n.factory(t):()=>new t}function VP(t){if(jT(t))return vo(void 0,t.useValue);{let e=UT(t);return vo(e,Ku)}}function UT(t,e,n){let r;if(Do(t)){let i=mt(t);return fi(i)||Bp(i)}else if(jT(t))r=()=>mt(t.useValue);else if(OP(t))r=()=>t.useFactory(...jp(t.deps||[]));else if(kP(t))r=(i,o)=>G(mt(t.useExisting),o!==void 0&&o&ee.Optional?ee.Optional:void 0);else{let i=mt(t&&(t.useClass||t.provide));if(jP(t))r=()=>new i(...jp(t.deps));else return fi(i)||Bp(i)}return r}function ha(t){if(t.destroyed)throw new j(205,!1)}function vo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function jP(t){return!!t.deps}function UP(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function BP(t){return typeof t=="function"||typeof t=="object"&&t instanceof U}function $p(t,e){for(let n of t)Array.isArray(n)?$p(n,e):n&&RT(n)?$p(n.\u0275providers,e):e(n)}function at(t,e){let n;t instanceof ma?(ha(t),n=t):n=new el(t);let r,i=Un(n),o=Dt(void 0);try{return e()}finally{Un(i),Dt(o)}}function BT(){return MT()!==void 0||oa()!=null}function Rl(t){if(!BT())throw new j(-203,!1)}function $P(t){return typeof t=="function"}var Gn=0,re=1,Z=2,vt=3,Xt=4,tn=5,ya=6,il=7,He=8,bo=9,qn=10,st=11,va=12,Bw=13,Oo=14,en=15,Co=16,_o=17,So=18,Nl=19,$T=20,Sr=21,Dp=22,ol=23,jt=24,wo=25,_t=26,HT=1;var mi=7,sl=8,al=9,yt=10;function Ar(t){return Array.isArray(t)&&typeof t[HT]=="object"}function Kn(t){return Array.isArray(t)&&t[HT]===!0}function zT(t){return(t.flags&4)!==0}function Lo(t){return t.componentOffset>-1}function Mg(t){return(t.flags&1)===1}function gn(t){return!!t.template}function cl(t){return(t[Z]&512)!==0}function Fo(t){return(t[Z]&256)===256}var Hp=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function qT(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Ml=(()=>{let t=()=>WT;return t.ngInherit=!0,t})();function WT(t){return t.type.prototype.ngOnChanges&&(t.setInput=zP),HP}function HP(){let t=KT(this),e=t?.current;if(e){let n=t.previous;if(n===pi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function zP(t,e,n,r,i){let o=this.declaredInputs[r],s=KT(t)||qP(t,{previous:pi,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Hp(l&&l.currentValue,n,u===pi),qT(t,e,i,n)}var GT="__ngSimpleChanges__";function KT(t){return t[GT]||null}function qP(t,e){return t[GT]=e}var $w=null;var _e=function(t,e=null,n){$w?.(t,e,n)},WP="svg",GP="math";function mn(t){for(;Array.isArray(t);)t=t[Gn];return t}function QT(t,e){return mn(e[t])}function Qn(t,e){return mn(e[t.index])}function Pg(t,e){return t.data[e]}function YT(t,e){return t[e]}function KP(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function yn(t,e){let n=e[t];return Ar(n)?n:n[Gn]}function xg(t){return(t[Z]&128)===128}function QP(t){return Kn(t[vt])}function Ao(t,e){return e==null?null:t[e]}function ZT(t){t[_o]=0}function JT(t){t[Z]&1024||(t[Z]|=1024,xg(t)&&Sa(t))}function YP(t,e){for(;t>0;)e=e[Oo],t--;return e}function Pl(t){return!!(t[Z]&9216||t[jt]?.dirty)}function zp(t){t[qn].changeDetectionScheduler?.notify(8),t[Z]&64&&(t[Z]|=1024),Pl(t)&&Sa(t)}function Sa(t){t[qn].changeDetectionScheduler?.notify(0);let e=yi(t);for(;e!==null&&!(e[Z]&8192||(e[Z]|=8192,!xg(e)));)e=yi(e)}function XT(t,e){if(Fo(t))throw new j(911,!1);t[Sr]===null&&(t[Sr]=[]),t[Sr].push(e)}function ZP(t,e){if(t[Sr]===null)return;let n=t[Sr].indexOf(e);n!==-1&&t[Sr].splice(n,1)}function yi(t){let e=t[vt];return Kn(e)?e[vt]:e}function eD(t){return t[il]??=[]}function tD(t){return t.cleanup??=[]}var ae={lFrame:uD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var qp=!1;function JP(){return ae.lFrame.elementDepthCount}function XP(){ae.lFrame.elementDepthCount++}function ex(){ae.lFrame.elementDepthCount--}function nD(){return ae.bindingsEnabled}function tx(){return ae.skipHydrationRootTNode!==null}function nx(t){return ae.skipHydrationRootTNode===t}function rx(){ae.skipHydrationRootTNode=null}function pe(){return ae.lFrame.lView}function Bt(){return ae.lFrame.tView}function EW(t){return ae.lFrame.contextLView=t,t[He]}function wW(t){return ae.lFrame.contextLView=null,t}function $t(){let t=rD();for(;t!==null&&t.type===64;)t=t.parent;return t}function rD(){return ae.lFrame.currentTNode}function ix(){let t=ae.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Aa(t,e){let n=ae.lFrame;n.currentTNode=t,n.isParent=e}function iD(){return ae.lFrame.isParent}function ox(){ae.lFrame.isParent=!1}function oD(){return qp}function Hw(t){let e=qp;return qp=t,e}function xl(){let t=ae.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function sx(t){return ae.lFrame.bindingIndex=t}function kl(){return ae.lFrame.bindingIndex++}function ax(t){let e=ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function cx(){return ae.lFrame.inI18n}function ux(t,e){let n=ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,Wp(e)}function lx(){return ae.lFrame.currentDirectiveIndex}function Wp(t){ae.lFrame.currentDirectiveIndex=t}function dx(t){let e=ae.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function sD(t){ae.lFrame.currentQueryIndex=t}function hx(t){let e=t[re];return e.type===2?e.declTNode:e.type===1?t[tn]:null}function aD(t,e,n){if(n&ee.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ee.Host);)if(i=hx(o),i===null||(o=o[Oo],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ae.lFrame=cD();return r.currentTNode=e,r.lView=t,!0}function kg(t){let e=cD(),n=t[re];ae.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function cD(){let t=ae.lFrame,e=t===null?null:t.child;return e===null?uD(t):e}function uD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function lD(){let t=ae.lFrame;return ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var dD=lD;function Og(){let t=lD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fx(t){return(ae.lFrame.contextLView=YP(t,ae.lFrame.contextLView))[He]}function Ti(){return ae.lFrame.selectedIndex}function vi(t){ae.lFrame.selectedIndex=t}function px(){let t=ae.lFrame;return Pg(t.tView,t.selectedIndex)}function gx(){return ae.lFrame.currentNamespace}var hD=!0;function Lg(){return hD}function Fg(t){hD=t}function mx(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=WT(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function fD(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Qu(t,e,n){pD(t,e,3,n)}function Yu(t,e,n,r){(t[Z]&3)===n&&pD(t,e,n,r)}function bp(t,e){let n=t[Z];(n&3)===e&&(n&=16383,n+=1,t[Z]=n)}function pD(t,e,n,r){let i=r!==void 0?t[_o]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[_o]+=65536),(a<o||o==-1)&&(yx(t,n,e,u),t[_o]=(t[_o]&4294901760)+u+2),u++}function zw(t,e){_e(4,t,e);let n=te(null);try{e.call(t)}finally{te(n),_e(5,t,e)}}function yx(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[Z]>>14<t[_o]>>16&&(t[Z]&3)===e&&(t[Z]+=16384,zw(a,o)):zw(a,o)}var To=-1,_i=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function vx(t){return(t.flags&8)!==0}function _x(t){return(t.flags&16)!==0}function Ix(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];wx(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Ex(t){return t===3||t===4||t===6}function wx(t){return t.charCodeAt(0)===64}function _a(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?qw(t,n,i,null,e[++r]):qw(t,n,i,null,null))}}return t}function qw(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function gD(t){return t!==To}function ul(t){return t&32767}function Tx(t){return t>>16}function ll(t,e){let n=Tx(t),r=e;for(;n>0;)r=r[Oo],n--;return r}var Gp=!0;function dl(t){let e=Gp;return Gp=t,e}var Dx=256,mD=Dx-1,yD=5,bx=0,pn={};function Cx(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(pa)&&(r=n[pa]),r==null&&(r=n[pa]=bx++);let i=r&mD,o=1<<i;e.data[t+(i>>yD)]|=o}function hl(t,e){let n=vD(t,e);if(n!==-1)return n;let r=e[re];r.firstCreatePass&&(t.injectorIndex=e.length,Cp(r.data,t),Cp(e,null),Cp(r.blueprint,null));let i=Vg(t,e),o=t.injectorIndex;if(gD(i)){let s=ul(i),a=ll(i,e),u=a[re].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Cp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function vD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Vg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=TD(i),r===null)return To;if(n++,i=i[Oo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return To}function Kp(t,e,n){Cx(t,e,n)}function _D(t,e,n){if(n&ee.Optional||t!==void 0)return t;Sg(e,"NodeInjector")}function ID(t,e,n,r){if(n&ee.Optional&&r===void 0&&(r=null),(n&(ee.Self|ee.Host))===0){let i=t[bo],o=Dt(void 0);try{return i?i.get(e,r,n&ee.Optional):PT(e,r,n&ee.Optional)}finally{Dt(o)}}return _D(r,e,n)}function ED(t,e,n,r=ee.Default,i){if(t!==null){if(e[Z]&2048&&!(r&ee.Self)){let s=Mx(t,e,n,r,pn);if(s!==pn)return s}let o=wD(t,e,n,r,pn);if(o!==pn)return o}return ID(e,n,r,i)}function wD(t,e,n,r,i){let o=Rx(n);if(typeof o=="function"){if(!aD(e,t,r))return r&ee.Host?_D(i,n,r):ID(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ee.Optional))Sg(n);else return s}finally{dD()}}else if(typeof o=="number"){let s=null,a=vD(t,e),u=To,l=r&ee.Host?e[en][tn]:null;for((a===-1||r&ee.SkipSelf)&&(u=a===-1?Vg(t,e):e[a+8],u===To||!Gw(r,!1)?a=-1:(s=e[re],a=ul(u),e=ll(u,e)));a!==-1;){let h=e[re];if(Ww(o,a,h.data)){let p=Sx(a,e,n,s,r,l);if(p!==pn)return p}u=e[a+8],u!==To&&Gw(r,e[re].data[a+8]===l)&&Ww(o,a,e)?(s=h,a=ul(u),e=ll(u,e)):a=-1}}return i}function Sx(t,e,n,r,i,o){let s=e[re],a=s.data[t+8],u=r==null?Lo(a)&&Gp:r!=s&&(a.type&3)!==0,l=i&ee.Host&&o===a,h=Ax(a,s,n,u,l);return h!==null?fl(e,s,h,a,i):pn}function Ax(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let w=s[y];if(y<u&&n===w||y>=u&&w.type===n)return y}if(i){let y=s[u];if(y&&gn(y)&&y.type===n)return u}return null}function fl(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof _i){let a=o;a.resolving&&NT(yP(s[n]));let u=dl(a.canSeeViewProviders);a.resolving=!0;let l,h=a.injectImpl?Dt(a.injectImpl):null,p=aD(t,r,ee.Default);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&mx(n,s[n],e)}finally{h!==null&&Dt(h),dl(u),a.resolving=!1,dD()}}return o}function Rx(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(pa)?t[pa]:void 0;return typeof e=="number"?e>=0?e&mD:Nx:e}function Ww(t,e,n){let r=1<<t;return!!(n[e+(t>>yD)]&r)}function Gw(t,e){return!(t&ee.Self)&&!(t&ee.Host&&e)}var hi=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return ED(this._tNode,this._lView,e,Sl(r),n)}};function Nx(){return new hi($t(),pe())}function jg(t){return ba(()=>{let e=t.prototype.constructor,n=e[Xu]||Qp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Xu]||Qp(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Qp(t){return bT(t)?()=>{let e=Qp(mt(t));return e&&e()}:fi(t)}function Mx(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Z]&2048&&!cl(s);){let a=wD(o,s,n,r|ee.Self,pn);if(a!==pn)return a;let u=o.parent;if(!u){let l=s[$T];if(l){let h=l.get(n,pn,r);if(h!==pn)return h}u=TD(s),s=s[Oo]}o=u}return i}function TD(t){let e=t[re],n=e.type;return n===2?e.declTNode:n===1?t[tn]:null}function Kw(t,e=null,n=null,r){let i=DD(t,e,n,r);return i.resolveInjectorInitializers(),i}function DD(t,e=null,n=null,r,i=new Set){let o=[n||Vt,PP(t)];return r=r||(typeof t=="object"?void 0:Ct(t)),new ma(o,e||Ng(),r||null,i)}var ze=class t{static THROW_IF_NOT_FOUND=di;static NULL=new rl;static create(e,n){if(Array.isArray(e))return Kw({name:""},n,e,"");{let r=e.name??"";return Kw({name:r},e.parent,e.providers,r)}}static \u0275prov=B({token:t,providedIn:"any",factory:()=>G(kT)});static __NG_ELEMENT_ID__=-1};var Px=new U("");Px.__NG_ELEMENT_ID__=t=>{let e=$t();if(e===null)throw new j(204,!1);if(e.type&2)return e.value;if(t&ee.Optional)return null;throw new j(204,!1)};var bD=!1,Nr=(()=>{class t{static __NG_ELEMENT_ID__=xx;static __NG_ENV_ID__=n=>n}return t})(),Yp=class extends Nr{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let n=this._lView;return Fo(n)?(e(),()=>{}):(XT(n,e),()=>ZP(n,e))}};function xx(){return new Yp(pe())}var Ii=class{},Ug=new U("",{providedIn:"root",factory:()=>!1});var CD=new U(""),SD=new U(""),Di=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new ke(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})(),Ol=(()=>{class t{internalPendingTasks=x(Di);scheduler=x(Ii);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return _(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})(),Zp=class extends Je{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,BT()&&(this.destroyRef=x(Nr,{optional:!0})??void 0,this.pendingTasks=x(Di,{optional:!0})??void 0)}emit(e){let n=te(null);try{super.next(e)}finally{te(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ne&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},bt=Zp;function pl(...t){}function AD(t){let e,n;function r(){t=pl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Qw(t){return queueMicrotask(()=>t()),()=>{t=pl}}var Bg="isAngularZone",gl=Bg+"_ID",kx=0,fe=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new bt(!1);onMicrotaskEmpty=new bt(!1);onStable=new bt(!1);onError=new bt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=bD}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Fx(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Bg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new j(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Ox,pl,pl);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Ox={};function $g(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Lx(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){AD(()=>{t.callbackScheduled=!1,Jp(t),t.isCheckStableRunning=!0,$g(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Jp(t)}function Fx(t){let e=()=>{Lx(t)},n=kx++;t._inner=t._inner.fork({name:"angular",properties:{[Bg]:!0,[gl]:n,[gl+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(Vx(u))return r.invokeTask(o,s,a,u);try{return Yw(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Zw(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return Yw(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!jx(u)&&e(),Zw(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Jp(t),$g(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Jp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Yw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Zw(t){t._nesting--,$g(t)}var Xp=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new bt;onMicrotaskEmpty=new bt;onStable=new bt;onError=new bt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Vx(t){return RD(t,"__ignore_ng_zone__")}function jx(t){return RD(t,"__scheduler_tick__")}function RD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var vn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Ux=new U("",{providedIn:"root",factory:()=>{let t=x(fe),e=x(vn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function Jw(t,e){return TT(t,e)}function Bx(t){return TT(wT,t)}var ND=(Jw.required=Bx,Jw);function $x(){return Ll($t(),pe())}function Ll(t,e){return new Ra(Qn(t,e))}var Ra=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=$x}return t})();function Hg(t,e){let n=op(t,e?.equal),r=n[Yt];return n.set=i=>ia(r,i),n.update=i=>sp(r,i),n.asReadonly=Hx.bind(n),n}function Hx(){let t=this[Yt];if(t.readonlyFn===void 0){let e=()=>this();e[Yt]=t,t.readonlyFn=e}return t.readonlyFn}function MD(t){return(t.flags&128)===128}var PD=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(PD||{}),xD=new Map,zx=0;function qx(){return zx++}function Wx(t){xD.set(t[Nl],t)}function eg(t){xD.delete(t[Nl])}var Xw="__ngContext__";function Na(t,e){Ar(e)?(t[Xw]=e[Nl],Wx(e)):t[Xw]=e}function kD(t){return LD(t[va])}function OD(t){return LD(t[Xt])}function LD(t){for(;t!==null&&!Kn(t);)t=t[Xt];return t}var tg;function FD(t){tg=t}function Gx(){if(tg!==void 0)return tg;if(typeof document<"u")return document;throw new j(210,!1)}var zg=new U("",{providedIn:"root",factory:()=>Kx}),Kx="ng",qg=new U(""),Mr=new U("",{providedIn:"platform",factory:()=>"unknown"});var Wg=new U("",{providedIn:"root",factory:()=>Gx().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Qx="h",Yx="b";var VD=!1,Zx=new U("",{providedIn:"root",factory:()=>VD});var Gg=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Gg||{}),Vo=new U(""),eT=new Set;function Pr(t){eT.has(t)||(eT.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var jD=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=Jx}return t})();function Jx(){return new jD(pe(),$t())}var Io=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Io||{}),UD=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})(),Xx=[Io.EarlyRead,Io.Write,Io.MixedReadWrite,Io.Read],ek=(()=>{class t{ngZone=x(fe);scheduler=x(Ii);errorHandler=x(vn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){x(Vo,{optional:!0})}execute(){let n=this.sequences.size>0;n&&_e(16),this.executing=!0;for(let r of Xx)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&_e(17)}register(n){let{view:r}=n;r!==void 0?((r[wo]??=[]).push(n),Sa(r),r[Z]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Gg.AFTER_NEXT_RENDER,n):n()}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})(),ng=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[wo];e&&(this.view[wo]=e.filter(n=>n!==this))}};function Kg(t,e){!e?.injector&&Rl(Kg);let n=e?.injector??x(ze);return Pr("NgAfterNextRender"),nk(t,n,e,!0)}function tk(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function nk(t,e,n,r){let i=e.get(UD);i.impl??=e.get(ek);let o=e.get(Vo,null,{optional:!0}),s=n?.phase??Io.MixedReadWrite,a=n?.manualCleanup!==!0?e.get(Nr):null,u=e.get(jD,null,{optional:!0}),l=new ng(i.impl,tk(t,s),u?.view,r,a,o?.snapshot(null));return i.impl.register(l),l}var rk=(t,e,n,r)=>{};function ik(t,e,n,r){rk(t,e,n,r)}var ok=()=>null;function BD(t,e,n=!1){return ok(t,e,n)}function $D(t,e){let n=t.contentQueries;if(n!==null){let r=te(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];sD(o),a.contentQueries(2,e[s],s)}}}finally{te(r)}}}function rg(t,e,n){sD(0);let r=te(null);try{e(t,n)}finally{te(r)}}function HD(t,e,n){if(zT(e)){let r=te(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{te(r)}}}var _n=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(_n||{});var ml=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${IT})`}};function Qg(t){return t instanceof ml?t.changingThisBreaksApplicationSecurity:t}function sk(t,e){let n=ak(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${IT})`)}return n===e}function ak(t){return t instanceof ml&&t.getTypeName()||null}var ck=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function uk(t){return t=String(t),t.match(ck)?t:"unsafe:"+t}var zD=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(zD||{});function TW(t){let e=lk();return e?e.sanitize(zD.URL,t)||"":sk(t,"URL")?Qg(t):uk(Cg(t))}function lk(){let t=pe();return t&&t[qn].sanitizer}function qD(t){return t instanceof Function?t():t}function dk(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var WD="ng-template";function hk(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&dk(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Yg(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Yg(t){return t.type===4&&t.value!==WD}function fk(t,e,n){let r=t.type===4&&!n?WD:t.value;return e===r}function pk(t,e,n){let r=4,i=t.attrs,o=i!==null?yk(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Jt(r)&&!Jt(u))return!1;if(s&&Jt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!fk(t,u,n)||u===""&&e.length===1){if(Jt(r))return!1;s=!0}}else if(r&8){if(i===null||!hk(t,i,u,n)){if(Jt(r))return!1;s=!0}}else{let l=e[++a],h=gk(u,i,Yg(t),n);if(h===-1){if(Jt(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Jt(r))return!1;s=!0}}}}return Jt(r)||s}function Jt(t){return(t&1)===0}function gk(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return vk(e,t)}function mk(t,e,n=!1){for(let r=0;r<e.length;r++)if(pk(t,e[r],n))return!0;return!1}function yk(t){for(let e=0;e<t.length;e++){let n=t[e];if(Ex(n))return e}return t.length}function vk(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function tT(t,e){return t?":not("+e.trim()+")":e}function _k(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Jt(s)&&(e+=tT(o,i),i=""),r=s,o=o||!Jt(r);n++}return i!==""&&(e+=tT(o,i)),e}function Ik(t){return t.map(_k).join(",")}function Ek(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Jt(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var xr={};function wk(t,e){return t.createText(e)}function Tk(t,e,n){t.setValue(e,n)}function GD(t,e,n){return t.createElement(e,n)}function yl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function KD(t,e,n){t.appendChild(e,n)}function nT(t,e,n,r,i){r!==null?yl(t,e,n,r,i):KD(t,e,n)}function Dk(t,e,n){t.removeChild(null,e,n)}function bk(t,e,n){t.setAttribute(e,"style",n)}function Ck(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function QD(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Ix(t,e,r),i!==null&&Ck(t,e,i),o!==null&&bk(t,e,o)}function Zg(t,e,n,r,i,o,s,a,u,l,h){let p=_t+r,m=p+i,y=Sk(p,m),w=typeof l=="function"?l():l;return y[re]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:w,incompleteFirstPass:!1,ssrId:h}}function Sk(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:xr);return n}function Ak(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Zg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Jg(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Gn]=i,p[Z]=r|4|128|8|64|1024,(l!==null||t&&t[Z]&2048)&&(p[Z]|=2048),ZT(p),p[vt]=p[Oo]=t,p[He]=n,p[qn]=s||t&&t[qn],p[st]=a||t&&t[st],p[bo]=u||t&&t[bo]||null,p[tn]=o,p[Nl]=qx(),p[ya]=h,p[$T]=l,p[en]=e.type==2?t[en]:p,p}function Rk(t,e,n){let r=Qn(e,t),i=Ak(n),o=t[qn].rendererFactory,s=Xg(t,Jg(t,i,null,YD(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function YD(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function ZD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Xg(t,e){return t[va]?t[Bw][Xt]=e:t[va]=e,t[Bw]=e,e}function DW(t=1){JD(Bt(),pe(),Ti()+t,!1)}function JD(t,e,n,r){if(!r)if((e[Z]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Qu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Yu(e,o,0,n)}vi(n)}var Fl=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Fl||{});function ig(t,e,n,r){let i=te(null);try{let[o,s,a]=t.inputs[n],u=null;(s&Fl.SignalBased)!==0&&(u=e[o][Yt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):qT(e,u,o,r)}finally{te(i)}}function XD(t,e,n,r,i){let o=Ti(),s=r&2;try{vi(-1),s&&e.length>_t&&JD(t,e,_t,!1),_e(s?2:0,i),n(r,i)}finally{vi(o),_e(s?3:1,i)}}function em(t,e,n){Lk(t,e,n),(n.flags&64)===64&&Fk(t,e,n)}function eb(t,e,n=Qn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function Nk(t,e,n,r){let o=r.get(Zx,VD)||n===_n.ShadowDom,s=t.selectRootElement(e,o);return Mk(s),s}function Mk(t){Pk(t)}var Pk=()=>null;function xk(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function kk(t,e,n,r,i,o,s,a){if(!a&&tm(e,t,n,r,i)){Lo(e)&&Ok(n,e.index);return}if(e.type&3){let u=Qn(e,n);r=xk(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function Ok(t,e){let n=yn(e,t);n[Z]&16||(n[Z]|=64)}function Lk(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Lo(n)&&Rk(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||hl(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=fl(e,t,s,n);if(Na(u,e),o!==null&&jk(e,s-r,u,a,n,o),gn(a)){let l=yn(n.index,e);l[He]=fl(e,t,s,n)}}}function Fk(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=lx();try{vi(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Wp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Vk(u,l)}}finally{vi(-1),Wp(s)}}function Vk(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function tb(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];mk(e,o.selectors,!1)&&(r??=[],gn(o)?r.unshift(o):r.push(o))}return r}function jk(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];ig(r,n,u,l)}}function Uk(t,e){let n=t[bo],r=n?n.get(vn,null):null;r&&r.handleError(e)}function tm(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];ig(p,n[l],h,i),a=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];ig(h,l,r,i),a=!0}return a}function Bk(t,e){let n=yn(e,t),r=n[re];$k(r,n);let i=n[Gn];i!==null&&n[ya]===null&&(n[ya]=BD(i,n[bo])),_e(18),nm(r,n,n[He]),_e(19,n[He])}function $k(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function nm(t,e,n){kg(e);try{let r=t.viewQuery;r!==null&&rg(1,r,n);let i=t.template;i!==null&&XD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[So]?.finishViewCreation(t),t.staticContentQueries&&$D(t,e),t.staticViewQueries&&rg(2,t.viewQuery,n);let o=t.components;o!==null&&Hk(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Z]&=-5,Og()}}function Hk(t,e){for(let n=0;n<e.length;n++)Bk(t,e[n])}function Vl(t,e,n,r){let i=te(null);try{let o=e.tView,a=t[Z]&4096?4096:16,u=Jg(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Co]=l;let h=t[So];return h!==null&&(u[So]=h.createEmbeddedView(o)),nm(o,u,n),u}finally{te(i)}}function Ia(t,e){return!e||e.firstChild===null||MD(t)}var zk;function rm(t,e){return zk(t,e)}var Wn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Wn||{});function nb(t){return(t.flags&32)===32}function Eo(t,e,n,r,i){if(r!=null){let o,s=!1;Kn(r)?o=r:Ar(r)&&(s=!0,r=r[Gn]);let a=mn(r);t===0&&n!==null?i==null?KD(e,n,a):yl(e,n,a,i||null,!0):t===1&&n!==null?yl(e,n,a,i||null,!0):t===2?Dk(e,a,s):t===3&&e.destroyNode(a),o!=null&&nO(e,t,o,n,i)}}function qk(t,e){rb(t,e),e[Gn]=null,e[tn]=null}function Wk(t,e,n,r,i,o){r[Gn]=i,r[tn]=e,Ul(t,r,n,1,i,o)}function rb(t,e){e[qn].changeDetectionScheduler?.notify(9),Ul(t,e,e[st],2,null,null)}function Gk(t){let e=t[va];if(!e)return Sp(t[re],t);for(;e;){let n=null;if(Ar(e))n=e[va];else{let r=e[yt];r&&(n=r)}if(!n){for(;e&&!e[Xt]&&e!==t;)Ar(e)&&Sp(e[re],e),e=e[vt];e===null&&(e=t),Ar(e)&&Sp(e[re],e),n=e&&e[Xt]}e=n}}function im(t,e){let n=t[al],r=n.indexOf(e);n.splice(r,1)}function jl(t,e){if(Fo(e))return;let n=e[st];n.destroyNode&&Ul(t,e,n,3,null,null),Gk(e)}function Sp(t,e){if(Fo(e))return;let n=te(null);try{e[Z]&=-129,e[Z]|=256,e[jt]&&np(e[jt]),Qk(t,e),Kk(t,e),e[re].type===1&&e[st].destroy();let r=e[Co];if(r!==null&&Kn(e[vt])){r!==e[vt]&&im(r,e);let i=e[So];i!==null&&i.detachView(t)}eg(e)}finally{te(n)}}function Kk(t,e){let n=t.cleanup,r=e[il];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[il]=null);let i=e[Sr];if(i!==null){e[Sr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[ol];if(o!==null){e[ol]=null;for(let s of o)s.destroy()}}function Qk(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof _i)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];_e(4,a,u);try{u.call(a)}finally{_e(5,a,u)}}else{_e(4,i,o);try{o.call(i)}finally{_e(5,i,o)}}}}}function Yk(t,e,n){return Zk(t,e.parent,n)}function Zk(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Gn];if(Lo(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===_n.None||i===_n.Emulated)return null}return Qn(r,n)}function Jk(t,e,n){return eO(t,e,n)}function Xk(t,e,n){return t.type&40?Qn(t,n):null}var eO=Xk,rT;function om(t,e,n,r){let i=Yk(t,r,e),o=e[st],s=r.parent||e[tn],a=Jk(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)nT(o,i,n[u],a,!1);else nT(o,i,n,a,!1);rT!==void 0&&rT(o,r,e,n,i)}function fa(t,e){if(e!==null){let n=e.type;if(n&3)return Qn(e,t);if(n&4)return og(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return fa(t,r);{let i=t[e.index];return Kn(i)?og(-1,i):mn(i)}}else{if(n&128)return fa(t,e.next);if(n&32)return rm(e,t)()||mn(t[e.index]);{let r=ib(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=yi(t[en]);return fa(i,r)}else return fa(t,e.next)}}}return null}function ib(t,e){if(e!==null){let r=t[en][tn],i=e.projection;return r.projection[i]}return null}function og(t,e){let n=yt+t+1;if(n<e.length){let r=e[n],i=r[re].firstChild;if(i!==null)return fa(r,i)}return e[mi]}function sm(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Na(mn(a),r),n.flags|=2),!nb(n))if(u&8)sm(t,e,n.child,r,i,o,!1),Eo(e,t,i,a,o);else if(u&32){let l=rm(n,r),h;for(;h=l();)Eo(e,t,i,h,o);Eo(e,t,i,a,o)}else u&16?tO(t,e,r,n,i,o):Eo(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Ul(t,e,n,r,i,o){sm(n,r,t.firstChild,e,i,o,!1)}function tO(t,e,n,r,i,o){let s=n[en],u=s[tn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Eo(e,t,i,h,o)}else{let l=u,h=s[vt];MD(r)&&(l.flags|=128),sm(t,e,l,h,i,o,!0)}}function nO(t,e,n,r,i){let o=n[mi],s=mn(n);o!==s&&Eo(e,t,r,o,i);for(let a=yt;a<n.length;a++){let u=n[a];Ul(u[re],u,t,e,r,o)}}function rO(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Wn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Wn.Important),t.setStyle(n,r,i,o))}}function vl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(mn(o)),Kn(o)&&iO(o,r);let s=n.type;if(s&8)vl(t,e,n.child,r);else if(s&32){let a=rm(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=ib(e,n);if(Array.isArray(a))r.push(...a);else{let u=yi(e[en]);vl(u[re],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function iO(t,e){for(let n=yt;n<t.length;n++){let r=t[n],i=r[re].firstChild;i!==null&&vl(r[re],r,i,e)}t[mi]!==t[Gn]&&e.push(t[mi])}function ob(t){if(t[wo]!==null){for(let e of t[wo])e.impl.addSequence(e);t[wo].length=0}}var sb=[];function oO(t){return t[jt]??sO(t)}function sO(t){let e=sb.pop()??Object.create(cO);return e.lView=t,e}function aO(t){t.lView[jt]!==t&&(t.lView=null,sb.push(t))}var cO=ve(F({},na),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Sa(t.lView)},consumerOnSignalRead(){this.lView[jt]=this}});function uO(t){let e=t[jt]??Object.create(lO);return e.lView=t,e}var lO=ve(F({},na),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=yi(t.lView);for(;e&&!ab(e[re]);)e=yi(e);e&&JT(e)},consumerOnSignalRead(){this.lView[jt]=this}});function ab(t){return t.type!==2}function cb(t){if(t[ol]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[ol])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[Z]&8192)}}var dO=100;function ub(t,e=!0,n=0){let i=t[qn].rendererFactory,o=!1;o||i.begin?.();try{hO(t,n)}catch(s){throw e&&Uk(t,s),s}finally{o||i.end?.()}}function hO(t,e){let n=oD();try{Hw(!0),sg(t,e);let r=0;for(;Pl(t);){if(r===dO)throw new j(103,!1);r++,sg(t,1)}}finally{Hw(n)}}function fO(t,e,n,r){if(Fo(e))return;let i=e[Z],o=!1,s=!1;kg(e);let a=!0,u=null,l=null;o||(ab(t)?(l=oO(e),u=fu(l)):Yf()===null?(a=!1,l=uO(e),u=fu(l)):e[jt]&&(np(e[jt]),e[jt]=null));try{ZT(e),sx(t.bindingStartIndex),n!==null&&XD(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&Qu(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Yu(e,y,0,null),bp(e,0)}if(s||pO(e),cb(e),lb(e,0),t.contentQueries!==null&&$D(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&Qu(e,y)}else{let y=t.contentHooks;y!==null&&Yu(e,y,1),bp(e,1)}mO(t,e);let p=t.components;p!==null&&hb(e,p,0);let m=t.viewQuery;if(m!==null&&rg(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&Qu(e,y)}else{let y=t.viewHooks;y!==null&&Yu(e,y,2),bp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Dp]){for(let y of e[Dp])y();e[Dp]=null}o||(ob(e),e[Z]&=-73)}catch(h){throw o||Sa(e),h}finally{l!==null&&(ep(l,u),a&&aO(l)),Og()}}function lb(t,e){for(let n=kD(t);n!==null;n=OD(n))for(let r=yt;r<n.length;r++){let i=n[r];db(i,e)}}function pO(t){for(let e=kD(t);e!==null;e=OD(e)){if(!(e[Z]&2))continue;let n=e[al];for(let r=0;r<n.length;r++){let i=n[r];JT(i)}}}function gO(t,e,n){_e(18);let r=yn(e,t);db(r,n),_e(19,r[He])}function db(t,e){xg(t)&&sg(t,e)}function sg(t,e){let r=t[re],i=t[Z],o=t[jt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&tp(o)),s||=!1,o&&(o.dirty=!1),t[Z]&=-9217,s)fO(r,t,r.template,t[He]);else if(i&8192){cb(t),lb(t,1);let a=r.components;a!==null&&hb(t,a,1),ob(t)}}function hb(t,e,n){for(let r=0;r<e.length;r++)gO(t,e[r],n)}function mO(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)vi(~i);else{let o=i,s=n[++r],a=n[++r];ux(s,o);let u=e[o];_e(24,u),a(2,u),_e(25,u)}}}finally{vi(-1)}}function am(t,e){let n=oD()?64:1088;for(t[qn].changeDetectionScheduler?.notify(e);t;){t[Z]|=n;let r=yi(t);if(cl(t)&&!r)return t;t=r}return null}function fb(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function pb(t,e){let n=yt+e;if(n<t.length)return t[n]}function Bl(t,e,n,r=!0){let i=e[re];if(yO(i,e,t,n),r){let s=og(n,t),a=e[st],u=a.parentNode(t[mi]);u!==null&&Wk(i,t[tn],a,e,u,s)}let o=e[ya];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function gb(t,e){let n=Ea(t,e);return n!==void 0&&jl(n[re],n),n}function Ea(t,e){if(t.length<=yt)return;let n=yt+e,r=t[n];if(r){let i=r[Co];i!==null&&i!==t&&im(i,r),e>0&&(t[n-1][Xt]=r[Xt]);let o=nl(t,yt+e);qk(r[re],r);let s=o[So];s!==null&&s.detachView(o[re]),r[vt]=null,r[Xt]=null,r[Z]&=-129}return r}function yO(t,e,n,r){let i=yt+r,o=n.length;r>0&&(n[i-1][Xt]=e),r<o-yt?(e[Xt]=n[i],xT(n,yt+r,e)):(n.push(e),e[Xt]=null),e[vt]=n;let s=e[Co];s!==null&&n!==s&&mb(s,e);let a=e[So];a!==null&&a.insertView(t),zp(e),e[Z]|=128}function mb(t,e){let n=t[al],r=e[vt];if(Ar(r))t[Z]|=2;else{let i=r[vt][en];e[en]!==i&&(t[Z]|=2)}n===null?t[al]=[e]:n.push(e)}var wa=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[re];return vl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[He]}set context(e){this._lView[He]=e}get destroyed(){return Fo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[vt];if(Kn(e)){let n=e[sl],r=n?n.indexOf(this):-1;r>-1&&(Ea(e,r),nl(n,r))}this._attachedToViewContainer=!1}jl(this._lView[re],this._lView)}onDestroy(e){XT(this._lView,e)}markForCheck(){am(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Z]&=-129}reattach(){zp(this._lView),this._lView[Z]|=128}detectChanges(){this._lView[Z]|=1024,ub(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=cl(this._lView),n=this._lView[Co];n!==null&&!e&&im(n,this._lView),rb(this._lView[re],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;let n=cl(this._lView),r=this._lView[Co];r!==null&&!n&&mb(r,this._lView),zp(this._lView)}};var cm=(()=>{class t{static __NG_ELEMENT_ID__=IO}return t})(),vO=cm,_O=class extends vO{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Vl(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new wa(i)}};function IO(){return EO($t(),pe())}function EO(t,e){return t.type&4?new _O(e,t,Ll(t,e)):null}function um(t,e,n,r,i){let o=t.data[e];if(o===null)o=wO(t,e,n,r,i),cx()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=ix();o.injectorIndex=s===null?-1:s.injectorIndex}return Aa(o,!0),o}function wO(t,e,n,r,i){let o=rD(),s=iD(),a=s?o:o&&o.parent,u=t.data[e]=DO(t,a,n,e,r,i);return TO(t,u,o,s),u}function TO(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function DO(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return tx()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var SW=new RegExp(`^(\\d+)*(${Yx}|${Qx})*(.*)`);var bO=()=>null;function Ta(t,e){return bO(t,e)}var CO=class{},yb=class{},ag=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Ct(e)}.`)}},$l=class{static NULL=new ag},Ro=class{},Hl=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>SO()}return t})();function SO(){let t=pe(),e=$t(),n=yn(e.index,t);return(Ar(n)?n:t)[st]}var AO=(()=>{class t{static \u0275prov=B({token:t,providedIn:"root",factory:()=>null})}return t})();var Ap={},cg=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Sl(r);let i=this.injector.get(e,Ap,r);return i!==Ap||n===Ap?i:this.parentInjector.get(e,n,r)}};function iT(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=kw(i,a);else if(o==2){let u=a,l=e[++s];r=kw(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function St(t,e=ee.Default){let n=pe();if(n===null)return G(t,e);let r=$t();return ED(r,n,mt(t),e)}function vb(){let t="invalid";throw new Error(t)}function _b(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a,u=null,l=null,h=NO(s);h===null?a=s:[a,u,l]=h,xO(t,e,n,a,o,u,l)}o!==null&&r!==null&&RO(n,r,o)}function RO(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new j(-301,!1);r.push(e[i],o)}}function NO(t){let e=null,n=!1;for(let s=0;s<t.length;s++){let a=t[s];if(s===0&&gn(a)&&(e=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,MO(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,o]):null}function MO(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function PO(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function xO(t,e,n,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&gn(y)&&(u=!0,PO(t,n,m)),Kp(hl(n,e),t,y.type)}jO(n,t.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=ZD(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(n.mergedAttrs=_a(n.mergedAttrs,y.hostAttrs),OO(t,n,e,p,y),VO(p,y,i),s!==null&&s.has(y)){let[R,N]=s.get(y);n.directiveToIndex.set(y.type,[p,R+n.directiveStart,N+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let w=y.type.prototype;!l&&(w.ngOnChanges||w.ngOnInit||w.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(w.ngOnChanges||w.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}kO(t,n,o)}function kO(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))oT(0,e,i,r),oT(1,e,i,r),aT(e,r,!1);else{let o=n.get(i);sT(0,e,o,r),sT(1,e,o,r),aT(e,r,!0)}}}function oT(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),Ib(e,o)}}function sT(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Ib(e,s)}}function Ib(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function aT(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Yg(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function OO(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=fi(i.type,!0)),s=new _i(o,gn(i),St);t.blueprint[r]=s,n[r]=s,LO(t,e,r,ZD(t,n,i.hostVars,xr),i)}function LO(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;FO(s)!=a&&s.push(a),s.push(n,r,o)}}function FO(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function VO(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;gn(e)&&(n[""]=t)}}function jO(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Eb(t,e,n,r,i,o,s,a){let u=e.consts,l=Ao(u,s),h=um(e,t,2,r,l);return o&&_b(e,n,h,Ao(u,a),i),h.mergedAttrs=_a(h.mergedAttrs,h.attrs),h.attrs!==null&&iT(h,h.attrs,!1),h.mergedAttrs!==null&&iT(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function wb(t,e){fD(t,e),zT(e)&&t.queries.elementEnd(e)}var _l=class extends $l{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=gi(e);return new No(n,this.ngModule)}};function UO(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Fl.SignalBased)!==0};return i&&(o.transform=i),o})}function BO(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function $O(t,e,n){let r=e instanceof ot?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new cg(n,r):n}function HO(t){let e=t.get(Ro,null);if(e===null)throw new j(407,!1);let n=t.get(AO,null),r=t.get(Ii,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function zO(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return GD(e,n,n==="svg"?WP:n==="math"?GP:null)}var No=class extends yb{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=UO(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=BO(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Ik(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){_e(22);let o=te(null);try{let s=this.componentDef,a=r?["ng-version","19.2.13"]:Ek(this.componentDef.selectors[0]),u=Zg(0,null,null,1,0,null,null,null,null,[a],null),l=$O(s,i||this.ngModule,e),h=HO(l),p=h.rendererFactory.createRenderer(null,s),m=r?Nk(p,r,s.encapsulation,l):zO(s,p),y=Jg(null,u,null,512|YD(s),null,null,h,p,l,null,BD(m,l,!0));y[_t]=m,kg(y);let w=null;try{let R=Eb(_t,u,y,"#host",()=>[this.componentDef],!0,0);m&&(QD(p,m,R),Na(m,y)),em(u,y,R),HD(u,R,y),wb(u,R),n!==void 0&&qO(R,this.ngContentSelectors,n),w=yn(R.index,y),y[He]=w[He],nm(u,y,null)}catch(R){throw w!==null&&eg(w),eg(y),R}finally{_e(23),Og()}return new ug(this.componentType,y)}finally{te(o)}}},ug=class extends CO{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=Pg(n[re],_t),this.location=Ll(this._tNode,n),this.instance=yn(this._tNode.index,n)[He],this.hostView=this.changeDetectorRef=new wa(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=tm(r,i[re],i,e,n);this.previousInputValues.set(e,n);let s=yn(r.index,i);am(s,1)}get injector(){return new hi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function qO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Ma=(()=>{class t{static __NG_ELEMENT_ID__=WO}return t})();function WO(){let t=$t();return KO(t,pe())}var GO=Ma,Tb=class extends GO{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ll(this._hostTNode,this._hostLView)}get injector(){return new hi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Vg(this._hostTNode,this._hostLView);if(gD(e)){let n=ll(e,this._hostLView),r=ul(e),i=n[re].data[r+8];return new hi(i,n)}else return new hi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=cT(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-yt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Ta(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Ia(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!$P(e),a;if(s)a=n;else{let w=n||{};a=w.index,r=w.injector,i=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}let u=s?e:new No(gi(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let R=(s?l:this.parentInjector).get(ot,null);R&&(o=R)}let h=gi(u.componentType??{}),p=Ta(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,o);return this.insertImpl(y.hostView,a,Ia(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(QP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[vt],l=new Tb(u,u[tn],u[vt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Bl(s,i,o,r),e.attachToViewContainerRef(),xT(Rp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=cT(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Ea(this._lContainer,n);r&&(nl(Rp(this._lContainer),n),jl(r[re],r))}detach(e){let n=this._adjustIndex(e,-1),r=Ea(this._lContainer,n);return r&&nl(Rp(this._lContainer),n)!=null?new wa(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function cT(t){return t[sl]}function Rp(t){return t[sl]||(t[sl]=[])}function KO(t,e){let n,r=e[t.index];return Kn(r)?n=r:(n=fb(r,e,null,t),e[t.index]=n,Xg(e,n)),YO(n,e,t,r),new Tb(n,t,e)}function QO(t,e){let n=t[st],r=n.createComment(""),i=Qn(e,t),o=n.parentNode(i);return yl(n,o,r,n.nextSibling(i),!1),r}var YO=XO,ZO=()=>!1;function JO(t,e,n){return ZO(t,e,n)}function XO(t,e,n,r){if(t[mi])return;let i;n.type&8?i=mn(r):i=QO(e,n),t[mi]=i}var Mo=class{},lm=class{};var lg=class extends Mo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new _l(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=LT(e);this._bootstrapComponents=qD(o.bootstrap),this._r3Injector=DD(e,n,[{provide:Mo,useValue:this},{provide:$l,useValue:this.componentFactoryResolver},...r],Ct(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},dg=class extends lm{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new lg(this.moduleType,e,[])}};var Il=class extends Mo{injector;componentFactoryResolver=new _l(this);instance=null;constructor(e){super();let n=new ma([...e.providers,{provide:Mo,useValue:this},{provide:$l,useValue:this.componentFactoryResolver}],e.parent||Ng(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Pa(t,e,n=null){return new Il({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var e1=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=FT(!1,n.type),i=r.length>0?Pa([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=B({token:t,providedIn:"environment",factory:()=>new t(G(ot))})}return t})();function Db(t){return ba(()=>{let e=bb(t),n=ve(F({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===PD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(e1).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||_n.Emulated,styles:t.styles||Vt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Pr("NgStandalone"),Cb(n);let r=t.dependencies;return n.directiveDefs=uT(r,!1),n.pipeDefs=uT(r,!0),n.id=o1(n),n})}function t1(t){return gi(t)||NP(t)}function n1(t){return t!==null}function jo(t){return ba(()=>({type:t.type,bootstrap:t.bootstrap||Vt,declarations:t.declarations||Vt,imports:t.imports||Vt,exports:t.exports||Vt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function r1(t,e){if(t==null)return pi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Fl.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function i1(t){if(t==null)return pi;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Uo(t){return ba(()=>{let e=bb(t);return Cb(e),e})}function dm(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function bb(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||pi,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Vt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:r1(t.inputs,e),outputs:i1(t.outputs),debugInfo:null}}function Cb(t){t.features?.forEach(e=>e(t))}function uT(t,e){if(!t)return null;let n=e?MP:t1;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(n1)}function o1(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function s1(t){return Object.getPrototypeOf(t.prototype).constructor}function a1(t){let e=s1(t.type),n=!0,r=[t];for(;e;){let i;if(gn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Np(t.inputs),s.declaredInputs=Np(t.declaredInputs),s.outputs=Np(t.outputs);let a=i.hostBindings;a&&h1(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&l1(t,u),l&&d1(t,l),c1(t,i),uP(t.outputs,i.outputs),gn(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===a1&&(n=!1)}}e=Object.getPrototypeOf(e)}u1(r)}function c1(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function u1(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=_a(i.hostAttrs,n=_a(n,i.hostAttrs))}}function Np(t){return t===pi?{}:t===Vt?[]:t}function l1(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function d1(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function h1(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function hm(t,e,n){return t[e]=n}function f1(t,e){return t[e]}function Rr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function El(t,e,n,r){let i=Rr(t,e,n);return Rr(t,e+1,r)||i}function p1(t,e,n,r,i,o){let s=El(t,e,n,r);return El(t,e+2,i,o)||s}function g1(t,e,n,r,i,o,s,a,u){let l=e.consts,h=um(e,t,4,s||null,a||null);nD()&&_b(e,n,h,Ao(l,u),tb),h.mergedAttrs=_a(h.mergedAttrs,h.attrs),fD(e,h);let p=h.tView=Zg(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function hg(t,e,n,r,i,o,s,a,u,l){let h=n+_t,p=e.firstCreatePass?g1(h,e,t,r,i,o,s,a,u):e.data[h];Aa(p,!1);let m=y1(e,t,p,n);Lg()&&om(e,t,m,p),Na(m,t);let y=fb(m,t,m,p);return t[h]=y,Xg(t,y),JO(y,p,t),Mg(p)&&em(e,t,p),u!=null&&eb(t,p,l),p}function m1(t,e,n,r,i,o,s,a){let u=pe(),l=Bt(),h=Ao(l.consts,o);return hg(u,l,t,e,n,r,i,h,s,a),m1}var y1=v1;function v1(t,e,n,r){return Fg(!0),e[st].createComment("")}var Sb=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Ab=new U("");var _1=(()=>{class t{static \u0275prov=B({token:t,providedIn:"root",factory:()=>new fg})}return t})(),fg=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function Bo(t){return!!t&&typeof t.then=="function"}function fm(t){return!!t&&typeof t.subscribe=="function"}var Rb=new U("");function pm(t){return In([{provide:Rb,multi:!0,useValue:t}])}var Nb=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=x(Rb,{optional:!0})??[];injector=x(ze);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=at(this.injector,i);if(Bo(o))n.push(o);else if(fm(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),zl=new U("");function I1(){ip(()=>{throw new j(600,!1)})}function E1(t){return t.isBoundToModule}var w1=10;var Ei=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=x(Ux);afterRenderManager=x(UD);zonelessEnabled=x(Ug);rootEffectScheduler=x(_1);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Je;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=x(Di).hasPendingTasks.pipe(ne(n=>!n));constructor(){x(Vo,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=x(ot);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=ze.NULL){_e(10);let o=n instanceof yb;if(!this._injector.get(Nb).done){let y="";throw new j(405,y)}let a;o?a=n:a=this._injector.get($l).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let u=E1(a)?void 0:this._injector.get(Mo),l=r||a.selector,h=a.create(i,[],l,u),p=h.location.nativeElement,m=h.injector.get(Ab,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Zu(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),_e(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){_e(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Gg.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new j(101,!1);let n=te(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,te(n),this.afterTick.next(),_e(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ro,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<w1;)_e(14),this.synchronizeOnce(),_e(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)T1(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Pl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Zu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(zl,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Zu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new j(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Zu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function T1(t,e,n,r){if(!n&&!Pl(t))return;ub(t,e,n&&!r?0:1)}function D1(t,e,n,r){return Rr(t,kl(),n)?e+Cg(n)+r:xr}function Gu(t,e){return t<<17|e<<2}function wi(t){return t>>17&32767}function b1(t){return(t&2)==2}function C1(t,e){return t&131071|e<<17}function pg(t){return t|2}function Po(t){return(t&131068)>>2}function Mp(t,e){return t&-131069|e<<2}function S1(t){return(t&1)===1}function gg(t){return t|1}function A1(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=wi(s),u=Po(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Ca(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=wi(t[a+1]);t[r+1]=Gu(m,a),m!==0&&(t[m+1]=Mp(t[m+1],r)),t[a+1]=C1(t[a+1],r)}else t[r+1]=Gu(a,0),a!==0&&(t[a+1]=Mp(t[a+1],r)),a=r;else t[r+1]=Gu(u,0),a===0?a=r:t[u+1]=Mp(t[u+1],r),u=r;l&&(t[r+1]=pg(t[r+1])),lT(t,h,r,!0),lT(t,h,r,!1),R1(e,h,t,r,o),s=Gu(a,u),o?e.classBindings=s:e.styleBindings=s}function R1(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ca(o,e)>=0&&(n[r+1]=gg(n[r+1]))}function lT(t,e,n,r){let i=t[n+1],o=e===null,s=r?wi(i):Po(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];N1(u,e)&&(a=!0,t[s+1]=r?gg(l):pg(l)),s=r?wi(l):Po(l)}a&&(t[n+1]=r?pg(i):gg(i))}function N1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ca(t,e)>=0:!1}function M1(t,e,n){let r=pe(),i=kl();if(Rr(r,i,e)){let o=Bt(),s=px();kk(o,s,r,t,e,r[st],n,!1)}return M1}function dT(t,e,n,r,i){tm(e,t,n,i?"class":"style",r)}function P1(t,e){return x1(t,e,null,!0),P1}function x1(t,e,n,r){let i=pe(),o=Bt(),s=ax(2);if(o.firstUpdatePass&&O1(o,t,s,r),e!==xr&&Rr(i,s,e)){let a=o.data[Ti()];U1(o,a,i,i[st],t,i[s+1]=B1(e,n),r,s)}}function k1(t,e){return e>=t.expandoStartIndex}function O1(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Ti()],s=k1(t,n);$1(o,r)&&e===null&&!s&&(e=!1),e=L1(i,o,e,r),A1(i,o,e,n,s,r)}}function L1(t,e,n,r){let i=dx(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Pp(null,t,e,n,r),n=Da(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Pp(i,t,e,n,r),o===null){let u=F1(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Pp(null,t,e,u[1],r),u=Da(u,e.attrs,r),V1(t,e,r,u))}else o=j1(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function F1(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Po(r)!==0)return t[wi(r)]}function V1(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[wi(i)]=r}function j1(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Da(r,s,n)}return Da(r,e.attrs,n)}function Pp(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Da(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Da(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),AP(t,s,n?!0:e[++o]))}return t===void 0?null:t}function U1(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=S1(l)?hT(u,e,n,i,Po(l),s):void 0;if(!wl(h)){wl(o)||b1(l)&&(o=hT(u,null,n,i,a,s));let p=QT(Ti(),n);rO(r,s,p,i,o)}}function hT(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===xr&&(m=p?Vt:void 0);let y=p?wp(m,r):h===r?m:void 0;if(l&&!wl(y)&&(y=wp(u,r)),wl(y)&&(a=y,s))return a;let w=t[i+1];i=s?wi(w):Po(w)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=wp(u,r))}return a}function wl(t){return t!==void 0}function B1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ct(Qg(t)))),t}function $1(t,e){return(t.flags&(e?8:16))!==0}var mg=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function xp(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function H1(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=t.at(o),h=e[o],p=xp(o,l,o,h,n);if(p!==0){p<0&&t.updateValue(o,h),o++;continue}let m=t.at(s),y=e[u],w=xp(s,m,u,y,n);if(w!==0){w<0&&t.updateValue(s,y),s--,u--;continue}let R=n(o,l),N=n(s,m),O=n(o,h);if(Object.is(O,N)){let $=n(u,y);Object.is($,R)?(t.swap(o,s),t.updateValue(s,y),u--,s--):t.move(s,o),t.updateValue(o,h),o++;continue}if(r??=new Tl,i??=pT(t,o,s,n),yg(t,r,o,O))t.updateValue(o,h),o++,s++;else if(i.has(O))r.set(R,t.detach(o)),s--;else{let $=t.create(o,e[o]);t.attach(o,$),o++,s++}}for(;o<=u;)fT(t,r,n,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let h=t.at(o),p=l.value,m=xp(o,h,o,p,n);if(m!==0)m<0&&t.updateValue(o,p),o++,l=u.next();else{r??=new Tl,i??=pT(t,o,s,n);let y=n(o,p);if(yg(t,r,o,y))t.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(y))t.attach(o,t.create(o,p)),o++,s++,l=u.next();else{let w=n(o,h);r.set(w,t.detach(o)),s--}}}for(;!l.done;)fT(t,r,n,t.length,l.value),l=u.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(u=>{t.destroy(u)})}function yg(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function fT(t,e,n,r,i){if(yg(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function pT(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var Tl=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function kW(t,e){Pr("NgControlFlow");let n=pe(),r=kl(),i=n[r]!==xr?n[r]:-1,o=i!==-1?Dl(n,_t+i):void 0,s=0;if(Rr(n,r,t)){let a=te(null);try{if(o!==void 0&&gb(o,s),t!==-1){let u=_t+t,l=Dl(n,u),h=Eg(n[re],u),p=Ta(l,h.tView.ssrId),m=Vl(n,h,e,{dehydratedView:p});Bl(l,m,s,Ia(h,p))}}finally{te(a)}}else if(o!==void 0){let a=pb(o,s);a!==void 0&&(a[He]=e)}}var vg=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-yt}};function OW(t){return t}var _g=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function LW(t,e,n,r,i,o,s,a,u,l,h,p,m){Pr("NgControlFlow");let y=pe(),w=Bt(),R=u!==void 0,N=pe(),O=a?s.bind(N[en][He]):s,$=new _g(R,O);N[_t+t]=$,hg(y,w,t+1,e,n,r,i,Ao(w.consts,o)),R&&hg(y,w,t+2,u,l,h,p,Ao(w.consts,m))}var Ig=class extends mg{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-yt}at(e){return this.getLView(e)[He].$implicit}attach(e,n){let r=n[ya];this.needsIndexUpdate||=e!==this.length,Bl(this.lContainer,n,e,Ia(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,z1(this.lContainer,e)}create(e,n){let r=Ta(this.lContainer,this.templateTNode.tView.ssrId),i=Vl(this.hostLView,this.templateTNode,new vg(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){jl(e[re],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[He].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[He].$index=e}getLView(e){return q1(this.lContainer,e)}};function FW(t){let e=te(null),n=Ti();try{let r=pe(),i=r[re],o=r[n],s=n+1,a=Dl(r,s);if(o.liveCollection===void 0){let l=Eg(i,s);o.liveCollection=new Ig(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(H1(u,t,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=kl(),h=u.length===0;if(Rr(r,l,h)){let p=n+2,m=Dl(r,p);if(h){let y=Eg(i,p),w=Ta(m,y.tView.ssrId),R=Vl(r,y,void 0,{dehydratedView:w});Bl(m,R,0,Ia(y,w))}else gb(m,0)}}}finally{te(e)}}function Dl(t,e){return t[e]}function z1(t,e){return Ea(t,e)}function q1(t,e){return pb(t,e)}function Eg(t,e){return Pg(t,e)}function Mb(t,e,n,r){let i=pe(),o=Bt(),s=_t+t,a=i[st],u=o.firstCreatePass?Eb(s,o,i,e,tb,nD(),n,r):o.data[s],l=W1(o,i,u,a,e,t);i[s]=l;let h=Mg(u);return Aa(u,!0),QD(a,l,u),!nb(u)&&Lg()&&om(o,i,l,u),(JP()===0||h)&&Na(l,i),XP(),h&&(em(o,i,u),HD(o,u,i)),r!==null&&eb(i,u),Mb}function Pb(){let t=$t();iD()?ox():(t=t.parent,Aa(t,!1));let e=t;nx(e)&&rx(),ex();let n=Bt();return n.firstCreatePass&&wb(n,e),e.classesWithoutHost!=null&&vx(e)&&dT(n,e,pe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&_x(e)&&dT(n,e,pe(),e.stylesWithoutHost,!1),Pb}function gm(t,e,n,r){return Mb(t,e,n,r),Pb(),gm}var W1=(t,e,n,r,i,o)=>(Fg(!0),GD(r,i,gx()));function VW(){return pe()}var li=void 0;function G1(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var K1=["en",[["a","p"],["AM","PM"],li],[["AM","PM"],li,li],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],li,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],li,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",li,"{1} 'at' {0}",li],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",G1],kp={};function Ht(t){let e=Q1(t),n=gT(e);if(n)return n;let r=e.split("-")[0];if(n=gT(r),n)return n;if(r==="en")return K1;throw new j(701,!1)}function gT(t){return t in kp||(kp[t]=da.ng&&da.ng.common&&da.ng.common.locales&&da.ng.common.locales[t]),kp[t]}var Le=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Le||{});function Q1(t){return t.toLowerCase().replace(/_/g,"-")}var bl="en-US";var Y1=bl;function Z1(t){typeof t=="string"&&(Y1=t.toLowerCase().replace(/_/g,"-"))}function mT(t,e,n){return function r(i){if(i===Function)return n;let o=Lo(t)?yn(t.index,e):e;am(o,5);let s=e[He],a=yT(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=yT(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function yT(t,e,n,r){let i=te(null);try{return _e(6,e,n),n(r)!==!1}catch(o){return J1(t,o),!1}finally{_e(7,e,n),te(i)}}function J1(t,e){let n=t[bo],r=n?n.get(vn,null):null;r&&r.handleError(e)}function vT(t,e,n,r,i,o){let s=e[n],a=e[re],l=a.data[n].outputs[r],h=s[l],p=a.firstCreatePass?tD(a):null,m=eD(e),y=h.subscribe(o),w=m.length;m.push(o,y),p&&p.push(i,t.index,w,-(w+1))}function xb(t,e,n,r){let i=pe(),o=Bt(),s=$t();return eL(o,i,i[st],s,t,e,r),xb}function X1(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[il],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function eL(t,e,n,r,i,o,s){let a=Mg(r),l=t.firstCreatePass?tD(t):null,h=eD(e),p=!0;if(r.type&3||s){let m=Qn(r,e),y=s?s(m):m,w=h.length,R=s?O=>s(mn(O[r.index])):r.index,N=null;if(!s&&a&&(N=X1(t,e,i,r.index)),N!==null){let O=N.__ngLastListenerFn__||N;O.__ngNextListenerFn__=o,N.__ngLastListenerFn__=o,p=!1}else{o=mT(r,e,o),ik(e,y,i,o);let O=n.listen(y,i,o);h.push(o,O),l&&l.push(i,R,w,w+1)}}else o=mT(r,e,o);if(p){let m=r.outputs?.[i],y=r.hostDirectiveOutputs?.[i];if(y&&y.length)for(let w=0;w<y.length;w+=2){let R=y[w],N=y[w+1];vT(r,e,R,N,i,o)}if(m&&m.length)for(let w of m)vT(r,e,w,i,i,o)}}function jW(t=1){return fx(t)}function UW(t,e=""){let n=pe(),r=Bt(),i=t+_t,o=r.firstCreatePass?um(r,i,1,e,null):r.data[i],s=tL(r,n,o,e,t);n[i]=s,Lg()&&om(r,n,s,o),Aa(o,!1)}var tL=(t,e,n,r,i)=>(Fg(!0),wk(e[st],r));function nL(t){return kb("",t,""),nL}function kb(t,e,n){let r=pe(),i=D1(r,t,e,n);return i!==xr&&rL(r,Ti(),i),kb}function rL(t,e,n){let r=QT(e,t);Tk(t[st],r,n)}function iL(t,e,n){let r=Bt();if(r.firstCreatePass){let i=gn(t);wg(n,r.data,r.blueprint,i,!0),wg(e,r.data,r.blueprint,i,!1)}}function wg(t,e,n,r,i){if(t=mt(t),Array.isArray(t))for(let o=0;o<t.length;o++)wg(t[o],e,n,r,i);else{let o=Bt(),s=pe(),a=$t(),u=Do(t)?t:mt(t.provide),l=UT(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Do(t)||!t.multi){let y=new _i(l,i,St),w=Lp(u,e,i?h:h+m,p);w===-1?(Kp(hl(a,s),o,u),Op(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[w]=y,s[w]=y)}else{let y=Lp(u,e,h+m,p),w=Lp(u,e,h,h+m),R=y>=0&&n[y],N=w>=0&&n[w];if(i&&!N||!i&&!R){Kp(hl(a,s),o,u);let O=aL(i?sL:oL,n.length,i,r,l);!i&&N&&(n[w].providerFactory=O),Op(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(O),s.push(O)}else{let O=Ob(n[i?w:y],l,!i&&r);Op(o,t,y>-1?y:w,O)}!i&&r&&N&&n[w].componentProviders++}}}function Op(t,e,n,r){let i=Do(e),o=LP(e);if(i||o){let u=(o?mt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function Ob(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Lp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function oL(t,e,n,r,i){return Tg(this.multi,[])}function sL(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=fl(r,r[re],this.providerFactory.index,i);s=u.slice(0,a),Tg(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],Tg(o,s);return s}function Tg(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function aL(t,e,n,r,i){let o=new _i(t,n,St);return o.multi=[],o.index=e,o.componentProviders=0,Ob(o,i,r&&!n),o}function BW(t,e=[]){return n=>{n.providersResolver=(r,i)=>iL(r,i?i(t):t,e)}}function $W(t,e,n,r){return Fb(pe(),xl(),t,e,n,r)}function HW(t,e,n,r,i,o,s,a,u){let l=xl()+t,h=pe(),p=p1(h,l,n,r,i,o);return El(h,l+4,s,a)||p?hm(h,l+6,u?e.call(u,n,r,i,o,s,a):e(n,r,i,o,s,a)):f1(h,l+6)}function Lb(t,e){let n=t[e];return n===xr?void 0:n}function Fb(t,e,n,r,i,o){let s=e+n;return Rr(t,s,i)?hm(t,s+1,o?r.call(o,i):r(i)):Lb(t,s+1)}function cL(t,e,n,r,i,o,s){let a=e+n;return El(t,a,i,o)?hm(t,a+2,s?r.call(s,i,o):r(i,o)):Lb(t,a+2)}function zW(t,e){let n=Bt(),r,i=t+_t;n.firstCreatePass?(r=uL(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=fi(r.type,!0)),s,a=Dt(St);try{let u=dl(!1),l=o();return dl(u),KP(n,pe(),i,l),l}finally{Dt(a)}}function uL(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function qW(t,e,n){let r=t+_t,i=pe(),o=YT(i,r);return Vb(i,r)?Fb(i,xl(),e,o.transform,n,o):o.transform(n)}function WW(t,e,n,r){let i=t+_t,o=pe(),s=YT(o,i);return Vb(o,i)?cL(o,xl(),e,s.transform,n,r,s):s.transform(n,r)}function Vb(t,e){return t[re].data[e].pure}var xo=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},jb=new xo("19.2.13"),Dg=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Ub=(()=>{class t{compileModuleSync(n){return new dg(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=LT(n),o=qD(i.declarations).reduce((s,a)=>{let u=gi(a);return u&&s.push(new No(u)),s},[]);return new Dg(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var lL=(()=>{class t{zone=x(fe);changeDetectionScheduler=x(Ii);applicationRef=x(Ei);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),dL=new U("",{factory:()=>!1});function Bb({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new fe(ve(F({},$b()),{scheduleInRootZone:n})),[{provide:fe,useFactory:t},{provide:ga,multi:!0,useFactory:()=>{let r=x(lL,{optional:!0});return()=>r.initialize()}},{provide:ga,multi:!0,useFactory:()=>{let r=x(hL);return()=>{r.initialize()}}},e===!0?{provide:CD,useValue:!0}:[],{provide:SD,useValue:n??bD}]}function GW(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=Bb({ngZoneFactory:()=>{let i=$b(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Pr("NgZone_CoalesceEvent"),new fe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return In([{provide:dL,useValue:!0},{provide:Ug,useValue:!1},r])}function $b(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var hL=(()=>{class t{subscription=new Ne;initialized=!1;zone=x(fe);pendingTasks=x(Di);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{fe.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{fe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var fL=(()=>{class t{appRef=x(Ei);taskService=x(Di);ngZone=x(fe);zonelessEnabled=x(Ug);tracing=x(Vo,{optional:!0});disableScheduling=x(CD,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ne;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(gl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(SD,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Xp||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Qw:AD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(gl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Qw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pL(){return typeof $localize<"u"&&$localize.locale||bl}var ql=new U("",{providedIn:"root",factory:()=>x(ql,ee.Optional|ee.SkipSelf)||pL()});var bg=new U(""),gL=new U("");function la(t){return!t.moduleRef}function mL(t){let e=la(t)?t.r3Injector:t.moduleRef.injector,n=e.get(fe);return n.run(()=>{la(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(vn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),la(t)){let o=()=>e.destroy(),s=t.platformInjector.get(bg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(bg);s.add(o),t.moduleRef.onDestroy(()=>{Zu(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return vL(r,n,()=>{let o=e.get(Nb);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(ql,bl);if(Z1(s||bl),!e.get(gL,!0))return la(t)?e.get(Ei):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(la(t)){let u=e.get(Ei);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return yL(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function yL(t,e){let n=t.injector.get(Ei);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new j(-403,!1);e.push(t)}function vL(t,e,n){try{let r=n();return Bo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Ju=null;function _L(t=[],e){return ze.create({name:e,providers:[{provide:Al,useValue:"platform"},{provide:bg,useValue:new Set([()=>Ju=null])},...t]})}function IL(t=[]){if(Ju)return Ju;let e=_L(t);return Ju=e,I1(),EL(e),e}function EL(t){let e=t.get(qg,null);at(t,()=>{e?.forEach(n=>n())})}function mm(){return!1}var $o=(()=>{class t{static __NG_ELEMENT_ID__=wL}return t})();function wL(t){return TL($t(),pe(),(t&16)===16)}function TL(t,e,n){if(Lo(t)&&!n){let r=yn(t.index,e);return new wa(r,r)}else if(t.type&175){let r=e[en];return new wa(r,e)}return null}function Hb(t){_e(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=IL(r),o=[Bb({}),{provide:Ii,useExisting:fL},...n||[]],s=new Il({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return mL({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{_e(9)}}function Wl(t){return ap(t)}function zb(t,e){return rp(t,e?.equal)}var _T=class{[Yt];constructor(e){this[Yt]=e}destroy(){this[Yt].destroy()}};function qb(t){let e=gi(t);if(!e)return null;let n=new No(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var We=new U("");var Kb=null;function Zn(){return Kb}function ym(t){Kb??=t}var xa=class{},ka=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>x(Qb),providedIn:"platform"})}return t})(),vm=new U(""),Qb=(()=>{class t extends ka{_location;_history;_doc=x(We);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zn().getBaseHref(this._doc)}onPopState(n){let r=Zn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Zn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Gl(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function Wb(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function nn(t){return t&&t[0]!=="?"?`?${t}`:t}var Jn=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>x(Ql),providedIn:"root"})}return t})(),Kl=new U(""),Ql=(()=>{class t extends Jn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(We).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Gl(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+nn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+nn(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+nn(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(G(ka),G(Kl,8))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kr=(()=>{class t{_subject=new Je;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=CL(Wb(Gb(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+nn(r))}normalize(n){return t.stripTrailingSlash(bL(this._basePath,Gb(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+nn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+nn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=nn;static joinWithSlash=Gl;static stripTrailingSlash=Wb;static \u0275fac=function(r){return new(r||t)(G(Jn))};static \u0275prov=B({token:t,factory:()=>DL(),providedIn:"root"})}return t})();function DL(){return new kr(G(Jn))}function bL(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Gb(t){return t.replace(/\/index.html$/,"")}function CL(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var bm=(()=>{class t extends Jn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Gl(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+nn(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+nn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(G(ka),G(Kl,8))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})();var ct=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(ct||{}),Ie=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Ie||{}),At=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(At||{}),er={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Xb(t){return Ht(t)[Le.LocaleId]}function eC(t,e,n){let r=Ht(t),i=[r[Le.DayPeriodsFormat],r[Le.DayPeriodsStandalone]],o=zt(i,e);return zt(o,n)}function tC(t,e,n){let r=Ht(t),i=[r[Le.DaysFormat],r[Le.DaysStandalone]],o=zt(i,e);return zt(o,n)}function nC(t,e,n){let r=Ht(t),i=[r[Le.MonthsFormat],r[Le.MonthsStandalone]],o=zt(i,e);return zt(o,n)}function rC(t,e){let r=Ht(t)[Le.Eras];return zt(r,e)}function Oa(t,e){let n=Ht(t);return zt(n[Le.DateFormat],e)}function La(t,e){let n=Ht(t);return zt(n[Le.TimeFormat],e)}function Fa(t,e){let r=Ht(t)[Le.DateTimeFormat];return zt(r,e)}function Va(t,e){let n=Ht(t),r=n[Le.NumberSymbols][e];if(typeof r>"u"){if(e===er.CurrencyDecimal)return n[Le.NumberSymbols][er.Decimal];if(e===er.CurrencyGroup)return n[Le.NumberSymbols][er.Group]}return r}function iC(t){if(!t[Le.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Le.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function oC(t){let e=Ht(t);return iC(e),(e[Le.ExtraData][2]||[]).map(r=>typeof r=="string"?_m(r):[_m(r[0]),_m(r[1])])}function sC(t,e,n){let r=Ht(t);iC(r);let i=[r[Le.ExtraData][0],r[Le.ExtraData][1]],o=zt(i,e)||[];return zt(o,n)||[]}function zt(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function _m(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var AL=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Yl={},RL=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function aC(t,e,n,r){let i=VL(t);e=Xn(n,e)||e;let s=[],a;for(;e;)if(a=RL.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=uC(r,u),i=FL(i,r));let l="";return s.forEach(h=>{let p=OL(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function td(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Xn(t,e){let n=Xb(t);if(Yl[n]??={},Yl[n][e])return Yl[n][e];let r="";switch(e){case"shortDate":r=Oa(t,At.Short);break;case"mediumDate":r=Oa(t,At.Medium);break;case"longDate":r=Oa(t,At.Long);break;case"fullDate":r=Oa(t,At.Full);break;case"shortTime":r=La(t,At.Short);break;case"mediumTime":r=La(t,At.Medium);break;case"longTime":r=La(t,At.Long);break;case"fullTime":r=La(t,At.Full);break;case"short":let i=Xn(t,"shortTime"),o=Xn(t,"shortDate");r=Zl(Fa(t,At.Short),[i,o]);break;case"medium":let s=Xn(t,"mediumTime"),a=Xn(t,"mediumDate");r=Zl(Fa(t,At.Medium),[s,a]);break;case"long":let u=Xn(t,"longTime"),l=Xn(t,"longDate");r=Zl(Fa(t,At.Long),[u,l]);break;case"full":let h=Xn(t,"fullTime"),p=Xn(t,"fullDate");r=Zl(Fa(t,At.Full),[h,p]);break}return r&&(Yl[n][e]=r),r}function Zl(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function rn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function NL(t,e){return rn(t,3).substring(0,e)}function Ve(t,e,n=0,r=!1,i=!1){return function(o,s){let a=ML(t,o);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return NL(a,e);let u=Va(s,er.MinusSign);return rn(a,e,u,r,i)}}function ML(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function De(t,e,n=ct.Format,r=!1){return function(i,o){return PL(i,o,t,e,n,r)}}function PL(t,e,n,r,i,o){switch(n){case 2:return nC(e,i,r)[t.getMonth()];case 1:return tC(e,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let l=oC(e),h=sC(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[y,w]=m,R=s>=y.hours&&a>=y.minutes,N=s<w.hours||s===w.hours&&a<w.minutes;if(y.hours<w.hours){if(R&&N)return!0}else if(R||N)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return eC(e,i,r)[s<12?0:1];case 3:return rC(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function Jl(t){return function(e,n,r){let i=-1*r,o=Va(n,er.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+rn(s,2,o)+rn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+rn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+rn(s,2,o)+":"+rn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+rn(s,2,o)+":"+rn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var xL=0,ed=4;function kL(t){let e=td(t,xL,1).getDay();return td(t,0,1+(e<=ed?ed:ed+7)-e)}function cC(t){let e=t.getDay(),n=e===0?-3:ed-e;return td(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Im(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=cC(n),s=kL(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return rn(i,t,Va(r,er.MinusSign))}}function Xl(t,e=!1){return function(n,r){let o=cC(n).getFullYear();return rn(o,t,Va(r,er.MinusSign),e)}}var Em={};function OL(t){if(Em[t])return Em[t];let e;switch(t){case"G":case"GG":case"GGG":e=De(3,Ie.Abbreviated);break;case"GGGG":e=De(3,Ie.Wide);break;case"GGGGG":e=De(3,Ie.Narrow);break;case"y":e=Ve(0,1,0,!1,!0);break;case"yy":e=Ve(0,2,0,!0,!0);break;case"yyy":e=Ve(0,3,0,!1,!0);break;case"yyyy":e=Ve(0,4,0,!1,!0);break;case"Y":e=Xl(1);break;case"YY":e=Xl(2,!0);break;case"YYY":e=Xl(3);break;case"YYYY":e=Xl(4);break;case"M":case"L":e=Ve(1,1,1);break;case"MM":case"LL":e=Ve(1,2,1);break;case"MMM":e=De(2,Ie.Abbreviated);break;case"MMMM":e=De(2,Ie.Wide);break;case"MMMMM":e=De(2,Ie.Narrow);break;case"LLL":e=De(2,Ie.Abbreviated,ct.Standalone);break;case"LLLL":e=De(2,Ie.Wide,ct.Standalone);break;case"LLLLL":e=De(2,Ie.Narrow,ct.Standalone);break;case"w":e=Im(1);break;case"ww":e=Im(2);break;case"W":e=Im(1,!0);break;case"d":e=Ve(2,1);break;case"dd":e=Ve(2,2);break;case"c":case"cc":e=Ve(7,1);break;case"ccc":e=De(1,Ie.Abbreviated,ct.Standalone);break;case"cccc":e=De(1,Ie.Wide,ct.Standalone);break;case"ccccc":e=De(1,Ie.Narrow,ct.Standalone);break;case"cccccc":e=De(1,Ie.Short,ct.Standalone);break;case"E":case"EE":case"EEE":e=De(1,Ie.Abbreviated);break;case"EEEE":e=De(1,Ie.Wide);break;case"EEEEE":e=De(1,Ie.Narrow);break;case"EEEEEE":e=De(1,Ie.Short);break;case"a":case"aa":case"aaa":e=De(0,Ie.Abbreviated);break;case"aaaa":e=De(0,Ie.Wide);break;case"aaaaa":e=De(0,Ie.Narrow);break;case"b":case"bb":case"bbb":e=De(0,Ie.Abbreviated,ct.Standalone,!0);break;case"bbbb":e=De(0,Ie.Wide,ct.Standalone,!0);break;case"bbbbb":e=De(0,Ie.Narrow,ct.Standalone,!0);break;case"B":case"BB":case"BBB":e=De(0,Ie.Abbreviated,ct.Format,!0);break;case"BBBB":e=De(0,Ie.Wide,ct.Format,!0);break;case"BBBBB":e=De(0,Ie.Narrow,ct.Format,!0);break;case"h":e=Ve(3,1,-12);break;case"hh":e=Ve(3,2,-12);break;case"H":e=Ve(3,1);break;case"HH":e=Ve(3,2);break;case"m":e=Ve(4,1);break;case"mm":e=Ve(4,2);break;case"s":e=Ve(5,1);break;case"ss":e=Ve(5,2);break;case"S":e=Ve(6,1);break;case"SS":e=Ve(6,2);break;case"SSS":e=Ve(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Jl(0);break;case"ZZZZZ":e=Jl(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Jl(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Jl(2);break;default:return null}return Em[t]=e,e}function uC(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function LL(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function FL(t,e,n){let i=t.getTimezoneOffset(),o=uC(e,i);return LL(t,-1*(o-i))}function VL(t){if(Yb(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return td(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(AL))return jL(r)}let e=new Date(t);if(!Yb(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function jL(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function Yb(t){return t instanceof Date&&!isNaN(t.valueOf())}var wm=/\s+/,Zb=[],UL=(()=>{class t{_ngEl;_renderer;initialClasses=Zb;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(wm):Zb}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(wm):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(wm).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(St(Ra),St(Hl))};static \u0275dir=Uo({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var BL=(()=>{class t{_viewContainer;_context=new nd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Jb(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Jb(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(St(Ma),St(cm))};static \u0275dir=Uo({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),nd=class{$implicit=null;ngIf=null};function Jb(t,e){if(t&&!t.createEmbeddedView)throw new j(2020,!1)}function lC(t,e){return new j(2100,!1)}var Tm=class{createSubscription(e,n){return Wl(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Wl(()=>e.unsubscribe())}},Dm=class{createSubscription(e,n){return e.then(r=>n?.(r),r=>{throw r}),{unsubscribe:()=>{n=null}}}dispose(e){e.unsubscribe()}},$L=new Dm,HL=new Tm,zL=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Bo(n))return $L;if(fm(n))return HL;throw lC(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(St($o,16))};static \u0275pipe=dm({name:"async",type:t,pure:!1})}return t})();var qL="mediumDate",dC=new U(""),hC=new U(""),WL=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??qL,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return aC(n,s,o||this.locale,a)}catch(s){throw lC(t,s.message)}}static \u0275fac=function(r){return new(r||t)(St(ql,16),St(dC,24),St(hC,24))};static \u0275pipe=dm({name:"date",type:t,pure:!0})}return t})();var fC=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jo({type:t});static \u0275inj=ko({})}return t})();function Cm(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Sm="browser",pC="server";function rd(t){return t===pC}var ja=class{};var gC=(()=>{class t{static \u0275prov=B({token:t,providedIn:"root",factory:()=>new Am(x(We),window)})}return t})(),Am=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=QL(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function QL(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var sd=new U(""),Pm=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(G(sd),G(fe))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),Ua=class{_doc;constructor(e){this._doc=e}manager},id="ng-app-id";function mC(t){for(let e of t)e.remove()}function yC(t,e){let n=e.createElement("style");return n.textContent=t,n}function YL(t,e,n,r){let i=t.head?.querySelectorAll(`style[${id}="${e}"],link[${id}="${e}"]`);if(i)for(let o of i)o.removeAttribute(id),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Nm(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var xm=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=rd(o),YL(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,yC);r?.forEach(i=>this.addUsage(i,this.external,Nm))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(mC(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])mC(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,yC(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Nm(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(id,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(G(We),G(zg),G(Wg,8),G(Mr))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),Rm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},km=/%COMP%/g;var _C="%COMP%",ZL=`_nghost-${_C}`,JL=`_ngcontent-${_C}`,XL=!0,eF=new U("",{providedIn:"root",factory:()=>XL});function tF(t){return JL.replace(km,t)}function nF(t){return ZL.replace(km,t)}function IC(t,e){return e.map(n=>n.replace(km,t))}var Om=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,u,l=null,h=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=rd(a),this.defaultRenderer=new Ba(n,s,u,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===_n.ShadowDom&&(r=ve(F({},r),{encapsulation:_n.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof od?i.applyToHost(n):i instanceof $a&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case _n.Emulated:o=new od(u,l,r,this.appId,h,s,a,p,m);break;case _n.ShadowDom:return new Mm(u,l,n,r,s,a,this.nonce,p,m);default:o=new $a(u,l,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(G(Pm),G(xm),G(zg),G(eF),G(We),G(Mr),G(fe),G(Wg),G(Vo,8))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),Ba=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Rm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(vC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(vC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Rm[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Rm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Wn.DashCase|Wn.Important)?e.style.setProperty(n,r,i&Wn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Wn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Zn().getGlobalEventTarget(this.doc,e),!e))throw new j(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function vC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Mm=class extends Ba{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=IC(i.id,h);for(let m of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=Nm(m,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},$a=class extends Ba{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?IC(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},od=class extends $a{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,n,r,o,s,a,u,l,h),this.contentAttr=tF(h),this.hostAttr=nF(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var ad=class t extends xa{supportsDOMEvents=!0;static makeCurrent(){ym(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=rF();return n==null?null:iF(n)}resetBaseElement(){Ha=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Cm(document.cookie,e)}},Ha=null;function rF(){return Ha=Ha||document.head.querySelector("base"),Ha?Ha.getAttribute("href"):null}function iF(t){return new URL(t,document.baseURI).pathname}var oF=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),wC=(()=>{class t extends Ua{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(G(We))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),EC=["alt","control","meta","shift"],sF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},aF={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},TC=(()=>{class t extends Ua{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zn().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),EC.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=sF[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),EC.forEach(s=>{if(s!==i){let a=aF[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(G(We))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})();function cF(t,e){return Hb(F({rootComponent:t},uF(e)))}function uF(t){return{appProviders:[...pF,...t?.providers??[]],platformProviders:fF}}function lF(){ad.makeCurrent()}function dF(){return new vn}function hF(){return FD(document),document}var fF=[{provide:Mr,useValue:Sm},{provide:qg,useValue:lF,multi:!0},{provide:We,useFactory:hF}];var pF=[{provide:Al,useValue:"root"},{provide:vn,useFactory:dF},{provide:sd,useClass:wC,multi:!0,deps:[We]},{provide:sd,useClass:TC,multi:!0,deps:[We]},Om,xm,Pm,{provide:Ro,useExisting:Om},{provide:ja,useClass:oF},[]];var DC=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(G(We))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var X="primary",nc=Symbol("RouteTitle"),Um=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Si(t){return new Um(t)}function PC(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function mF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!En(t[n],e[n]))return!1;return!0}function En(t,e){let n=t?Bm(t):void 0,r=e?Bm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!xC(t[i],e[i]))return!1;return!0}function Bm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function xC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function kC(t){return t.length>0?t[t.length-1]:null}function Vr(t){return _p(t)?t:Bo(t)?Se(Promise.resolve(t)):W(t)}var yF={exact:LC,subset:FC},OC={exact:vF,subset:_F,ignored:()=>!0};function bC(t,e,n){return yF[n.paths](t.root,e.root,n.matrixParams)&&OC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function vF(t,e){return En(t,e)}function LC(t,e,n){if(!bi(t.segments,e.segments)||!ld(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!LC(t.children[r],e.children[r],n))return!1;return!0}function _F(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>xC(t[n],e[n]))}function FC(t,e,n){return VC(t,e,e.segments,n)}function VC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!bi(i,n)||e.hasChildren()||!ld(i,n,r))}else if(t.segments.length===n.length){if(!bi(t.segments,n)||!ld(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!FC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!bi(t.segments,i)||!ld(t.segments,i,r)||!t.children[X]?!1:VC(t.children[X],e,o,r)}}function ld(t,e,n){return e.every((r,i)=>OC[n](t[i].parameters,r.parameters))}var Tn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ge([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Si(this.queryParams),this._queryParamMap}toString(){return wF.serialize(this)}},ge=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dd(this)}},Or=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Si(this.parameters),this._parameterMap}toString(){return UC(this)}};function IF(t,e){return bi(t,e)&&t.every((n,r)=>En(n.parameters,e[r].parameters))}function bi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function EF(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===X&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==X&&(n=n.concat(e(i,r)))}),n}var Ai=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>new Lr,providedIn:"root"})}return t})(),Lr=class{parse(e){let n=new Hm(e);return new Tn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${za(e.root,!0)}`,r=bF(e.queryParams),i=typeof e.fragment=="string"?`#${TF(e.fragment)}`:"";return`${n}${r}${i}`}},wF=new Lr;function dd(t){return t.segments.map(e=>UC(e)).join("/")}function za(t,e){if(!t.hasChildren())return dd(t);if(e){let n=t.children[X]?za(t.children[X],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==X&&r.push(`${i}:${za(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=EF(t,(r,i)=>i===X?[za(t.children[X],!1)]:[`${i}:${za(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[X]!=null?`${dd(t)}/${n[0]}`:`${dd(t)}/(${n.join("//")})`}}function jC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cd(t){return jC(t).replace(/%3B/gi,";")}function TF(t){return encodeURI(t)}function $m(t){return jC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hd(t){return decodeURIComponent(t)}function CC(t){return hd(t.replace(/\+/g,"%20"))}function UC(t){return`${$m(t.path)}${DF(t.parameters)}`}function DF(t){return Object.entries(t).map(([e,n])=>`;${$m(e)}=${$m(n)}`).join("")}function bF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${cd(n)}=${cd(i)}`).join("&"):`${cd(n)}=${cd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var CF=/^[^\/()?;#]+/;function Lm(t){let e=t.match(CF);return e?e[0]:""}var SF=/^[^\/()?;=#]+/;function AF(t){let e=t.match(SF);return e?e[0]:""}var RF=/^[^=?&#]+/;function NF(t){let e=t.match(RF);return e?e[0]:""}var MF=/^[^&#]+/;function PF(t){let e=t.match(MF);return e?e[0]:""}var Hm=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[X]=new ge(e,n)),r}parseSegment(){let e=Lm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new Or(hd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=AF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Lm(this.remaining);i&&(r=i,this.capture(r))}e[hd(n)]=hd(r)}parseQueryParam(e){let n=NF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=PF(this.remaining);s&&(r=s,this.capture(r))}let i=CC(n),o=CC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Lm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=X);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[X]:new ge([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function BC(t){return t.segments.length>0?new ge([],{[X]:t}):t}function $C(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=$C(i);if(r===X&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ge(t.segments,e);return xF(n)}function xF(t){if(t.numberOfChildren===1&&t.children[X]){let e=t.children[X];return new ge(t.segments.concat(e.segments),e.children)}return t}function Go(t){return t instanceof Tn}function HC(t,e,n=null,r=null){let i=zC(t);return qC(i,e,n,r)}function zC(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new ge(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=BC(r);return e??i}function qC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Fm(i,i,i,n,r);let o=kF(e);if(o.toRoot())return Fm(i,i,new ge([],{}),n,r);let s=OF(o,i,t),a=s.processChildren?Wa(s.segmentGroup,s.index,o.commands):GC(s.segmentGroup,s.index,o.commands);return Fm(i,s.segmentGroup,a,n,r)}function pd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ka(t){return typeof t=="object"&&t!=null&&t.outlets}function Fm(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=WC(t,e,n);let a=BC($C(s));return new Tn(a,o,i)}function WC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=WC(o,e,n)}),new ge(t.segments,r)}var gd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&pd(r[0]))throw new j(4003,!1);let i=r.find(Ka);if(i&&i!==kC(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function kF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new gd(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new gd(n,e,r)}var qo=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function OF(t,e,n){if(t.isAbsolute)return new qo(e,!0,0);if(!n)return new qo(e,!1,NaN);if(n.parent===null)return new qo(n,!0,0);let r=pd(t.commands[0])?0:1,i=n.segments.length-1+r;return LF(n,i,t.numberOfDoubleDots)}function LF(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new qo(r,!1,i-o)}function FF(t){return Ka(t[0])?t[0].outlets:{[X]:t}}function GC(t,e,n){if(t??=new ge([],{}),t.segments.length===0&&t.hasChildren())return Wa(t,e,n);let r=VF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ge(t.segments.slice(0,r.pathIndex),{});return o.children[X]=new ge(t.segments.slice(r.pathIndex),t.children),Wa(o,0,i)}else return r.match&&i.length===0?new ge(t.segments,{}):r.match&&!t.hasChildren()?zm(t,e,n):r.match?Wa(t,0,i):zm(t,e,n)}function Wa(t,e,n){if(n.length===0)return new ge(t.segments,{});{let r=FF(n),i={};if(Object.keys(r).some(o=>o!==X)&&t.children[X]&&t.numberOfChildren===1&&t.children[X].segments.length===0){let o=Wa(t.children[X],e,n);return new ge(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=GC(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ge(t.segments,i)}}function VF(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Ka(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!AC(u,l,s))return o;r+=2}else{if(!AC(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function zm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Ka(o)){let u=jF(o.outlets);return new ge(r,u)}if(i===0&&pd(n[0])){let u=t.segments[e];r.push(new Or(u.path,SC(n[0]))),i++;continue}let s=Ka(o)?o.outlets[X]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&pd(a)?(r.push(new Or(s,SC(a))),i+=2):(r.push(new Or(s,{})),i++)}return new ge(r,{})}function jF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=zm(new ge([],{}),0,r))}),e}function SC(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function AC(t,e,n){return t==n.path&&En(e,n.parameters)}var fd="imperative",qe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(qe||{}),kt=class{id;url;constructor(e,n){this.id=e,this.url=n}},Fr=class extends kt{type=qe.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},sn=class extends kt{urlAfterRedirects;type=qe.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Rt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Rt||{}),Ko=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ko||{}),wn=class extends kt{reason;code;type=qe.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Dn=class extends kt{reason;code;type=qe.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Qo=class extends kt{error;target;type=qe.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Qa=class extends kt{urlAfterRedirects;state;type=qe.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},md=class extends kt{urlAfterRedirects;state;type=qe.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yd=class extends kt{urlAfterRedirects;state;shouldActivate;type=qe.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},vd=class extends kt{urlAfterRedirects;state;type=qe.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_d=class extends kt{urlAfterRedirects;state;type=qe.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Id=class{route;type=qe.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ed=class{route;type=qe.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},wd=class{snapshot;type=qe.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Td=class{snapshot;type=qe.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dd=class{snapshot;type=qe.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bd=class{snapshot;type=qe.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yo=class{routerEvent;position;anchor;type=qe.Scroll;constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ya=class{},Zo=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function UF(t,e){return t.providers&&!t._injector&&(t._injector=Pa(t.providers,e,`Route: ${t.path}`)),t._injector??e}function on(t){return t.outlet||X}function BF(t,e){let n=t.filter(r=>on(r)===e);return n.push(...t.filter(r=>on(r)!==e)),n}function rc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Cd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return rc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Ri(this.rootInjector)}},Ri=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Cd(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(G(ot))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Sd=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=qm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=qm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Wm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Wm(e,this._root).map(n=>n.value)}};function qm(t,e){if(t===e.value)return e;for(let n of e.children){let r=qm(t,n);if(r)return r}return null}function Wm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Wm(t,n);if(r.length)return r.unshift(e),r}return[]}var xt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function zo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Za=class extends Sd{snapshot;constructor(e,n){super(e),this.snapshot=n,ey(this,e)}toString(){return this.snapshot.toString()}};function KC(t){let e=$F(t),n=new ke([new Or("",{})]),r=new ke({}),i=new ke({}),o=new ke({}),s=new ke(""),a=new tr(n,r,o,s,i,X,t,e.root);return a.snapshot=e.root,new Za(new xt(a,[]),e)}function $F(t){let e={},n={},r={},i="",o=new Ci([],e,r,i,n,X,t,null,{});return new Ja("",new xt(o,[]))}var tr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ne(l=>l[nc]))??W(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ne(e=>Si(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ne(e=>Si(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ad(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),i?.data),t._resolvedData)}:r={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),t._resolvedData??{})},i&&YC(i)&&(r.resolve[nc]=i.title),r}var Ci=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[nc]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Si(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Si(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Ja=class extends Sd{url;constructor(e,n){super(n),this.url=e,ey(this,n)}toString(){return QC(this._root)}};function ey(t,e){e.value._routerState=t,e.children.forEach(n=>ey(t,n))}function QC(t){let e=t.children.length>0?` { ${t.children.map(QC).join(", ")} } `:"";return`${t.value}${e}`}function Vm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,En(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),En(e.params,n.params)||t.paramsSubject.next(n.params),mF(e.url,n.url)||t.urlSubject.next(n.url),En(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Gm(t,e){let n=En(t.params,e.params)&&IF(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Gm(t.parent,e.parent))}function YC(t){return typeof t.title=="string"||t.title===null}var ZC=new U(""),ty=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=X;activateEvents=new bt;deactivateEvents=new bt;attachEvents=new bt;detachEvents=new bt;routerOutletData=ND(void 0);parentContexts=x(Ri);location=x(Ma);changeDetector=x($o);inputBinder=x(ic,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Km(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Uo({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ml]})}return t})(),Km=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===tr?this.route:e===Ri?this.childContexts:e===ZC?this.outletData:this.parent.get(e,n)}},ic=new U(""),ny=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=ui([r.queryParams,r.params,r.data]).pipe(Pt(([o,s,a],u)=>(a=F(F(F({},o),s),a),u===0?W(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=qb(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),ry=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Db({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&gm(0,"router-outlet")},dependencies:[ty],encapsulation:2})}return t})();function iy(t){let e=t.children&&t.children.map(iy),n=e?ve(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==X&&(n.component=ry),n}function HF(t,e,n){let r=Xa(t,e._root,n?n._root:void 0);return new Za(r,e)}function Xa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=zF(t,e,n);return new xt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Xa(t,a)),s}}let r=qF(e.value),i=e.children.map(o=>Xa(t,o));return new xt(r,i)}}function zF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Xa(t,r,i);return Xa(t,r)})}function qF(t){return new tr(new ke(t.url),new ke(t.params),new ke(t.queryParams),new ke(t.fragment),new ke(t.data),t.outlet,t.component,t)}var Jo=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},JC="ngNavigationCancelingError";function Rd(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Go(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=XC(!1,Rt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function XC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[JC]=!0,n.cancellationCode=e,n}function WF(t){return eS(t)&&Go(t.url)}function eS(t){return!!t&&t[JC]}var GF=(t,e,n,r)=>ne(i=>(new Qm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Qm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Vm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=zo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=zo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=zo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=zo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new bd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Td(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Vm(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Vm(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Nd=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Wo=class{component;route;constructor(e,n){this.component=e,this.route=n}};function KF(t,e,n){let r=t._root,i=e?e._root:null;return qa(r,i,n,[r.value])}function QF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function es(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!CT(t)?t:e.get(t):r}function qa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=zo(e);return t.children.forEach(s=>{YF(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ga(a,n.getContext(s),i)),i}function YF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=ZF(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Nd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?qa(t,e,a?a.children:null,r,i):qa(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Wo(a.outlet.component,s))}else s&&Ga(e,a,i),i.canActivateChecks.push(new Nd(r)),o.component?qa(t,null,a?a.children:null,r,i):qa(t,null,n,r,i);return i}function ZF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!bi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!bi(t.url,e.url)||!En(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gm(t,e)||!En(t.queryParams,e.queryParams);case"paramsChange":default:return!Gm(t,e)}}function Ga(t,e,n){let r=zo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ga(s,e.children.getContext(o),n):Ga(s,null,n):Ga(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Wo(e.outlet.component,i)):n.canDeactivateChecks.push(new Wo(null,i)):n.canDeactivateChecks.push(new Wo(null,i))}function oc(t){return typeof t=="function"}function JF(t){return typeof t=="boolean"}function XF(t){return t&&oc(t.canLoad)}function eV(t){return t&&oc(t.canActivate)}function tV(t){return t&&oc(t.canActivateChild)}function nV(t){return t&&oc(t.canDeactivate)}function rV(t){return t&&oc(t.canMatch)}function tS(t){return t instanceof Bn||t?.name==="EmptyError"}var ud=Symbol("INITIAL_VALUE");function Xo(){return Pt(t=>ui(t.map(e=>e.pipe(Hn(1),qu(ud)))).pipe(ne(e=>{for(let n of e)if(n!==!0){if(n===ud)return ud;if(n===!1||iV(n))return n}return!0}),Tt(e=>e!==ud),Hn(1)))}function iV(t){return Go(t)||t instanceof Jo}function oV(t,e){return Oe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?W(ve(F({},n),{guardsResult:!0})):sV(s,r,i,t).pipe(Oe(a=>a&&JF(a)?aV(r,o,t,e):W(a)),ne(a=>ve(F({},n),{guardsResult:a})))})}function sV(t,e,n,r){return Se(t).pipe(Oe(i=>hV(i.component,i.route,n,e,r)),zn(i=>i!==!0,!0))}function aV(t,e,n,r){return Se(e).pipe(br(i=>mo(uV(i.route.parent,r),cV(i.route,r),dV(t,i.path,n),lV(t,i.route,n))),zn(i=>i!==!0,!0))}function cV(t,e){return t!==null&&e&&e(new Dd(t)),W(!0)}function uV(t,e){return t!==null&&e&&e(new wd(t)),W(!0)}function lV(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(o=>$u(()=>{let s=rc(e)??n,a=es(o,s),u=eV(a)?a.canActivate(e,t):at(s,()=>a(e,t));return Vr(u).pipe(zn())}));return W(i).pipe(Xo())}function dV(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>QF(s)).filter(s=>s!==null).map(s=>$u(()=>{let a=s.guards.map(u=>{let l=rc(s.node)??n,h=es(u,l),p=tV(h)?h.canActivateChild(r,t):at(l,()=>h(r,t));return Vr(p).pipe(zn())});return W(a).pipe(Xo())}));return W(o).pipe(Xo())}function hV(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return W(!0);let s=o.map(a=>{let u=rc(e)??i,l=es(a,u),h=nV(l)?l.canDeactivate(t,e,n,r):at(u,()=>l(t,e,n,r));return Vr(h).pipe(zn())});return W(s).pipe(Xo())}function fV(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let o=i.map(s=>{let a=es(s,t),u=XF(a)?a.canLoad(e,n):at(t,()=>a(e,n));return Vr(u)});return W(o).pipe(Xo(),nS(r))}function nS(t){return wu(Xe(e=>{if(typeof e!="boolean")throw Rd(t,e)}),ne(e=>e===!0))}function pV(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let o=i.map(s=>{let a=es(s,t),u=rV(a)?a.canMatch(e,n):at(t,()=>a(e,n));return Vr(u)});return W(o).pipe(Xo(),nS(r))}var ec=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},tc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Ho(t){return po(new ec(t))}function gV(t){return po(new j(4e3,!1))}function mV(t){return po(XC(!1,Rt.GuardRejected))}var Ym=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[X])return gV(`${e.redirectTo}`);i=i.children[X]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:w,title:R}=i,N=at(o,()=>a({params:y,data:w,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:R}));if(N instanceof Tn)throw new tc(N);n=N}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new tc(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Tn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new ge(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Zm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yV(t,e,n,r,i){let o=rS(t,e,n);return o.matched?(r=UF(e,r),pV(r,e,n,i).pipe(ne(s=>s===!0?o:F({},Zm)))):W(o)}function rS(t,e,n){if(e.path==="**")return vV(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},Zm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||PC)(n,t,e);if(!i)return F({},Zm);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?F(F({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function vV(t){return{matched:!0,parameters:t.length>0?kC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function RC(t,e,n,r){return n.length>0&&EV(t,n,r)?{segmentGroup:new ge(e,IV(r,new ge(n,t.children))),slicedSegments:[]}:n.length===0&&wV(t,n,r)?{segmentGroup:new ge(t.segments,_V(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ge(t.segments,t.children),slicedSegments:n}}function _V(t,e,n,r){let i={};for(let o of n)if(Pd(t,e,o)&&!r[on(o)]){let s=new ge([],{});i[on(o)]=s}return F(F({},r),i)}function IV(t,e){let n={};n[X]=e;for(let r of t)if(r.path===""&&on(r)!==X){let i=new ge([],{});n[on(r)]=i}return n}function EV(t,e,n){return n.some(r=>Pd(t,e,r)&&on(r)!==X)}function wV(t,e,n){return n.some(r=>Pd(t,e,r))}function Pd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function TV(t,e,n){return e.length===0&&!t.children[n]}var Jm=class{};function DV(t,e,n,r,i,o,s="emptyOnly"){return new Xm(t,e,n,r,i,s,o).recognize()}var bV=31,Xm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Ym(this.urlSerializer,this.urlTree)}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=RC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ne(({children:n,rootSnapshot:r})=>{let i=new xt(r,n),o=new Ja("",i),s=HC(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Ci([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),X,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,X,n).pipe(ne(r=>({children:r,rootSnapshot:n})),$n(r=>{if(r instanceof tc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ec?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(ne(s=>s instanceof xt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Se(o).pipe(br(s=>{let a=r.children[s],u=BF(n,s);return this.processSegmentGroup(e,u,a,s,i)}),zu((s,a)=>(s.push(...a),s)),Cr(null),Ip(),Oe(s=>{if(s===null)return Ho(r);let a=iS(s);return CV(a),W(a)}))}processSegment(e,n,r,i,o,s,a){return Se(n).pipe(br(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe($n(l=>{if(l instanceof ec)return W(null);throw l}))),zn(u=>!!u),$n(u=>{if(tS(u))return TV(r,i,o)?W(new Jm):Ho(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return on(r)!==s&&(s===X||!Pd(i,o,r))?Ho(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Ho(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=rS(n,i,o);if(!u)return Ho(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>bV&&(this.allowRedirects=!1));let y=new Ci(o,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,NC(i),on(i),i.component??i._loadedComponent??null,i,MC(i)),w=Ad(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(w.params),y.data=Object.freeze(w.data);let R=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,R).pipe(Oe(N=>this.processSegment(e,r,n,N.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=yV(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Pt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Pt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,w=new Ci(m,p,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,NC(r),on(r),r.component??r._loadedComponent??null,r,MC(r)),R=Ad(w,s,this.paramsInheritanceStrategy);w.params=Object.freeze(R.params),w.data=Object.freeze(R.data);let{segmentGroup:N,slicedSegments:O}=RC(n,m,y,l);if(O.length===0&&N.hasChildren())return this.processChildren(h,l,N,w).pipe(ne(K=>new xt(w,K)));if(l.length===0&&O.length===0)return W(new xt(w,[]));let $=on(r)===o;return this.processSegment(h,l,N,O,$?X:o,!0,w).pipe(ne(K=>new xt(w,K instanceof xt?[K]:[])))}))):Ho(n)))}getChildConfig(e,n,r){return n.children?W({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?W({routes:n._loadedRoutes,injector:n._loadedInjector}):fV(e,n,r,this.urlSerializer).pipe(Oe(i=>i?this.configLoader.loadChildren(e,n).pipe(Xe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):mV(n))):W({routes:[],injector:e})}};function CV(t){t.sort((e,n)=>e.value.outlet===X?-1:n.value.outlet===X?1:e.value.outlet.localeCompare(n.value.outlet))}function SV(t){let e=t.value.routeConfig;return e&&e.path===""}function iS(t){let e=[],n=new Set;for(let r of t){if(!SV(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=iS(r.children);e.push(new xt(r.value,i))}return e.filter(r=>!n.has(r))}function NC(t){return t.data||{}}function MC(t){return t.resolve||{}}function AV(t,e,n,r,i,o){return Oe(s=>DV(t,e,n,r,s.extractedUrl,i,o).pipe(ne(({state:a,tree:u})=>ve(F({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function RV(t,e){return Oe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return W(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of oS(u))s.add(l);let a=0;return Se(s).pipe(br(u=>o.has(u)?NV(u,r,t,e):(u.data=Ad(u,u.parent,t).resolve,W(void 0))),Xe(()=>a++),yo(1),Oe(u=>a===s.size?W(n):Et))})}function oS(t){let e=t.children.map(n=>oS(n)).flat();return[t,...e]}function NV(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!YC(i)&&(o[nc]=i.title),MV(o,t,e,r).pipe(ne(s=>(t._resolvedData=s,t.data=Ad(t,t.parent,n).resolve,null)))}function MV(t,e,n,r){let i=Bm(t);if(i.length===0)return W({});let o={};return Se(i).pipe(Oe(s=>PV(t[s],e,n,r).pipe(zn(),Xe(a=>{if(a instanceof Jo)throw Rd(new Lr,a);o[s]=a}))),yo(1),ne(()=>o),$n(s=>tS(s)?Et:po(s)))}function PV(t,e,n,r){let i=rc(e)??r,o=es(t,i),s=o.resolve?o.resolve(e,n):at(i,()=>o(e,n));return Vr(s)}function jm(t){return Pt(e=>{let n=t(e);return n?Se(n).pipe(ne(()=>e)):W(e)})}var oy=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===X);return r}getResolvedTitleForRoute(n){return n.data[nc]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>x(sS),providedIn:"root"})}return t})(),sS=(()=>{class t extends oy{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(G(DC))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ni=new U("",{providedIn:"root",factory:()=>({})}),Mi=new U(""),xd=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=x(Ub);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return W(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Vr(n.loadComponent()).pipe(ne(cS),Xe(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),ua(()=>{this.componentLoaders.delete(n)})),i=new uo(r,()=>new Je).pipe(co());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=aS(r,this.compiler,n,this.onLoadEndListener).pipe(ua(()=>{this.childrenLoaders.delete(r)})),s=new uo(o,()=>new Je).pipe(co());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function aS(t,e,n,r){return Vr(t.loadChildren()).pipe(ne(cS),Oe(i=>i instanceof lm||Array.isArray(i)?W(i):Se(e.compileModuleAsync(i))),ne(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Mi,[],{optional:!0,self:!0}).flat()),{routes:s.map(iy),injector:o}}))}function xV(t){return t&&typeof t=="object"&&"default"in t}function cS(t){return xV(t)?t.default:t}var kd=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>x(kV),providedIn:"root"})}return t})(),kV=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),sy=new U(""),ay=new U("");function uS(t,e,n){let r=t.get(ay),i=t.get(We);return t.get(fe).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),OV(t))),{onViewTransitionCreated:u}=r;return u&&at(t,()=>u({transition:a,from:e,to:n})),s})}function OV(t){return new Promise(e=>{Kg({read:()=>setTimeout(e)},{injector:t})})}var cy=new U(""),Od=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Je;transitionAbortSubject=new Je;configLoader=x(xd);environmentInjector=x(ot);destroyRef=x(Nr);urlSerializer=x(Ai);rootContexts=x(Ri);location=x(kr);inputBindingEnabled=x(ic,{optional:!0})!==null;titleStrategy=x(oy);options=x(Ni,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=x(kd);createViewTransition=x(sy,{optional:!0});navigationErrorHandler=x(cy,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>W(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Id(i)),r=i=>this.events.next(new Ed(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ve(F({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new ke(null),this.transitions.pipe(Tt(r=>r!==null),Pt(r=>{let i=!1,o=!1;return W(r).pipe(Pt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Rt.SupersededByNewNavigation),Et;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?ve(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&u!=="reload"){let l="";return this.events.next(new Dn(s.id,this.urlSerializer.serialize(s.rawUrl),l,Ko.IgnoredSameUrlNavigation)),s.resolve(!1),Et}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return W(s).pipe(Pt(l=>(this.events.next(new Fr(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Et:Promise.resolve(l))),AV(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Xe(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=ve(F({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let h=new Qa(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:h,source:p,restoredState:m,extras:y}=s,w=new Fr(l,this.urlSerializer.serialize(h),p,m);this.events.next(w);let R=KC(this.rootComponentType).snapshot;return this.currentTransition=r=ve(F({},s),{targetSnapshot:R,urlAfterRedirects:h,extras:ve(F({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,W(r)}else{let l="";return this.events.next(new Dn(s.id,this.urlSerializer.serialize(s.extractedUrl),l,Ko.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Et}}),Xe(s=>{let a=new md(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ne(s=>(this.currentTransition=r=ve(F({},s),{guards:KF(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),oV(this.environmentInjector,s=>this.events.next(s)),Xe(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Rd(this.urlSerializer,s.guardsResult);let a=new yd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Tt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Rt.GuardRejected),!1)),jm(s=>{if(s.guards.canActivateChecks.length!==0)return W(s).pipe(Xe(a=>{let u=new vd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Pt(a=>{let u=!1;return W(a).pipe(RV(this.paramsInheritanceStrategy,this.environmentInjector),Xe({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",Rt.NoDataFromResolver)}}))}),Xe(a=>{let u=new _d(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),jm(s=>{let a=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(Xe(h=>{u.component=h}),ne(()=>{})));for(let h of u.children)l.push(...a(h));return l};return ui(a(s.targetSnapshot.root)).pipe(Cr(null),Hn(1))}),jm(()=>this.afterPreactivation()),Pt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?Se(u).pipe(ne(()=>r)):W(r)}),ne(s=>{let a=HF(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ve(F({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Xe(()=>{this.events.next(new Ya)}),GF(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Hn(1),Xe({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new sn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Ep(this.transitionAbortSubject.pipe(Xe(s=>{throw s}))),ua(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Rt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),$n(s=>{if(this.destroyed)return r.resolve(!1),Et;if(o=!0,eS(s))this.events.next(new wn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),WF(s)?this.events.next(new Zo(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Qo(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=at(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof Jo){let{message:l,cancellationCode:h}=Rd(this.urlSerializer,u);this.events.next(new wn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new Zo(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Et}))}))}cancelNavigationTransition(n,r,i){let o=new wn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function LV(t){return t!==fd}var lS=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>x(FV),providedIn:"root"})}return t})(),Md=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},FV=(()=>{class t extends Md{static \u0275fac=(()=>{let n;return function(i){return(n||(n=jg(t)))(i||t)}})();static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),dS=(()=>{class t{urlSerializer=x(Ai);options=x(Ni,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=x(kr);urlHandlingStrategy=x(kd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Tn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof Tn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=KC(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>x(VV),providedIn:"root"})}return t})(),VV=(()=>{class t extends dS{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Fr?this.updateStateMemento():n instanceof Dn?this.commitTransition(r):n instanceof Qa?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Ya?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof wn&&(n.code===Rt.GuardRejected||n.code===Rt.NoDataFromResolver)?this.restoreHistory(r):n instanceof Qo?this.restoreHistory(r,!0):n instanceof sn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,u=F(F({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",u)}else{let a=F(F({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=jg(t)))(i||t)}})();static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ld(t,e){t.events.pipe(Tt(n=>n instanceof sn||n instanceof wn||n instanceof Qo||n instanceof Dn),ne(n=>n instanceof sn||n instanceof Dn?0:(n instanceof wn?n.code===Rt.Redirect||n.code===Rt.SupersededByNewNavigation:!1)?2:1),Tt(n=>n!==2),Hn(1)).subscribe(()=>{e()})}var jV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},UV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},nr=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=x(Sb);stateManager=x(dS);options=x(Ni,{optional:!0})||{};pendingTasks=x(Di);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=x(Od);urlSerializer=x(Ai);location=x(kr);urlHandlingStrategy=x(kd);_events=new Je;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=x(lS);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=x(Mi,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!x(ic,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ne;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof wn&&r.code!==Rt.Redirect&&r.code!==Rt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof sn)this.navigated=!0;else if(r instanceof Zo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=F({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||LV(i.source)},s);this.scheduleNavigation(a,fd,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}$V(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),fd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=F({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(iy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=zC(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return qC(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Go(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,fd,null,r)}navigate(n,r={skipLocationChange:!1}){return BV(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=F({},jV):r===!1?i=F({},UV):i=r,Go(n))return bC(this.currentUrlTree,n,i);let o=this.parseUrl(n);return bC(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return Ld(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function BV(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new j(4008,!1)}function $V(t){return!(t instanceof Ya)&&!(t instanceof Zo)}var sc=class{};var hS=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,i,o){this.router=n,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Tt(n=>n instanceof sn),br(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Pa(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Se(i).pipe(go())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=W(null);let o=i.pipe(Oe(s=>s===null?W(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Se([o,s]).pipe(go())}else return o})}static \u0275fac=function(r){return new(r||t)(G(nr),G(ot),G(sc),G(xd))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),fS=new U(""),HV=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Fr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof sn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Dn&&n.code===Ko.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Yo&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Yo(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){vb()};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})();function zV(t,...e){return In([{provide:Mi,multi:!0,useValue:t},[],{provide:tr,useFactory:pS,deps:[nr]},{provide:zl,multi:!0,useFactory:gS},e.map(n=>n.\u0275providers)])}function pS(t){return t.routerState.root}function ac(t,e){return{\u0275kind:t,\u0275providers:e}}function gS(){let t=x(ze);return e=>{let n=t.get(Ei);if(e!==n.components[0])return;let r=t.get(nr),i=t.get(mS);t.get(ly)===1&&r.initialNavigation(),t.get(_S,null,ee.Optional)?.setUpPreloading(),t.get(fS,null,ee.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var mS=new U("",{factory:()=>new Je}),ly=new U("",{providedIn:"root",factory:()=>1});function yS(){let t=[{provide:ly,useValue:0},pm(()=>{let e=x(ze);return e.get(vm,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(nr),o=e.get(mS);Ld(i,()=>{r(!0)}),e.get(Od).afterPreactivation=()=>(r(!0),o.closed?W(void 0):o),i.initialNavigation()}))})];return ac(2,t)}function vS(){let t=[pm(()=>{x(nr).setUpLocationChangeListener()}),{provide:ly,useValue:2}];return ac(3,t)}var _S=new U("");function IS(t){return ac(0,[{provide:_S,useExisting:hS},{provide:sc,useExisting:t}])}function ES(){return ac(8,[ny,{provide:ic,useExisting:ny}])}function wS(t){Pr("NgRouterViewTransitions");let e=[{provide:sy,useValue:uS},{provide:ay,useValue:F({skipNextTransition:!!t?.skipInitialTransition},t)}];return ac(9,e)}var TS=[kr,{provide:Ai,useClass:Lr},nr,Ri,{provide:tr,useFactory:pS,deps:[nr]},xd,[]],qV=(()=>{class t{constructor(){}static forRoot(n,r){return{ngModule:t,providers:[TS,[],{provide:Mi,multi:!0,useValue:n},[],r?.errorHandler?{provide:cy,useValue:r.errorHandler}:[],{provide:Ni,useValue:r||{}},r?.useHash?GV():KV(),WV(),r?.preloadingStrategy?IS(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?QV(r):[],r?.bindToComponentInputs?ES().\u0275providers:[],r?.enableViewTransitions?wS().\u0275providers:[],YV()]}}static forChild(n){return{ngModule:t,providers:[{provide:Mi,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=jo({type:t});static \u0275inj=ko({})}return t})();function WV(){return{provide:fS,useFactory:()=>{let t=x(gC),e=x(fe),n=x(Ni),r=x(Od),i=x(Ai);return n.scrollOffset&&t.setOffset(n.scrollOffset),new HV(i,r,t,e,n)}}}function GV(){return{provide:Jn,useClass:bm}}function KV(){return{provide:Jn,useClass:Ql}}function QV(t){return[t.initialNavigation==="disabled"?vS().\u0275providers:[],t.initialNavigation==="enabledBlocking"?yS().\u0275providers:[]]}var uy=new U("");function YV(){return[{provide:uy,useFactory:gS},{provide:zl,multi:!0,useExisting:uy}]}function JV(t,e){let n=!e?.manualCleanup;n&&!e?.injector&&Rl(JV);let r=n?e?.injector?.get(Nr)??x(Nr):null,i=XV(e?.equal),o;e?.requireSync?o=Hg({kind:0},{equal:i}):o=Hg({kind:1,value:e?.initialValue},{equal:i});let s,a=t.subscribe({next:u=>o.set({kind:1,value:u}),error:u=>{if(e?.rejectErrors)throw u;o.set({kind:2,error:u})},complete:()=>{s?.()}});if(e?.requireSync&&o().kind===0)throw new j(601,!1);return s=r?.onDestroy(a.unsubscribe.bind(a)),zb(()=>{let u=o();switch(u.kind){case 1:return u.value;case 2:throw u.error;case 0:throw new j(601,!1)}},{equal:e?.equal})}function XV(t=Object.is){return(e,n)=>e.kind===1&&n.kind===1&&t(e.value,n.value)}function dy(t){t===void 0&&(Rl(dy),t=x(ze));let e=t.get(Ol);return n=>new oe(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var DS=()=>{};var SS=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},e2=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Fd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(SS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):e2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new fy;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let w=l<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},fy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},t2=function(t){let e=SS(t);return Fd.encodeByteArray(e,!0)},uc=function(t){return t2(t).replace(/\./g,"")},Vd=function(t){try{return Fd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function gy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var n2=()=>gy().__FIREBASE_DEFAULTS__,r2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},i2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Vd(t[1]);return e&&JSON.parse(e)},jd=()=>{try{return DS()||n2()||r2()||i2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},my=t=>{var e,n;return(n=(e=jd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},AS=t=>{let e=my(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yy=()=>{var t;return(t=jd())===null||t===void 0?void 0:t.config},vy=t=>{var e;return(e=jd())===null||e===void 0?void 0:e[`_${t}`]};var Pi=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function xi(t){return t.endsWith(".cloudworkstations.dev")}function Ud(t){return _(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function RS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[uc(JSON.stringify(n)),uc(JSON.stringify(s)),""].join(".")}var cc={};function o2(){let t={prod:[],emulator:[]};for(let e of Object.keys(cc))cc[e]?t.emulator.push(e):t.prod.push(e);return t}function s2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var bS=!1;function Bd(t,e){if(typeof window>"u"||typeof document>"u"||!xi(window.location.host)||cc[t]===e||cc[t]||bS)return;cc[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=o2().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{bS=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=s2(r),y=n("text"),w=document.getElementById(y)||document.createElement("span"),R=n("learnmore"),N=document.getElementById(R)||document.createElement("a"),O=n("preprendIcon"),$=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let K=m.element;a(K),h(N,R);let Ee=l();u($,O),K.append($,w,N,Ee),document.body.appendChild(K)}o?(w.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Ge(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function a2(){var t;let e=(t=jd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PS(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kS(){let t=Ge();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function OS(){return!a2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lc(){try{return typeof indexedDB=="object"}catch{return!1}}function LS(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var c2="FirebaseError",Ot=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=c2,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,an.prototype.create)}},an=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?u2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ot(i,a,r)}};function u2(t,e){return t.replace(l2,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var l2=/\{\$([^}]+)}/g;function FS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function cn(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(CS(o)&&CS(s)){if(!cn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function CS(t){return t!==null&&typeof t=="object"}function ts(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ns(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function rs(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VS(t,e){let n=new py(t,e);return n.subscribe.bind(n)}var py=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");d2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=hy),i.error===void 0&&(i.error=hy),i.complete===void 0&&(i.complete=hy);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function d2(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hy(){}var aK=4*60*60*1e3;function Me(t){return t&&t._delegate?t._delegate:t}var It=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ki="[DEFAULT]";var _y=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Pi;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(f2(e))try{this.getOrInitializeService({instanceIdentifier:ki})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ki){return this.instances.has(e)}getOptions(e=ki){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:h2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ki){return this.component?this.component.multipleInstances?e:ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function h2(t){return t===ki?void 0:t}function f2(t){return t.instantiationMode==="EAGER"}var $d=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new _y(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var p2=[],ce=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ce||{}),g2={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},m2=ce.INFO,y2={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},v2=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=y2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},bn=class{constructor(e){this.name=e,this._logLevel=m2,this._logHandler=v2,this._userLogHandler=null,p2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?g2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var _2=(t,e)=>e.some(n=>t instanceof n),jS,US;function I2(){return jS||(jS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function E2(){return US||(US=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var BS=new WeakMap,Ey=new WeakMap,$S=new WeakMap,Iy=new WeakMap,Ty=new WeakMap;function w2(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Cn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&BS.set(n,t)}).catch(()=>{}),Ty.set(e,t),e}function T2(t){if(Ey.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Ey.set(t,e)}var wy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ey.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$S.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HS(t){wy=t(wy)}function D2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Hd(this),e,...n);return $S.set(r,e.sort?e.sort():[e]),Cn(r)}:E2().includes(t)?function(...e){return t.apply(Hd(this),e),Cn(BS.get(this))}:function(...e){return Cn(t.apply(Hd(this),e))}}function b2(t){return typeof t=="function"?D2(t):(t instanceof IDBTransaction&&T2(t),_2(t,I2())?new Proxy(t,wy):t)}function Cn(t){if(t instanceof IDBRequest)return w2(t);if(Iy.has(t))return Iy.get(t);let e=b2(t);return e!==t&&(Iy.set(t,e),Ty.set(e,t)),e}var Hd=t=>Ty.get(t);function qS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Cn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Cn(s.result),u.oldVersion,u.newVersion,Cn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var C2=["get","getKey","getAll","getAllKeys","count"],S2=["put","add","delete","clear"],Dy=new Map;function zS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dy.get(e))return Dy.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=S2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||C2.includes(n)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Dy.set(e,o),o}HS(t=>ve(F({},t),{get:(e,n,r)=>zS(e,n)||t.get(e,n,r),has:(e,n)=>!!zS(e,n)||t.has(e,n)}));var Cy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(A2(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function A2(t){let e=t.getComponent();return e?.type==="VERSION"}var Sy="@firebase/app",WS="0.13.0";var rr=new bn("@firebase/app"),R2="@firebase/app-compat",N2="@firebase/analytics-compat",M2="@firebase/analytics",P2="@firebase/app-check-compat",x2="@firebase/app-check",k2="@firebase/auth",O2="@firebase/auth-compat",L2="@firebase/database",F2="@firebase/data-connect",V2="@firebase/database-compat",j2="@firebase/functions",U2="@firebase/functions-compat",B2="@firebase/installations",$2="@firebase/installations-compat",H2="@firebase/messaging",z2="@firebase/messaging-compat",q2="@firebase/performance",W2="@firebase/performance-compat",G2="@firebase/remote-config",K2="@firebase/remote-config-compat",Q2="@firebase/storage",Y2="@firebase/storage-compat",Z2="@firebase/firestore",J2="@firebase/ai",X2="@firebase/firestore-compat",ej="firebase",tj="11.8.0";var Ay="[DEFAULT]",nj={[Sy]:"fire-core",[R2]:"fire-core-compat",[M2]:"fire-analytics",[N2]:"fire-analytics-compat",[x2]:"fire-app-check",[P2]:"fire-app-check-compat",[k2]:"fire-auth",[O2]:"fire-auth-compat",[L2]:"fire-rtdb",[F2]:"fire-data-connect",[V2]:"fire-rtdb-compat",[j2]:"fire-fn",[U2]:"fire-fn-compat",[B2]:"fire-iid",[$2]:"fire-iid-compat",[H2]:"fire-fcm",[z2]:"fire-fcm-compat",[q2]:"fire-perf",[W2]:"fire-perf-compat",[G2]:"fire-rc",[K2]:"fire-rc-compat",[Q2]:"fire-gcs",[Y2]:"fire-gcs-compat",[Z2]:"fire-fst",[X2]:"fire-fst-compat",[J2]:"fire-vertex","fire-js":"fire-js",[ej]:"fire-js-all"};var dc=new Map,rj=new Map,Ry=new Map;function GS(t,e){try{t.container.addComponent(e)}catch(n){rr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function un(t){let e=t.name;if(Ry.has(e))return rr.debug(`There were multiple attempts to register component ${e}.`),!1;Ry.set(e,t);for(let n of dc.values())GS(n,t);for(let n of rj.values())GS(n,t);return!0}function is(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ut(t){return t==null?!1:t.settings!==void 0}var ij={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new an("app","Firebase",ij);var Ny=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new It("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}};var Ur=tj;function xy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Ay,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw jr.create("bad-app-name",{appName:String(i)});if(n||(n=yy()),!n)throw jr.create("no-options");let o=dc.get(i);if(o){if(cn(n,o.options)&&cn(r,o.config))return o;throw jr.create("duplicate-app",{appName:i})}let s=new $d(i);for(let u of Ry.values())s.addComponent(u);let a=new Ny(n,r,s);return dc.set(i,a),a}function Oi(t=Ay){let e=dc.get(t);if(!e&&t===Ay&&yy())return xy();if(!e)throw jr.create("no-app",{appName:t});return e}function zd(){return Array.from(dc.values())}function Pe(t,e,n){var r;let i=(r=nj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rr.warn(a.join(" "));return}un(new It(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var oj="firebase-heartbeat-database",sj=1,hc="firebase-heartbeat-store",by=null;function ZS(){return by||(by=qS(oj,sj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hc)}catch(n){console.warn(n)}}}}).catch(t=>{throw jr.create("idb-open",{originalErrorMessage:t.message})})),by}function aj(t){return _(this,null,function*(){try{let n=(yield ZS()).transaction(hc),r=yield n.objectStore(hc).get(JS(t));return yield n.done,r}catch(e){if(e instanceof Ot)rr.warn(e.message);else{let n=jr.create("idb-get",{originalErrorMessage:e?.message});rr.warn(n.message)}}})}function KS(t,e){return _(this,null,function*(){try{let r=(yield ZS()).transaction(hc,"readwrite");yield r.objectStore(hc).put(e,JS(t)),yield r.done}catch(n){if(n instanceof Ot)rr.warn(n.message);else{let r=jr.create("idb-set",{originalErrorMessage:n?.message});rr.warn(r.message)}}})}function JS(t){return`${t.name}!${t.options.appId}`}var cj=1024,uj=30,My=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Py(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=QS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>uj){let s=dj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){rr.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=QS(),{heartbeatsToSend:r,unsentEntries:i}=lj(this._heartbeatsCache.heartbeats),o=uc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return rr.warn(n),""}})}};function QS(){return new Date().toISOString().substring(0,10)}function lj(t,e=cj){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),YS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),YS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Py=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return lc()?LS().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield aj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return KS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return KS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function YS(t){return uc(JSON.stringify({version:2,heartbeats:t})).length}function dj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function hj(t){un(new It("platform-logger",e=>new Cy(e),"PRIVATE")),un(new It("heartbeat",e=>new My(e),"PRIVATE")),Pe(Sy,WS,t),Pe(Sy,WS,"esm2017"),Pe("fire-js","")}hj("");var fj="firebase",pj="11.8.1";Pe(fj,pj,"app");var Br=new xo("ANGULARFIRE2_VERSION");function fc(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ss=(t,e)=>{let n=e?[e]:zd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},os=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(os||{}),XS=mm()&&typeof Zone<"u"?os.WARN:os.SILENT;var qd=class{zone;delegate;constructor(e,n=vp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},$r=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=x(fe);this.outsideAngular=n.runOutsideAngular(()=>new qd(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new qd(typeof Zone>"u"?void 0:Zone.current,ca))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),eA=!1;function gj(t,e){!eA&&(XS>os.SILENT||mm())&&(eA=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),XS>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function mj(t){let e=x(fe,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Li(t){let e=x(fe,{optional:!0});return e?e.run(()=>t()):t()}var yj=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),at(n,()=>Li(()=>t.apply(void 0,r)))),Ke=(t,e,n)=>(n||=e?os.WARN:os.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=x($r),s=x(Ol),a=x(ot)}catch{return gj(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Li(()=>s.add())),i[l]=yj(i[l],r,a));let u=mj(()=>t.apply(this,i));return e?u instanceof oe?u.pipe(Dr(o.outsideAngular),Tr(o.insideAngular),dy(a)):u instanceof Promise?Li(()=>new Promise((l,h)=>{s.run(()=>u).then(p=>at(a,()=>Li(()=>l(p))),p=>at(a,()=>Li(()=>h(p))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Li(()=>u):u instanceof oe?u.pipe(Dr(o.outsideAngular),Tr(o.insideAngular)):Li(()=>u)});var ir=class{constructor(e){return e}},Fi=class{constructor(){return zd()}};function vj(t){return t&&t.length===1?t[0]:new ir(Oi())}var ky=new U("angularfire2._apps"),_j={provide:ir,useFactory:vj,deps:[[new Ut,ky]]},Ij={provide:Fi,deps:[[new Ut,ky]]};function Ej(t){return(e,n)=>{let r=n.get(Mr);Pe("angularfire",Br.full,"core"),Pe("angularfire",Br.full,"app"),Pe("angular",jb.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new ir(i)}}function QK(t,...e){return In([_j,Ij,{provide:ky,useFactory:Ej(t),multi:!0,deps:[fe,ze,$r,...e]}])}var YK=Ke(xy,!0);function mA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var yA=mA,vA=new an("auth","Firebase",mA());var Zd=new bn("@firebase/auth");function wj(t,...e){Zd.logLevel<=ce.WARN&&Zd.warn(`Auth (${Ur}): ${t}`,...e)}function Gd(t,...e){Zd.logLevel<=ce.ERROR&&Zd.error(`Auth (${Ur}): ${t}`,...e)}function qt(t,...e){throw rv(t,...e)}function ln(t,...e){return rv(t,...e)}function nv(t,e,n){let r=Object.assign(Object.assign({},yA()),{[e]:n});return new an("auth","Firebase",r).create(e,{appName:t.name})}function Sn(t){return nv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tj(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&qt(t,"argument-error"),nv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rv(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vA.create(t,...e)}function q(t,e,...n){if(!t)throw rv(e,...n)}function or(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Gd(e),new Error(e)}function ar(t,e){t||or(e)}function Fy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Dj(){return tA()==="http:"||tA()==="https:"}function tA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function bj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Dj()||PS()||"connection"in navigator)?navigator.onLine:!0}function Cj(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Vi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ar(n>e,"Short delay should be less than long delay!"),this.isMobile=NS()||xS()}get(){return bj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function iv(t,e){ar(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Jd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Sj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Aj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Rj=new Vi(3e4,6e4);function Wr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function cr(o,s,a,u){return _(this,arguments,function*(t,e,n,r,i={}){return _A(t,i,()=>_(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=ts(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return MS()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&xi(t.emulatorConfig.host)&&(y.credentials="include"),Jd.fetch()(yield IA(t,t.config.apiHost,n,p),y)}))})}function _A(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Sj),e);try{let i=new Vy(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Wd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wd(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Wd(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Wd(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw nv(t,h,l);qt(t,h)}}catch(i){if(i instanceof Ot)throw i;qt(t,"network-request-failed",{message:String(i)})}})}function Ec(o,s,a,u){return _(this,arguments,function*(t,e,n,r,i={}){let l=yield cr(t,e,n,r,i);return"mfaPendingCredential"in l&&qt(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function IA(t,e,n,r){return _(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?iv(t.config,i):`${t.config.apiScheme}://${i}`;return Aj.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function Nj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Vy=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ln(this.auth,"network-request-failed")),Rj.get())})}};function Wd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ln(t,e,r);return i.customData._tokenResponse=n,i}function nA(t){return t!==void 0&&t.enterprise!==void 0}var jy=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Nj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function Mj(t,e){return _(this,null,function*(){return cr(t,"GET","/v2/recaptchaConfig",Wr(t,e))})}function Pj(t,e){return _(this,null,function*(){return cr(t,"POST","/v1/accounts:delete",e)})}function Xd(t,e){return _(this,null,function*(){return cr(t,"POST","/v1/accounts:lookup",e)})}function gc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ov(t,e=!1){return _(this,null,function*(){let n=Me(t),r=yield n.getIdToken(e),i=sv(r);q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:gc(Oy(i.auth_time)),issuedAtTime:gc(Oy(i.iat)),expirationTime:gc(Oy(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Oy(t){return Number(t)*1e3}function sv(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Gd("JWT malformed, contained fewer than 3 sections"),null;try{let i=Vd(n);return i?JSON.parse(i):(Gd("Failed to decode base64 JWT payload"),null)}catch(i){return Gd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function rA(t){let e=sv(t);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function cs(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Ot&&xj(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function xj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Uy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var yc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gc(this.lastLoginAt),this.creationTime=gc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function eh(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield cs(t,Xd(n,{idToken:r}));q(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?EA(o.providerUserInfo):[],a=kj(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new yc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function av(t){return _(this,null,function*(){let e=Me(t);yield eh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function kj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function EA(t){return t.map(e=>{var{providerId:n}=e,r=Au(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Oj(t,e){return _(this,null,function*(){let n=yield _A(t,{},()=>_(null,null,function*(){let r=ts({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield IA(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Jd.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Lj(t,e){return _(this,null,function*(){return cr(t,"POST","/v2/accounts:revokeToken",Wr(t,e))})}var mc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){q(e.length!==0,"internal-error");let n=rA(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Oj(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(q(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(q(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(q(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return or("not implemented")}};function Hr(t,e){q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var zr=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Au(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Uy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new yc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield cs(this,this.stsTokenManager.getToken(this.auth,e));return q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return ov(this,e)}reload(){return av(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield eh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(ut(this.auth.app))return Promise.reject(Sn(this.auth));let e=yield this.getIdToken();return yield cs(this,Pj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=n.photoURL)!==null&&s!==void 0?s:void 0,R=(a=n.tenantId)!==null&&a!==void 0?a:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,O=(l=n.createdAt)!==null&&l!==void 0?l:void 0,$=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:K,emailVerified:Ee,isAnonymous:ft,providerData:ye,stsTokenManager:D}=n;q(K&&D,e,"internal-error");let v=mc.fromJSON(this.name,D);q(typeof K=="string",e,"internal-error"),Hr(p,e.name),Hr(m,e.name),q(typeof Ee=="boolean",e,"internal-error"),q(typeof ft=="boolean",e,"internal-error"),Hr(y,e.name),Hr(w,e.name),Hr(R,e.name),Hr(N,e.name),Hr(O,e.name),Hr($,e.name);let E=new t({uid:K,auth:e,email:m,emailVerified:Ee,displayName:p,isAnonymous:ft,photoURL:w,phoneNumber:y,tenantId:R,stsTokenManager:v,createdAt:O,lastLoginAt:$});return ye&&Array.isArray(ye)&&(E.providerData=ye.map(T=>Object.assign({},T))),N&&(E._redirectEventId=N),E}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new mc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield eh(o),o})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];q(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?EA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new mc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new yc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var iA=new Map;function sr(t){ar(t instanceof Function,"Expected a class definition");let e=iA.get(t);return e?(ar(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iA.set(t,e),e)}var Fj=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),By=Fj;function Kd(t,e,n){return`firebase:${t}:${e}:${n}`}var th=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Kd(this.userKey,i.apiKey,o),this.fullPersistenceKey=Kd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Xd(this.auth,{idToken:e}).catch(()=>{});return n?zr._fromGetAccountInfoResponse(this.auth,n,e):null}return zr._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(sr(By),e,r);let i=(yield Promise.all(n.map(l=>_(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||sr(By),s=Kd(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield Xd(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield zr._fromGetAccountInfoResponse(e,m,h)}else p=zr._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>_(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function oA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SA(e))return"Blackberry";if(AA(e))return"Webos";if(TA(e))return"Safari";if((e.includes("chrome/")||DA(e))&&!e.includes("edge/"))return"Chrome";if(CA(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function wA(t=Ge()){return/firefox\//i.test(t)}function TA(t=Ge()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DA(t=Ge()){return/crios\//i.test(t)}function bA(t=Ge()){return/iemobile/i.test(t)}function CA(t=Ge()){return/android/i.test(t)}function SA(t=Ge()){return/blackberry/i.test(t)}function AA(t=Ge()){return/webos/i.test(t)}function cv(t=Ge()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Vj(t=Ge()){var e;return cv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jj(){return kS()&&document.documentMode===10}function RA(t=Ge()){return cv(t)||CA(t)||AA(t)||SA(t)||/windows phone/i.test(t)||bA(t)}function NA(t,e=[]){let n;switch(t){case"Browser":n=oA(Ge());break;case"Worker":n=`${oA(Ge())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ur}/${r}`}var $y=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Uj(n){return _(this,arguments,function*(t,e={}){return cr(t,"GET","/v2/passwordPolicy",Wr(t,e))})}var Bj=6,Hy=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Bj,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var zy=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nh(this),this.idTokenSubscription=new nh(this),this.beforeStateQueue=new $y(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=sr(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield th.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield Xd(this,{idToken:e}),r=yield zr._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(ut(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield eh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Cj()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(ut(this.app))return Promise.reject(Sn(this));let n=e?Me(e):null;return n&&q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return ut(this.app)?Promise.reject(Sn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return ut(this.app)?Promise.reject(Sn(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(sr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield Uj(this),n=new Hy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new an("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Lj(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&sr(e)||this._popupRedirectResolver;q(n,this,"argument-error"),this.redirectPersistenceManager=yield th.create(this,[sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;if(ut(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&wj(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ur(t){return Me(t)}var nh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=VS(n=>this.observer=n)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var dh={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $j(t){dh=t}function MA(t){return dh.loadJS(t)}function Hj(){return dh.recaptchaEnterpriseScript}function zj(){return dh.gapiScript}function PA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var qy=class{constructor(){this.enterprise=new Wy}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},Wy=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var qj="recaptcha-enterprise",xA="NO_RECAPTCHA",Gy=class{constructor(e){this.type=qj,this.auth=ur(e)}verify(e="verify",n=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(null,null,function*(){Mj(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new jy(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;nA(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(xA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qy().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&nA(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Hj();u.length!==0&&(u+=a),MA(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function pc(t,e,n,r=!1,i=!1){return _(this,null,function*(){let o=new Gy(t),s;if(i)s=xA;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}let a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function Ky(t,e,n,r,i){return _(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield pc(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(a=>_(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield pc(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield pc(t,e,n);return r(t,a).catch(u=>_(null,null,function*(){var l;if(((l=t._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let h=yield pc(t,e,n,!1,!0);return r(t,h)}return Promise.reject(u)}))}else{let a=yield pc(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")})}function uv(t,e){let n=is(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(cn(o,e??{}))return i;qt(i,"already-initialized")}return n.initialize({options:e})}function Wj(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(sr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function lv(t,e,n){let r=ur(t);q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=kA(e),{host:s,port:a}=Gj(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){q(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),q(cn(l,r.config.emulator)&&cn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,xi(s)?(Ud(`${o}//${s}${u}`),Bd("Auth",!0)):i||Kj()}function kA(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Gj(t){let e=kA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:sA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:sA(s)}}}function sA(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Kj(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var us=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,n){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}};function Qj(t,e){return _(this,null,function*(){return cr(t,"POST","/v1/accounts:signUp",e)})}function Yj(t,e){return _(this,null,function*(){return Ec(t,"POST","/v1/accounts:signInWithPassword",Wr(t,e))})}function Zj(t,e){return _(this,null,function*(){return Ec(t,"POST","/v1/accounts:signInWithEmailLink",Wr(t,e))})}function Jj(t,e){return _(this,null,function*(){return Ec(t,"POST","/v1/accounts:signInWithEmailLink",Wr(t,e))})}var vc=class t extends us{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ky(e,n,"signInWithPassword",Yj,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Zj(e,{email:this._email,oobCode:this._password});default:qt(e,"internal-error")}})}_linkToIdToken(e,n){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ky(e,r,"signUpPassword",Qj,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Jj(e,{idToken:n,email:this._email,oobCode:this._password});default:qt(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function as(t,e){return _(this,null,function*(){return Ec(t,"POST","/v1/accounts:signInWithIdp",Wr(t,e))})}var Xj="http://localhost",rh=class t extends us{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Au(n,["providerId","signInMethod"]);if(!r||!i)return null;let s=new t(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let n=this.buildRequest();return as(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,as(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,as(e,n)}buildRequest(){let e={requestUri:Xj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ts(n)}return e}};function eU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tU(t){let e=ns(rs(t)).link,n=e?ns(rs(e)).deep_link_id:null,r=ns(rs(t)).deep_link_id;return(r?ns(rs(r)).link:null)||r||n||e||t}var ih=class t{constructor(e){var n,r,i,o,s,a;let u=ns(rs(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=eU((i=u.mode)!==null&&i!==void 0?i:null);q(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=tU(e);try{return new t(n)}catch{return null}}};var OA=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return vc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=ih.parseLink(r);return q(i,"argument-error"),vc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),_c=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var oh=class extends _c{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var nU=(()=>{class t extends oh{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return rh._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();function LA(t,e){return _(this,null,function*(){return Ec(t,"POST","/v1/accounts:signUp",Wr(t,e))})}var qr=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let o=yield zr._fromIdTokenResponse(e,r,i),s=aA(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=aA(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function aA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}function FA(t){return _(this,null,function*(){var e;if(ut(t.app))return Promise.reject(Sn(t));let n=ur(t);if(yield n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new qr({user:n.currentUser,providerId:null,operationType:"signIn"});let r=yield LA(n,{returnSecureToken:!0}),i=yield qr._fromIdTokenResponse(n,"signIn",r,!0);return yield n._updateCurrentUser(i.user),i})}var Qy=class t extends Ot{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function VA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Qy._fromErrorAndOperation(t,o,e,r):o})}function rU(t,e,n=!1){return _(this,null,function*(){let r=yield cs(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return qr._forOperation(t,"link",r)})}function iU(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if(ut(r.app))return Promise.reject(Sn(r));let i="reauthenticate";try{let o=yield cs(t,VA(r,i,e,t),n);q(o.idToken,r,"internal-error");let s=sv(o.idToken);q(s,r,"internal-error");let{sub:a}=s;return q(t.uid===a,r,"user-mismatch"),qr._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&qt(r,"user-mismatch"),o}})}function jA(t,e,n=!1){return _(this,null,function*(){if(ut(t.app))return Promise.reject(Sn(t));let r="signIn",i=yield VA(t,r,e),o=yield qr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function dv(t,e){return _(this,null,function*(){return jA(ur(t),e)})}function UA(t){return _(this,null,function*(){let e=ur(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function hv(t,e,n){return _(this,null,function*(){if(ut(t.app))return Promise.reject(Sn(t));let r=ur(t),s=yield Ky(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",LA,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&UA(t),u}),a=yield qr._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function fv(t,e,n){return ut(t.app)?Promise.reject(Sn(t)):dv(Me(t),OA.credential(e,n)).catch(r=>_(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&UA(t),r}))}function oU(t,e){return _(this,null,function*(){return cr(t,"POST","/v1/accounts:update",e)})}function pv(r,i){return _(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let o=Me(t),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=yield cs(o,oU(o.auth,a));o.displayName=u.displayName||null,o.photoURL=u.photoUrl||null;let l=o.providerData.find(({providerId:h})=>h==="password");l&&(l.displayName=o.displayName,l.photoURL=o.photoURL),yield o._updateTokensIfNecessary(u)})}function gv(t,e,n,r){return Me(t).onIdTokenChanged(e,n,r)}function mv(t,e,n){return Me(t).beforeAuthStateChanged(e,n)}function yv(t,e,n,r){return Me(t).onAuthStateChanged(e,n,r)}var sh="__sak";var ah=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var sU=1e3,aU=10,cU=(()=>{class t extends ah{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RA(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);jj()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,aU):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},sU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield Er(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield Er(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield Er(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),BA=cU;var uU=(()=>{class t extends ah{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),vv=uU;function lU(t){return Promise.all(t.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var dU=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield lU(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function _v(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Yy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=_v("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function An(){return window}function hU(t){An().location.href=t}function $A(){return typeof An().WorkerGlobalScope<"u"&&typeof An().importScripts=="function"}function fU(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function pU(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function gU(){return $A()?self:null}var HA="firebaseLocalStorageDb",mU=1,ch="firebaseLocalStorage",zA="fbase_key",ji=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function hh(t,e){return t.transaction([ch],e?"readwrite":"readonly").objectStore(ch)}function yU(){let t=indexedDB.deleteDatabase(HA);return new ji(t).toPromise()}function Zy(){let t=indexedDB.open(HA,mU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(ch,{keyPath:zA})}catch(i){n(i)}}),t.addEventListener("success",()=>_(null,null,function*(){let r=t.result;r.objectStoreNames.contains(ch)?e(r):(r.close(),yield yU(),e(yield Zy()))}))})}function cA(t,e,n){return _(this,null,function*(){let r=hh(t,!0).put({[zA]:e,value:n});return new ji(r).toPromise()})}function vU(t,e){return _(this,null,function*(){let n=hh(t,!1).get(e),r=yield new ji(n).toPromise();return r===void 0?null:r.value})}function uA(t,e){let n=hh(t,!0).delete(e);return new ji(n).toPromise()}var _U=800,IU=3,EU=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield Zy(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>IU)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return $A()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=dU._getInstance(gU()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield fU(),!this.activeServiceWorker)return;this.sender=new Yy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||pU()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Zy();return yield cA(n,sh,"1"),yield uA(n,sh),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>cA(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>vU(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>uA(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(o=>{let s=hh(o,!1).getAll();return new ji(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),_U)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),qA=EU;var iQ=PA("rcb"),oQ=new Vi(3e4,6e4);function WA(t,e){return e?sr(e):(q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Ic=class extends us{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return as(e,this._buildIdpRequest())}_linkToIdToken(e,n){return as(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return as(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function wU(t){return jA(t.auth,new Ic(t),t.bypassAuthState)}function TU(t){let{auth:e,user:n}=t;return q(n,e,"internal-error"),iU(n,new Ic(t),t.bypassAuthState)}function DU(t){return _(this,null,function*(){let{auth:e,user:n}=t;return q(n,e,"internal-error"),rU(n,new Ic(t),t.bypassAuthState)})}var uh=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wU;case"linkViaPopup":case"linkViaRedirect":return DU;case"reauthViaPopup":case"reauthViaRedirect":return TU;default:qt(this.auth,"internal-error")}}resolve(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var bU=new Vi(2e3,1e4);function GA(t,e,n){return _(this,null,function*(){if(ut(t.app))return Promise.reject(ln(t,"operation-not-supported-in-this-environment"));let r=ur(t);Tj(t,e,_c);let i=WA(r,n);return new CU(r,"signInViaPopup",e,i).executeNotNull()})}var CU=(()=>{class t extends uh{constructor(n,r,i,o,s){super(n,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return _(this,null,function*(){let n=yield this.execute();return q(n,this.auth,"internal-error"),n})}onExecution(){return _(this,null,function*(){ar(this.filter.length===1,"Popup operations only handle one event");let n=_v();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,bU.get())};n()}}t.currentPopupAction=null;return t})(),SU="pendingRedirect",Qd=new Map,Jy=class t extends uh{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=Qd.get(this.auth._key());if(!e){try{let r=(yield AU(this.resolver,this.auth))?yield Er(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qd.set(this.auth._key(),e)}return this.bypassAuthState||Qd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return Er(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Er(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function AU(t,e){return _(this,null,function*(){let n=MU(e),r=NU(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function RU(t,e){Qd.set(t._key(),e)}function NU(t){return sr(t._redirectPersistence)}function MU(t){return Kd(SU,t.config.apiKey,t.name)}function PU(t,e,n=!1){return _(this,null,function*(){if(ut(t.app))return Promise.reject(Sn(t));let r=ur(t),i=WA(r,e),s=yield new Jy(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var xU=10*60*1e3,Xy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!KA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ln(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xU&&this.cachedEventUids.clear(),this.cachedEventUids.has(lA(e))}saveEventToCache(e){this.cachedEventUids.add(lA(e)),this.lastProcessedEventTime=Date.now()}};function lA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function KA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function kU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KA(t);default:return!1}}function OU(n){return _(this,arguments,function*(t,e={}){return cr(t,"GET","/v1/projects",e)})}var LU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FU=/^https?/;function VU(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield OU(t);for(let n of e)try{if(jU(n))return}catch{}qt(t,"unauthorized-domain")})}function jU(t){let e=Fy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!FU.test(n))return!1;if(LU.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var UU=new Vi(3e4,6e4);function dA(){let t=An().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function BU(t){return new Promise((e,n)=>{var r,i,o;function s(){dA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dA(),n(ln(t,"network-request-failed"))},timeout:UU.get()})}if(!((i=(r=An().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=An().gapi)===null||o===void 0)&&o.load)s();else{let a=PA("iframefcb");return An()[a]=()=>{gapi.load?s():n(ln(t,"network-request-failed"))},MA(`${zj()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Yd=null,e})}var Yd=null;function $U(t){return Yd=Yd||BU(t),Yd}var HU=new Vi(5e3,15e3),zU="__/auth/iframe",qU="emulator/auth/iframe",WU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KU(t){let e=t.config;q(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?iv(e,qU):`https://${t.config.authDomain}/${zU}`,r={apiKey:e.apiKey,appName:t.name,v:Ur},i=GU.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ts(r).slice(1)}`}function QU(t){return _(this,null,function*(){let e=yield $U(t),n=An().gapi;return q(n,t,"internal-error"),e.open({where:document.body,url:KU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WU,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=ln(t,"network-request-failed"),a=An().setTimeout(()=>{o(s)},HU.get());function u(){An().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var YU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZU=500,JU=600,XU="_blank",eB="http://localhost",lh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function tB(t,e,n,r=ZU,i=JU){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},YU),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Ge().toLowerCase();n&&(a=DA(l)?XU:n),wA(l)&&(e=e||eB,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,w])=>`${m}${y}=${w},`,"");if(Vj(l)&&a!=="_self")return nB(e||"",a),new lh(null);let p=window.open(e||"",a,h);q(p,t,"popup-blocked");try{p.focus()}catch{}return new lh(p)}function nB(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var rB="__/auth/handler",iB="emulator/auth/handler",oB=encodeURIComponent("fac");function hA(t,e,n,r,i,o){return _(this,null,function*(){q(t.config.authDomain,t,"auth-domain-config-required"),q(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ur,eventId:i};if(e instanceof _c){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",FS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof oh){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${oB}=${encodeURIComponent(u)}`:"";return`${sB(t)}?${ts(a).slice(1)}${l}`})}function sB({config:t}){return t.emulator?iv(t,iB):`https://${t.authDomain}/${rB}`}var Ly="webStorageSupport",ev=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vv,this._completeRedirectFn=PU,this._overrideRedirectResult=RU}_openPopup(e,n,r,i){return _(this,null,function*(){var o;ar((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield hA(e,n,r,Fy(),i);return tB(e,s,_v())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield hA(e,n,r,Fy(),i);return hU(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ar(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield QU(e),r=new Xy(e);return n.register("authEvent",i=>(q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ly,{type:Ly},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Ly];s!==void 0&&n(!!s),qt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return RA()||TA()||cv()}},QA=ev;var fA="@firebase/auth",pA="1.10.6";var tv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function aB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cB(t){un(new It("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;q(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NA(t)},l=new zy(r,i,o,u);return Wj(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),un(new It("auth-internal",e=>{let n=ur(e.getProvider("auth").getImmediate());return(r=>new tv(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pe(fA,pA,aB(t)),Pe(fA,pA,"esm2017")}var uB=5*60,lB=vy("authIdTokenMaxAge")||uB,gA=null,dB=t=>e=>_(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>lB)return;let i=n?.token;gA!==i&&(gA=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Iv(t=Oi()){let e=is(t,"auth");if(e.isInitialized())return e.getImmediate();let n=uv(t,{popupRedirectResolver:QA,persistence:[qA,BA,vv]}),r=vy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=dB(o.toString());mv(n,s,()=>s(n.currentUser)),gv(n,a=>s(a))}}let i=my("auth");return i&&lv(n,`http://${i}`),n}function hB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}$j({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=ln("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",hB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cB("Browser");var JB=new Map,XB={activated:!1,tokenObservers:[]},e$={initialized:!1,enabled:!1};function dn(t){return JB.get(t)||Object.assign({},XB)}function XA(){return e$}var t$="https://content-firebaseappcheck.googleapis.com/v1";var n$="exchangeDebugToken",YA={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},$Q=24*60*60*1e3;var Tv=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new Pi,this.pending.promise.catch(n=>{}),yield r$(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Pi,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function r$(t){return new Promise(e=>{setTimeout(e,t)})}var i$={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Gr=new an("appCheck","AppCheck",i$);function e0(t){if(!dn(t).activated)throw Gr.create("use-before-activation",{appName:t.name})}function t0(r,i){return _(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,a)}catch(y){throw Gr.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw Gr.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw Gr.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Gr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function n0(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${t$}/projects/${n}/apps/${r}:${n$}?key=${i}`,body:{debug_token:e}}}var o$="firebase-app-check-database",s$=1,Dv="firebase-app-check-store";var fh=null;function a$(){return fh||(fh=new Promise((t,e)=>{try{let n=indexedDB.open(o$,s$);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Gr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Dv,{keyPath:"compositeKey"})}}}catch(n){e(Gr.create("storage-open",{originalErrorMessage:n?.message}))}}),fh)}function c$(t,e){return u$(l$(t),e)}function u$(t,e){return _(this,null,function*(){let r=(yield a$()).transaction(Dv,"readwrite"),o=r.objectStore(Dv).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Gr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function l$(t){return`${t.options.appId}-${t.name}`}var wc=new bn("@firebase/app-check");function Ev(t,e){return lc()?c$(t,e).catch(n=>{wc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function r0(){return XA().enabled}function i0(){return _(this,null,function*(){let t=XA();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var d$={error:"UNKNOWN_ERROR"};function h$(t){return Fd.encodeString(JSON.stringify(t),!1)}function bv(t,e=!1,n=!1){return _(this,null,function*(){let r=t.app;e0(r);let i=dn(r),o=i.token,s;if(o&&!Tc(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Tc(l)?o=l:yield Ev(r,void 0))}if(!e&&o&&Tc(o))return{token:o.token};let a=!1;if(r0())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=t0(n0(r,yield i0()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield Ev(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?wc.warn(l.message):n&&wc.error(l),wv(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield dn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?wc.warn(l.message):n&&wc.error(l),s=l}let u;return o?s?Tc(o)?u={token:o.token,internalError:s}:u=wv(s):(u={token:o.token},i.token=o,yield Ev(r,o)):u=wv(s),a&&m$(r,u),u})}function f$(t){return _(this,null,function*(){let e=t.app;e0(e);let{provider:n}=dn(e);if(r0()){let r=yield i0(),{token:i}=yield t0(n0(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function p$(t,e,n,r){let{app:i}=t,o=dn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Tc(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),ZA(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>ZA(t))}function o0(t,e){let n=dn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function ZA(t){let{app:e}=t,n=dn(e),r=n.tokenRefresher;r||(r=g$(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function g$(t){let{app:e}=t;return new Tv(()=>_(null,null,function*(){let n=dn(e),r;if(n.token?r=yield bv(t,!0):r=yield bv(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=dn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},YA.RETRIAL_MIN_WAIT,YA.RETRIAL_MAX_WAIT)}function m$(t,e){let n=dn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Tc(t){return t.expireTimeMillis-Date.now()>0}function wv(t){return{token:h$(d$),error:t}}var Cv=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=dn(this.app);for(let n of e)o0(this.app,n.next);return Promise.resolve()}};function y$(t,e){return new Cv(t,e)}function v$(t){return{getToken:e=>bv(t,e),getLimitedUseToken:()=>f$(t),addTokenListener:e=>p$(t,"INTERNAL",e),removeTokenListener:e=>o0(t.app,e)}}var _$="@firebase/app-check",I$="0.10.0";var E$="app-check",JA="app-check-internal";function w$(){un(new It(E$,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return y$(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(JA).initialize()})),un(new It(JA,t=>{let e=t.getProvider("app-check").getImmediate();return v$(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Pe(_$,I$)}w$();var T$="app-check";var ls=class{constructor(){return ss(T$)}};var D$=["localhost","0.0.0.0","127.0.0.1"],tY=typeof window<"u"&&D$.includes(window.location.hostname);var s0="auth",Dc=class{constructor(e){return e}},bc=class{constructor(){return ss(s0)}};var Sv=new U("angularfire2.auth-instances");function b$(t,e){let n=fc(s0,t,e);return n&&new Dc(n)}function C$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Dc(r)}}var S$={provide:bc,deps:[[new Ut,Sv]]},A$={provide:Dc,useFactory:b$,deps:[[new Ut,Sv],ir]};function dY(t,...e){return Pe("angularfire",Br.full,"auth"),In([A$,S$,{provide:Sv,useFactory:C$(t),multi:!0,deps:[fe,ze,$r,Fi,[new Ut,ls],...e]}])}var hY=Ke(hv,!0,2);var fY=Ke(Iv,!0);var pY=Ke(yv,!0);var gY=Ke(fv,!0,2);var mY=Ke(pv,!0,2);var a0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},c0={};var lr,Av;(function(){var t;function e(D,v){function E(){}E.prototype=v.prototype,D.D=v.prototype,D.prototype=new E,D.prototype.constructor=D,D.C=function(T,b,S){for(var I=Array(arguments.length-2),Fn=2;Fn<arguments.length;Fn++)I[Fn-2]=arguments[Fn];return v.prototype[b].apply(T,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,E){E||(E=0);var T=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)T[b]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(b=0;16>b;++b)T[b]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=D.g[0],E=D.g[1],b=D.g[2];var S=D.g[3],I=v+(S^E&(b^S))+T[0]+3614090360&4294967295;v=E+(I<<7&4294967295|I>>>25),I=S+(b^v&(E^b))+T[1]+3905402710&4294967295,S=v+(I<<12&4294967295|I>>>20),I=b+(E^S&(v^E))+T[2]+606105819&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(v^b&(S^v))+T[3]+3250441966&4294967295,E=b+(I<<22&4294967295|I>>>10),I=v+(S^E&(b^S))+T[4]+4118548399&4294967295,v=E+(I<<7&4294967295|I>>>25),I=S+(b^v&(E^b))+T[5]+1200080426&4294967295,S=v+(I<<12&4294967295|I>>>20),I=b+(E^S&(v^E))+T[6]+2821735955&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(v^b&(S^v))+T[7]+4249261313&4294967295,E=b+(I<<22&4294967295|I>>>10),I=v+(S^E&(b^S))+T[8]+1770035416&4294967295,v=E+(I<<7&4294967295|I>>>25),I=S+(b^v&(E^b))+T[9]+2336552879&4294967295,S=v+(I<<12&4294967295|I>>>20),I=b+(E^S&(v^E))+T[10]+4294925233&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(v^b&(S^v))+T[11]+2304563134&4294967295,E=b+(I<<22&4294967295|I>>>10),I=v+(S^E&(b^S))+T[12]+1804603682&4294967295,v=E+(I<<7&4294967295|I>>>25),I=S+(b^v&(E^b))+T[13]+4254626195&4294967295,S=v+(I<<12&4294967295|I>>>20),I=b+(E^S&(v^E))+T[14]+2792965006&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(v^b&(S^v))+T[15]+1236535329&4294967295,E=b+(I<<22&4294967295|I>>>10),I=v+(b^S&(E^b))+T[1]+4129170786&4294967295,v=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(v^E))+T[6]+3225465664&4294967295,S=v+(I<<9&4294967295|I>>>23),I=b+(v^E&(S^v))+T[11]+643717713&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^v&(b^S))+T[0]+3921069994&4294967295,E=b+(I<<20&4294967295|I>>>12),I=v+(b^S&(E^b))+T[5]+3593408605&4294967295,v=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(v^E))+T[10]+38016083&4294967295,S=v+(I<<9&4294967295|I>>>23),I=b+(v^E&(S^v))+T[15]+3634488961&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^v&(b^S))+T[4]+3889429448&4294967295,E=b+(I<<20&4294967295|I>>>12),I=v+(b^S&(E^b))+T[9]+568446438&4294967295,v=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(v^E))+T[14]+3275163606&4294967295,S=v+(I<<9&4294967295|I>>>23),I=b+(v^E&(S^v))+T[3]+4107603335&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^v&(b^S))+T[8]+1163531501&4294967295,E=b+(I<<20&4294967295|I>>>12),I=v+(b^S&(E^b))+T[13]+2850285829&4294967295,v=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(v^E))+T[2]+4243563512&4294967295,S=v+(I<<9&4294967295|I>>>23),I=b+(v^E&(S^v))+T[7]+1735328473&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^v&(b^S))+T[12]+2368359562&4294967295,E=b+(I<<20&4294967295|I>>>12),I=v+(E^b^S)+T[5]+4294588738&4294967295,v=E+(I<<4&4294967295|I>>>28),I=S+(v^E^b)+T[8]+2272392833&4294967295,S=v+(I<<11&4294967295|I>>>21),I=b+(S^v^E)+T[11]+1839030562&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^v)+T[14]+4259657740&4294967295,E=b+(I<<23&4294967295|I>>>9),I=v+(E^b^S)+T[1]+2763975236&4294967295,v=E+(I<<4&4294967295|I>>>28),I=S+(v^E^b)+T[4]+1272893353&4294967295,S=v+(I<<11&4294967295|I>>>21),I=b+(S^v^E)+T[7]+4139469664&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^v)+T[10]+3200236656&4294967295,E=b+(I<<23&4294967295|I>>>9),I=v+(E^b^S)+T[13]+681279174&4294967295,v=E+(I<<4&4294967295|I>>>28),I=S+(v^E^b)+T[0]+3936430074&4294967295,S=v+(I<<11&4294967295|I>>>21),I=b+(S^v^E)+T[3]+3572445317&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^v)+T[6]+76029189&4294967295,E=b+(I<<23&4294967295|I>>>9),I=v+(E^b^S)+T[9]+3654602809&4294967295,v=E+(I<<4&4294967295|I>>>28),I=S+(v^E^b)+T[12]+3873151461&4294967295,S=v+(I<<11&4294967295|I>>>21),I=b+(S^v^E)+T[15]+530742520&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^v)+T[2]+3299628645&4294967295,E=b+(I<<23&4294967295|I>>>9),I=v+(b^(E|~S))+T[0]+4096336452&4294967295,v=E+(I<<6&4294967295|I>>>26),I=S+(E^(v|~b))+T[7]+1126891415&4294967295,S=v+(I<<10&4294967295|I>>>22),I=b+(v^(S|~E))+T[14]+2878612391&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~v))+T[5]+4237533241&4294967295,E=b+(I<<21&4294967295|I>>>11),I=v+(b^(E|~S))+T[12]+1700485571&4294967295,v=E+(I<<6&4294967295|I>>>26),I=S+(E^(v|~b))+T[3]+2399980690&4294967295,S=v+(I<<10&4294967295|I>>>22),I=b+(v^(S|~E))+T[10]+4293915773&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~v))+T[1]+2240044497&4294967295,E=b+(I<<21&4294967295|I>>>11),I=v+(b^(E|~S))+T[8]+1873313359&4294967295,v=E+(I<<6&4294967295|I>>>26),I=S+(E^(v|~b))+T[15]+4264355552&4294967295,S=v+(I<<10&4294967295|I>>>22),I=b+(v^(S|~E))+T[6]+2734768916&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~v))+T[13]+1309151649&4294967295,E=b+(I<<21&4294967295|I>>>11),I=v+(b^(E|~S))+T[4]+4149444226&4294967295,v=E+(I<<6&4294967295|I>>>26),I=S+(E^(v|~b))+T[11]+3174756917&4294967295,S=v+(I<<10&4294967295|I>>>22),I=b+(v^(S|~E))+T[2]+718787259&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~v))+T[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(b+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+b&4294967295,D.g[3]=D.g[3]+S&4294967295}r.prototype.u=function(D,v){v===void 0&&(v=D.length);for(var E=v-this.blockSize,T=this.B,b=this.h,S=0;S<v;){if(b==0)for(;S<=E;)i(this,D,S),S+=this.blockSize;if(typeof D=="string"){for(;S<v;)if(T[b++]=D.charCodeAt(S++),b==this.blockSize){i(this,T),b=0;break}}else for(;S<v;)if(T[b++]=D[S++],b==this.blockSize){i(this,T),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var E=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=E&255,E/=256;for(this.u(D),D=Array(16),v=E=0;4>v;++v)for(var T=0;32>T;T+=8)D[E++]=this.g[v]>>>T&255;return D};function o(D,v){var E=a;return Object.prototype.hasOwnProperty.call(E,D)?E[D]:E[D]=v(D)}function s(D,v){this.h=v;for(var E=[],T=!0,b=D.length-1;0<=b;b--){var S=D[b]|0;T&&S==v||(E[b]=S,T=!1)}this.g=E}var a={};function u(D){return-128<=D&&128>D?o(D,function(v){return new s([v|0],0>v?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return N(l(-D));for(var v=[],E=1,T=0;D>=E;T++)v[T]=D/E|0,E*=4294967296;return new s(v,0)}function h(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return N(h(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),T=p,b=0;b<D.length;b+=8){var S=Math.min(8,D.length-b),I=parseInt(D.substring(b,b+S),v);8>S?(S=l(Math.pow(v,S)),T=T.j(S).add(l(I))):(T=T.j(E),T=T.add(l(I)))}return T}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(R(this))return-N(this).m();for(var D=0,v=1,E=0;E<this.g.length;E++){var T=this.i(E);D+=(0<=T?T:4294967296+T)*v,v*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(w(this))return"0";if(R(this))return"-"+N(this).toString(D);for(var v=l(Math.pow(D,6)),E=this,T="";;){var b=Ee(E,v).g;E=O(E,b.j(v));var S=((0<E.g.length?E.g[0]:E.h)>>>0).toString(D);if(E=b,w(E))return S+T;for(;6>S.length;)S="0"+S;T=S+T}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function w(D){if(D.h!=0)return!1;for(var v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function R(D){return D.h==-1}t.l=function(D){return D=O(this,D),R(D)?-1:w(D)?0:1};function N(D){for(var v=D.g.length,E=[],T=0;T<v;T++)E[T]=~D.g[T];return new s(E,~D.h).add(m)}t.abs=function(){return R(this)?N(this):this},t.add=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],T=0,b=0;b<=v;b++){var S=T+(this.i(b)&65535)+(D.i(b)&65535),I=(S>>>16)+(this.i(b)>>>16)+(D.i(b)>>>16);T=I>>>16,S&=65535,I&=65535,E[b]=I<<16|S}return new s(E,E[E.length-1]&-2147483648?-1:0)};function O(D,v){return D.add(N(v))}t.j=function(D){if(w(this)||w(D))return p;if(R(this))return R(D)?N(this).j(N(D)):N(N(this).j(D));if(R(D))return N(this.j(N(D)));if(0>this.l(y)&&0>D.l(y))return l(this.m()*D.m());for(var v=this.g.length+D.g.length,E=[],T=0;T<2*v;T++)E[T]=0;for(T=0;T<this.g.length;T++)for(var b=0;b<D.g.length;b++){var S=this.i(T)>>>16,I=this.i(T)&65535,Fn=D.i(b)>>>16,Ls=D.i(b)&65535;E[2*T+2*b]+=I*Ls,$(E,2*T+2*b),E[2*T+2*b+1]+=S*Ls,$(E,2*T+2*b+1),E[2*T+2*b+1]+=I*Fn,$(E,2*T+2*b+1),E[2*T+2*b+2]+=S*Fn,$(E,2*T+2*b+2)}for(T=0;T<v;T++)E[T]=E[2*T+1]<<16|E[2*T];for(T=v;T<2*v;T++)E[T]=0;return new s(E,0)};function $(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function K(D,v){this.g=D,this.h=v}function Ee(D,v){if(w(v))throw Error("division by zero");if(w(D))return new K(p,p);if(R(D))return v=Ee(N(D),v),new K(N(v.g),N(v.h));if(R(v))return v=Ee(D,N(v)),new K(N(v.g),v.h);if(30<D.g.length){if(R(D)||R(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,T=v;0>=T.l(D);)E=ft(E),T=ft(T);var b=ye(E,1),S=ye(T,1);for(T=ye(T,2),E=ye(E,2);!w(T);){var I=S.add(T);0>=I.l(D)&&(b=b.add(E),S=I),T=ye(T,1),E=ye(E,1)}return v=O(D,b.j(v)),new K(b,v)}for(b=p;0<=D.l(v);){for(E=Math.max(1,Math.floor(D.m()/v.m())),T=Math.ceil(Math.log(E)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),S=l(E),I=S.j(v);R(I)||0<I.l(D);)E-=T,S=l(E),I=S.j(v);w(S)&&(S=m),b=b.add(S),D=O(D,I)}return new K(b,D)}t.A=function(D){return Ee(this,D).h},t.and=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],T=0;T<v;T++)E[T]=this.i(T)&D.i(T);return new s(E,this.h&D.h)},t.or=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],T=0;T<v;T++)E[T]=this.i(T)|D.i(T);return new s(E,this.h|D.h)},t.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],T=0;T<v;T++)E[T]=this.i(T)^D.i(T);return new s(E,this.h^D.h)};function ft(D){for(var v=D.g.length+1,E=[],T=0;T<v;T++)E[T]=D.i(T)<<1|D.i(T-1)>>>31;return new s(E,D.h)}function ye(D,v){var E=v>>5;v%=32;for(var T=D.g.length-E,b=[],S=0;S<T;S++)b[S]=0<v?D.i(S+E)>>>v|D.i(S+E+1)<<32-v:D.i(S+E);return new s(b,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Av=c0.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,lr=c0.Integer=s}).apply(typeof a0<"u"?a0:typeof self<"u"?self:typeof window<"u"?window:{});var ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dr={};var Rv,R$,ds,Nv,Cc,gh,Mv,Pv,xv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ph=="object"&&ph];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var C=c[g];if(!(C in f))break e;f=f[C]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,C={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function w(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,C,A){for(var k=Array(arguments.length-2),we=2;we<arguments.length;we++)k[we-2]=arguments[we];return d.prototype[C].apply(g,k)}}function R(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function N(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=c.length||0,A=g.length||0;c.length=C+A;for(let k=0;k<A;k++)c[C+k]=g[k]}else c.push(g)}}class O{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function $(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Ee(c){return Ee[" "](c),c}Ee[" "]=function(){};var ft=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function ye(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(c,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)c[f]=g[f];for(let A=0;A<E.length;A++)f=E[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function I(){var c=If;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Fn{constructor(){this.h=this.g=null}add(d,f){let g=Ls.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Ls=new O(()=>new BN,c=>c.reset());class BN{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Fs,Vs=!1,If=new Fn,tE=()=>{let c=a.Promise.resolve(void 0);Fs=()=>{c.then($N)}};var $N=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){S(f)}var d=Ls;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Vs=!1};function yr(){this.s=this.s,this.C=this.C}yr.prototype.s=!1,yr.prototype.ma=function(){this.s||(this.s=!0,this.N())},yr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var HN=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function js(c,d){if(tt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(ft){e:{try{Ee(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:zN[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&js.aa.h.call(this)}}w(js,tt);var zN={2:"touch",3:"pen",4:"mouse"};js.prototype.h=function(){js.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Us="closure_listenable_"+(1e6*Math.random()|0),qN=0;function WN(c,d,f,g,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++qN,this.da=this.fa=!1}function Kc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Qc(c){this.src=c,this.g={},this.h=0}Qc.prototype.add=function(c,d,f,g,C){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var k=wf(c,d,g,C);return-1<k?(d=c[k],f||(d.fa=!1)):(d=new WN(d,this.src,A,!!g,C),d.fa=f,c.push(d)),d};function Ef(c,d){var f=d.type;if(f in c.g){var g=c.g[f],C=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(g,C,1),A&&(Kc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function wf(c,d,f,g){for(var C=0;C<c.length;++C){var A=c[C];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return C}return-1}var Tf="closure_lm_"+(1e6*Math.random()|0),Df={};function nE(c,d,f,g,C){if(g&&g.once)return iE(c,d,f,g,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)nE(c,d[A],f,g,C);return null}return f=Af(f),c&&c[Us]?c.K(d,f,l(g)?!!g.capture:!!g,C):rE(c,d,f,!1,g,C)}function rE(c,d,f,g,C,A){if(!d)throw Error("Invalid event type");var k=l(C)?!!C.capture:!!C,we=Cf(c);if(we||(c[Tf]=we=new Qc(c)),f=we.add(d,f,g,k,A),f.proxy)return f;if(g=GN(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)HN||(C=k),C===void 0&&(C=!1),c.addEventListener(d.toString(),g,C);else if(c.attachEvent)c.attachEvent(sE(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function GN(){function c(f){return d.call(c.src,c.listener,f)}let d=KN;return c}function iE(c,d,f,g,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)iE(c,d[A],f,g,C);return null}return f=Af(f),c&&c[Us]?c.L(d,f,l(g)?!!g.capture:!!g,C):rE(c,d,f,!0,g,C)}function oE(c,d,f,g,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)oE(c,d[A],f,g,C);else g=l(g)?!!g.capture:!!g,f=Af(f),c&&c[Us]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=wf(A,f,g,C),-1<f&&(Kc(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=Cf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=wf(d,f,g,C)),(f=-1<c?d[c]:null)&&bf(f))}function bf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Us])Ef(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(sE(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Cf(d))?(Ef(f,c),f.h==0&&(f.src=null,d[Tf]=null)):Kc(c)}}}function sE(c){return c in Df?Df[c]:Df[c]="on"+c}function KN(c,d){if(c.da)c=!0;else{d=new js(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&bf(c),c=f.call(g,d)}return c}function Cf(c){return c=c[Tf],c instanceof Qc?c:null}var Sf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Af(c){return typeof c=="function"?c:(c[Sf]||(c[Sf]=function(d){return c.handleEvent(d)}),c[Sf])}function nt(){yr.call(this),this.i=new Qc(this),this.M=this,this.F=null}w(nt,yr),nt.prototype[Us]=!0,nt.prototype.removeEventListener=function(c,d,f,g){oE(this,c,d,f,g)};function pt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new tt(d,c);else if(d instanceof tt)d.target=d.target||c;else{var C=d;d=new tt(g,c),T(d,C)}if(C=!0,f)for(var A=f.length-1;0<=A;A--){var k=d.g=f[A];C=Yc(k,g,!0,d)&&C}if(k=d.g=c,C=Yc(k,g,!0,d)&&C,C=Yc(k,g,!1,d)&&C,f)for(A=0;A<f.length;A++)k=d.g=f[A],C=Yc(k,g,!1,d)&&C}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Kc(f[g]);delete c.g[d],c.h--}}this.F=null},nt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},nt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Yc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var k=d[A];if(k&&!k.da&&k.capture==f){var we=k.listener,Ze=k.ha||k.src;k.fa&&Ef(c.i,k),C=we.call(Ze,g)!==!1&&C}}return C&&!g.defaultPrevented}function aE(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function cE(c){c.g=aE(()=>{c.g=null,c.i&&(c.i=!1,cE(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class QN extends yr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:cE(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bs(c){yr.call(this),this.h=c,this.g={}}w(Bs,yr);var uE=[];function lE(c){ye(c.g,function(d,f){this.g.hasOwnProperty(f)&&bf(d)},c),c.g={}}Bs.prototype.N=function(){Bs.aa.N.call(this),lE(this)},Bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rf=a.JSON.stringify,YN=a.JSON.parse,ZN=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Nf(){}Nf.prototype.h=null;function dE(c){return c.h||(c.h=c.i())}function hE(){}var $s={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mf(){tt.call(this,"d")}w(Mf,tt);function Pf(){tt.call(this,"c")}w(Pf,tt);var ti={},fE=null;function Zc(){return fE=fE||new nt}ti.La="serverreachability";function pE(c){tt.call(this,ti.La,c)}w(pE,tt);function Hs(c){let d=Zc();pt(d,new pE(d))}ti.STAT_EVENT="statevent";function gE(c,d){tt.call(this,ti.STAT_EVENT,c),this.stat=d}w(gE,tt);function gt(c){let d=Zc();pt(d,new gE(d,c))}ti.Ma="timingevent";function mE(c,d){tt.call(this,ti.Ma,c),this.size=d}w(mE,tt);function zs(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function qs(){this.g=!0}qs.prototype.xa=function(){this.g=!1};function JN(c,d,f,g,C,A){c.info(function(){if(c.g)if(A)for(var k="",we=A.split("&"),Ze=0;Ze<we.length;Ze++){var he=we[Ze].split("=");if(1<he.length){var rt=he[0];he=he[1];var it=rt.split("_");k=2<=it.length&&it[1]=="type"?k+(rt+"="+he+"&"):k+(rt+"=redacted&")}}else k=null;else k=A;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+k})}function XN(c,d,f,g,C,A,k){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+A+" "+k})}function Xi(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+tM(c,f)+(g?" "+g:"")})}function eM(c,d){c.info(function(){return"TIMEOUT: "+d})}qs.prototype.info=function(){};function tM(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var k=1;k<C.length;k++)C[k]=""}}}}return Rf(f)}catch{return d}}var Jc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xf;function Xc(){}w(Xc,Nf),Xc.prototype.g=function(){return new XMLHttpRequest},Xc.prototype.i=function(){return{}},xf=new Xc;function vr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Bs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vE}function vE(){this.i=null,this.g="",this.h=!1}var _E={},kf={};function Of(c,d,f){c.L=1,c.v=ru(Vn(d)),c.m=f,c.P=!0,IE(c,null)}function IE(c,d){c.F=Date.now(),eu(c),c.A=Vn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),kE(f.i,"t",g),c.C=0,f=c.j.J,c.h=new vE,c.g=JE(c.j,f?d:null,!c.m),0<c.O&&(c.M=new QN(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(uE[0]=C.toString()),C=uE);for(var A=0;A<C.length;A++){var k=nE(f,C[A],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Hs(),JN(c.i,c.u,c.A,c.l,c.R,c.m)}vr.prototype.ca=function(c){c=c.target;let d=this.M;d&&jn(c)==3?d.j():this.Y(c)},vr.prototype.Y=function(c){try{if(c==this.g)e:{let it=jn(this.g);var d=this.g.Ba();let no=this.g.Z();if(!(3>it)&&(it!=3||this.g&&(this.h.h||this.g.oa()||BE(this.g)))){this.J||it!=4||d==7||(d==8||0>=no?Hs(3):Hs(2)),Lf(this);var f=this.g.Z();this.X=f;t:if(EE(this)){var g=BE(this.g);c="";var C=g.length,A=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ni(this),Ws(this);var k="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==C-1)});g.length=0,this.h.g+=c,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=f==200,XN(this.i,this.u,this.A,this.l,this.R,it,f),this.o){if(this.T&&!this.K){t:{if(this.g){var we,Ze=this.g;if((we=Ze.g?Ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(we)){var he=we;break t}}he=null}if(f=he)Xi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ff(this,f);else{this.o=!1,this.s=3,gt(12),ni(this),Ws(this);break e}}if(this.P){f=!0;let Qt;for(;!this.J&&this.C<k.length;)if(Qt=nM(this,k),Qt==kf){it==4&&(this.s=4,gt(14),f=!1),Xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==_E){this.s=4,gt(15),Xi(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else Xi(this.i,this.l,Qt,null),Ff(this,Qt);if(EE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||k.length!=0||this.h.h||(this.s=1,gt(16),f=!1),this.o=this.o&&f,!f)Xi(this.i,this.l,k,"[Invalid Chunked Response]"),ni(this),Ws(this);else if(0<k.length&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.ba&&!rt.M&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Hf(rt),rt.M=!0,gt(11))}}else Xi(this.i,this.l,k,null),Ff(this,k);it==4&&ni(this),this.o&&!this.J&&(it==4?KE(this.j,this):(this.o=!1,eu(this)))}else _M(this.g),f==400&&0<k.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),ni(this),Ws(this)}}}catch{}finally{}};function EE(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function nM(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?kf:(f=Number(d.substring(f,g)),isNaN(f)?_E:(g+=1,g+f>d.length?kf:(d=d.slice(g,g+f),c.C=g+f,d)))}vr.prototype.cancel=function(){this.J=!0,ni(this)};function eu(c){c.S=Date.now()+c.I,wE(c,c.I)}function wE(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=zs(m(c.ba,c),d)}function Lf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}vr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(eM(this.i,this.A),this.L!=2&&(Hs(),gt(17)),ni(this),this.s=2,Ws(this)):wE(this,this.S-c)};function Ws(c){c.j.G==0||c.J||KE(c.j,c)}function ni(c){Lf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,lE(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Ff(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Vf(f.h,c))){if(!c.K&&Vf(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)cu(f),su(f);else break e;$f(f),gt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=zs(m(f.Za,f),6e3));if(1>=bE(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ii(f,11)}else if((c.K||f.g==c)&&cu(f),!$(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let he=C[d];if(f.T=he[0],he=he[1],f.G==2)if(he[0]=="c"){f.K=he[1],f.ia=he[2];let rt=he[3];rt!=null&&(f.la=rt,f.j.info("VER="+f.la));let it=he[4];it!=null&&(f.Aa=it,f.j.info("SVER="+f.Aa));let no=he[5];no!=null&&typeof no=="number"&&0<no&&(g=1.5*no,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Qt=c.g;if(Qt){let lu=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lu){var A=g.h;A.g||lu.indexOf("spdy")==-1&&lu.indexOf("quic")==-1&&lu.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(jf(A,A.h),A.h=null))}if(g.D){let zf=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;zf&&(g.ya=zf,be(g.I,g.D,zf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var k=c;if(g.qa=ZE(g,g.J?g.ia:null,g.W),k.K){CE(g.h,k);var we=k,Ze=g.L;Ze&&(we.I=Ze),we.B&&(Lf(we),eu(we)),g.g=k}else WE(g);0<f.i.length&&au(f)}else he[0]!="stop"&&he[0]!="close"||ii(f,7);else f.G==3&&(he[0]=="stop"||he[0]=="close"?he[0]=="stop"?ii(f,7):Bf(f):he[0]!="noop"&&f.l&&f.l.ta(he),f.v=0)}}Hs(4)}catch{}}var rM=class{constructor(c,d){this.g=c,this.map=d}};function TE(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function DE(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function bE(c){return c.h?1:c.g?c.g.size:0}function Vf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function jf(c,d){c.g?c.g.add(d):c.h=d}function CE(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}TE.prototype.cancel=function(){if(this.i=SE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function SE(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return R(c.i)}function iM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function oM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function AE(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=oM(c),g=iM(c),C=g.length,A=0;A<C;A++)d.call(void 0,g[A],f&&f[A],c)}var RE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sM(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),C=null;if(0<=g){var A=c[f].substring(0,g);C=c[f].substring(g+1)}else A=c[f];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function ri(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ri){this.h=c.h,tu(this,c.j),this.o=c.o,this.g=c.g,nu(this,c.s),this.l=c.l;var d=c.i,f=new Qs;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),NE(this,f),this.m=c.m}else c&&(d=String(c).match(RE))?(this.h=!1,tu(this,d[1]||"",!0),this.o=Gs(d[2]||""),this.g=Gs(d[3]||"",!0),nu(this,d[4]),this.l=Gs(d[5]||"",!0),NE(this,d[6]||"",!0),this.m=Gs(d[7]||"")):(this.h=!1,this.i=new Qs(null,this.h))}ri.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Ks(d,ME,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Ks(d,ME,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Ks(f,f.charAt(0)=="/"?uM:cM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Ks(f,dM)),c.join("")};function Vn(c){return new ri(c)}function tu(c,d,f){c.j=f?Gs(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function nu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function NE(c,d,f){d instanceof Qs?(c.i=d,hM(c.i,c.h)):(f||(d=Ks(d,lM)),c.i=new Qs(d,c.h))}function be(c,d,f){c.i.set(d,f)}function ru(c){return be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Gs(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ks(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,aM),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function aM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ME=/[#\/\?@]/g,cM=/[#\?:]/g,uM=/[#\?]/g,lM=/[#\?@]/g,dM=/#/g;function Qs(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function _r(c){c.g||(c.g=new Map,c.h=0,c.i&&sM(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Qs.prototype,t.add=function(c,d){_r(this),this.i=null,c=eo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function PE(c,d){_r(c),d=eo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function xE(c,d){return _r(c),d=eo(c,d),c.g.has(d)}t.forEach=function(c,d){_r(this),this.g.forEach(function(f,g){f.forEach(function(C){c.call(d,C,g,this)},this)},this)},t.na=function(){_r(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=c[g];for(let A=0;A<C.length;A++)f.push(d[g])}return f},t.V=function(c){_r(this);let d=[];if(typeof c=="string")xE(this,c)&&(d=d.concat(this.g.get(eo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return _r(this),this.i=null,c=eo(this,c),xE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function kE(c,d,f){PE(c,d),0<f.length&&(c.i=null,c.g.set(eo(c,d),R(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var C=A;k[g]!==""&&(C+="="+encodeURIComponent(String(k[g]))),c.push(C)}}return this.i=c.join("&")};function eo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function hM(c,d){d&&!c.j&&(_r(c),c.i=null,c.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(PE(this,g),kE(this,C,f))},c)),c.j=d}function fM(c,d){let f=new qs;if(a.Image){let g=new Image;g.onload=y(Ir,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Ir,f,"TestLoadImage: error",!1,d,g),g.onabort=y(Ir,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Ir,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function pM(c,d){let f=new qs,g=new AbortController,C=setTimeout(()=>{g.abort(),Ir(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(C),A.ok?Ir(f,"TestPingServer: ok",!0,d):Ir(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Ir(f,"TestPingServer: error",!1,d)})}function Ir(c,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function gM(){this.g=new ZN}function mM(c,d,f){let g=f||"";try{AE(c,function(C,A){let k=C;l(C)&&(k=Rf(C)),d.push(g+A+"="+encodeURIComponent(k))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function Ys(c){this.l=c.Ub||null,this.j=c.eb||!1}w(Ys,Nf),Ys.prototype.g=function(){return new iu(this.l,this.j)},Ys.prototype.i=function(c){return function(){return c}}({});function iu(c,d){nt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(iu,nt),t=iu.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Js(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zs(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Js(this)),this.g&&(this.readyState=3,Js(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;OE(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function OE(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Zs(this):Js(this),this.readyState==3&&OE(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Zs(this))},t.Qa=function(c){this.g&&(this.response=c,Zs(this))},t.ga=function(){this.g&&Zs(this)};function Zs(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Js(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Js(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(iu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function LE(c){let d="";return ye(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Uf(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=LE(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):be(c,d,f))}function Re(c){nt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Re,nt);var yM=/^https?$/i,vM=["POST","PUT"];t=Re.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xf.g(),this.v=this.o?dE(this.o):dE(xf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){FE(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(vM,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,k]of f)this.g.setRequestHeader(A,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{UE(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){FE(this,A)}};function FE(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,VE(c),ou(c)}function VE(c){c.A||(c.A=!0,pt(c,"complete"),pt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,pt(this,"complete"),pt(this,"abort"),ou(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ou(this,!0)),Re.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?jE(this):this.bb())},t.bb=function(){jE(this)};function jE(c){if(c.h&&typeof s<"u"&&(!c.v[1]||jn(c)!=4||c.Z()!=2)){if(c.u&&jn(c)==4)aE(c.Ea,0,c);else if(pt(c,"readystatechange"),jn(c)==4){c.h=!1;try{let k=c.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=k===0){var C=String(c.D).match(RE)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),g=!yM.test(C?C.toLowerCase():"")}f=g}if(f)pt(c,"complete"),pt(c,"success");else{c.m=6;try{var A=2<jn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",VE(c)}}finally{ou(c)}}}}function ou(c,d){if(c.g){UE(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||pt(c,"ready");try{f.onreadystatechange=g}catch{}}}function UE(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function jn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),YN(d)}};function BE(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function _M(c){let d={};c=(c.g&&2<=jn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if($(c[g]))continue;var f=b(c[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[C]||[];d[C]=A,A.push(f)}D(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xs(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function $E(c){this.Aa=0,this.i=[],this.j=new qs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xs("baseRetryDelayMs",5e3,c),this.cb=Xs("retryDelaySeedMs",1e4,c),this.Wa=Xs("forwardChannelMaxRetries",2,c),this.wa=Xs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new TE(c&&c.concurrentRequestLimit),this.Da=new gM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=$E.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){gt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=ZE(this,null,this.W),au(this)};function Bf(c){if(HE(c),c.G==3){var d=c.U++,f=Vn(c.I);if(be(f,"SID",c.K),be(f,"RID",d),be(f,"TYPE","terminate"),ea(c,f),d=new vr(c,c.j,d),d.L=2,d.v=ru(Vn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=JE(d.j,null),d.g.ea(d.v)),d.F=Date.now(),eu(d)}YE(c)}function su(c){c.g&&(Hf(c),c.g.cancel(),c.g=null)}function HE(c){su(c),c.u&&(a.clearTimeout(c.u),c.u=null),cu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function au(c){if(!DE(c.h)&&!c.s){c.s=!0;var d=c.Ga;Fs||tE(),Vs||(Fs(),Vs=!0),If.add(d,c),c.B=0}}function IM(c,d){return bE(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=zs(m(c.Ga,c,d),QE(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new vr(this,this.j,c),A=this.o;if(this.S&&(A?(A=v(A),T(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=qE(this,C,d),f=Vn(this.I),be(f,"RID",c),be(f,"CVER",22),this.D&&be(f,"X-HTTP-Session-Id",this.D),ea(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(LE(A)))+"&"+d:this.m&&Uf(f,this.m,A)),jf(this.h,C),this.Ua&&be(f,"TYPE","init"),this.P?(be(f,"$req",d),be(f,"SID","null"),C.T=!0,Of(C,f,null)):Of(C,f,d),this.G=2}}else this.G==3&&(c?zE(this,c):this.i.length==0||DE(this.h)||zE(this))};function zE(c,d){var f;d?f=d.l:f=c.U++;let g=Vn(c.I);be(g,"SID",c.K),be(g,"RID",f),be(g,"AID",c.T),ea(c,g),c.m&&c.o&&Uf(g,c.m,c.o),f=new vr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=qE(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),jf(c.h,f),Of(f,g,d)}function ea(c,d){c.H&&ye(c.H,function(f,g){be(d,g,f)}),c.l&&AE({},function(f,g){be(d,g,f)})}function qE(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var C=c.i;let A=-1;for(;;){let k=["count="+f];A==-1?0<f?(A=C[0].g,k.push("ofs="+A)):A=0:k.push("ofs="+A);let we=!0;for(let Ze=0;Ze<f;Ze++){let he=C[Ze].g,rt=C[Ze].map;if(he-=A,0>he)A=Math.max(0,C[Ze].g-100),we=!1;else try{mM(rt,k,"req"+he+"_")}catch{g&&g(rt)}}if(we){g=k.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function WE(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Fs||tE(),Vs||(Fs(),Vs=!0),If.add(d,c),c.v=0}}function $f(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=zs(m(c.Fa,c),QE(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,GE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=zs(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),su(this),GE(this))};function Hf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function GE(c){c.g=new vr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Vn(c.qa);be(d,"RID","rpc"),be(d,"SID",c.K),be(d,"AID",c.T),be(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&be(d,"TO",c.ja),be(d,"TYPE","xmlhttp"),ea(c,d),c.m&&c.o&&Uf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=ru(Vn(d)),f.m=null,f.P=!0,IE(f,c)}t.Za=function(){this.C!=null&&(this.C=null,su(this),$f(this),gt(19))};function cu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function KE(c,d){var f=null;if(c.g==d){cu(c),Hf(c),c.g=null;var g=2}else if(Vf(c.h,d))f=d.D,CE(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;g=Zc(),pt(g,new mE(g,f)),au(c)}else WE(c);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&IM(c,d)||g==2&&$f(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:ii(c,5);break;case 4:ii(c,10);break;case 3:ii(c,6);break;default:ii(c,2)}}}function QE(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function ii(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let C=!g;g=new ri(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||tu(g,"https"),ru(g),C?fM(g.toString(),f):pM(g.toString(),f)}else gt(2);c.G=0,c.l&&c.l.sa(d),YE(c),HE(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function YE(c){if(c.G=0,c.ka=[],c.l){let d=SE(c.h);(d.length!=0||c.i.length!=0)&&(N(c.ka,d),N(c.ka,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.ra()}}function ZE(c,d,f){var g=f instanceof ri?Vn(f):new ri(f);if(g.g!="")d&&(g.g=d+"."+g.g),nu(g,g.s);else{var C=a.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new ri(null);g&&tu(A,g),d&&(A.g=d),C&&nu(A,C),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&be(g,f,d),be(g,"VER",c.la),ea(c,g),g}function JE(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Re(new Ys({eb:f})):new Re(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function XE(){}t=XE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function uu(){}uu.prototype.g=function(c,d){return new Nt(c,d)};function Nt(c,d){nt.call(this),this.g=new $E(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!$(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!$(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new to(this)}w(Nt,nt),Nt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nt.prototype.close=function(){Bf(this.g)},Nt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Rf(c),c=f);d.i.push(new rM(d.Ya++,c)),d.G==3&&au(d)},Nt.prototype.N=function(){this.g.l=null,delete this.j,Bf(this.g),delete this.g,Nt.aa.N.call(this)};function ew(c){Mf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}w(ew,Mf);function tw(){Pf.call(this),this.status=1}w(tw,Pf);function to(c){this.g=c}w(to,XE),to.prototype.ua=function(){pt(this.g,"a")},to.prototype.ta=function(c){pt(this.g,new ew(c))},to.prototype.sa=function(c){pt(this.g,new tw)},to.prototype.ra=function(){pt(this.g,"b")},uu.prototype.createWebChannel=uu.prototype.g,Nt.prototype.send=Nt.prototype.o,Nt.prototype.open=Nt.prototype.m,Nt.prototype.close=Nt.prototype.close,xv=dr.createWebChannelTransport=function(){return new uu},Pv=dr.getStatEventTarget=function(){return Zc()},Mv=dr.Event=ti,gh=dr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Jc.NO_ERROR=0,Jc.TIMEOUT=8,Jc.HTTP_ERROR=6,Cc=dr.ErrorCode=Jc,yE.COMPLETE="complete",Nv=dr.EventType=yE,hE.EventType=$s,$s.OPEN="a",$s.CLOSE="b",$s.ERROR="c",$s.MESSAGE="d",nt.prototype.listen=nt.prototype.K,ds=dr.WebChannel=hE,R$=dr.FetchXmlHttpFactory=Ys,Re.prototype.listenOnce=Re.prototype.L,Re.prototype.getLastError=Re.prototype.Ka,Re.prototype.getLastErrorCode=Re.prototype.Ba,Re.prototype.getStatus=Re.prototype.Z,Re.prototype.getResponseJson=Re.prototype.Oa,Re.prototype.getResponseText=Re.prototype.oa,Re.prototype.send=Re.prototype.ea,Re.prototype.setWithCredentials=Re.prototype.Ha,Rv=dr.XhrIo=Re}).apply(typeof ph<"u"?ph:typeof self<"u"?self:typeof window<"u"?window:{});var u0="@firebase/firestore",l0="4.7.16";var Qe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");var Ms="11.8.1";var Hi=new bn("@firebase/firestore");function hs(){return Hi.logLevel}function V(t,...e){if(Hi.logLevel<=ce.DEBUG){let n=e.map(bI);Hi.debug(`Firestore (${Ms}): ${t}`,...n)}}function hr(t,...e){if(Hi.logLevel<=ce.ERROR){let n=e.map(bI);Hi.error(`Firestore (${Ms}): ${t}`,...n)}}function _s(t,...e){if(Hi.logLevel<=ce.WARN){let n=e.map(bI);Hi.warn(`Firestore (${Ms}): ${t}`,...n)}}function bI(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function z(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,nR(t,r,n)}function nR(t,e,n){let r=`FIRESTORE (${Ms}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw hr(r),new Error(r)}function me(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||nR(e,i,r)}function Q(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends Ot{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Rn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var wh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Vv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qe.UNAUTHENTICATED))}shutdown(){}},jv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Uv=class{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){me(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Rn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Rn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Rn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(me(typeof r.accessToken=="string",31837,{l:r}),new wh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return me(e===null||typeof e=="string",2055,{h:e}),new Qe(e)}},Bv=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},$v=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Bv(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Th=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Hv=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ut(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){me(this.o===void 0,3512);let r=o=>{o.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,V("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Th(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(me(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Th(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function N$(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function rR(){return new TextEncoder}var Dh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=N$(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function ie(t,e){return t<e?-1:t>e?1:0}function zv(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ie(r,i);{let o=rR(),s=M$(o.encode(d0(t,n)),o.encode(d0(e,n)));return s!==0?s:ie(r,i)}}n+=r>65535?2:1}return ie(t.length,e.length)}function d0(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function M$(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ie(t[n],e[n]);return ie(t.length,e.length)}function Is(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var h0=-62135596800,f0=1e6,et=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*f0);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<h0)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/f0}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-h0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var J=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new et(0,0))}static max(){return new t(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var p0="__name__",bh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&z(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&z(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ie(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):zv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return lr.fromString(e.substring(4,e.length-2))}},Ae=class t extends bh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},P$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ft=class t extends bh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return P$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===p0}static keyField(){return new t([p0])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new L(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var H=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ae.fromString(e))}static fromName(e){return new t(Ae.fromString(e).popFirst(5))}static empty(){return new t(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ae(e.slice()))}};var Pc=-1,qv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};qv.UNKNOWN_ID=-1;function x$(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new et(n+1,0):new et(n,r));return new zi(i,H.empty(),e)}function k$(t){return new zi(t.readTime,t.key,Pc)}var zi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(J.min(),H.empty(),Pc)}static max(){return new t(J.max(),H.empty(),Pc)}};function O$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:ie(t.largestBatchId,e.largestBatchId))}var L$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Wv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ps(t){return _(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==L$)throw t;V("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function F$(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xs(t){return t.name==="IndexedDbTransactionError"}var CI=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ce&&this.ce(n),n}}t.le=-1;return t})(),SI=-1;function cf(t){return t==null}function xc(t){return t===0&&1/t==-1/0}function V$(t){return typeof t=="number"&&Number.isInteger(t)&&!xc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var iR="";function j$(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=g0(e)),e=U$(t.get(n),e);return g0(e)}function U$(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case iR:n+="";break;default:n+=o}}return n}function g0(t){return t+iR+""}var B$="remoteDocuments",oR="owner";var sR="mutationQueues";var aR="mutations";var cR="documentMutations",$$="remoteDocumentsV14";var uR="remoteDocumentGlobal";var lR="targets";var dR="targetDocuments";var hR="targetGlobal",fR="collectionParents";var pR="clientMetadata";var gR="bundles";var mR="namedQueries";var H$="indexConfiguration";var z$="indexState";var q$="indexEntries";var yR="documentOverlays";var W$="globals";var G$=[sR,aR,cR,B$,lR,oR,hR,dR,pR,uR,fR,gR,mR],MY=[...G$,yR],K$=[sR,aR,cR,$$,lR,oR,hR,dR,pR,uR,fR,gR,mR,yR],Q$=K$,Y$=[...Q$,H$,z$,q$];var PY=[...Y$,W$];function m0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ei(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vR(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var xe=class t{constructor(e,n){this.comparator=e,this.root=n||Nn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ms(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ms(this.root,e,this.comparator,!1)}getReverseIterator(){return new ms(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ms(this.root,e,this.comparator,!0)}},ms=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Nn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw z(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw z(27949);return e+(this.isRed()?0:1)}};Nn.EMPTY=null,Nn.RED=!0,Nn.BLACK=!1;Nn.EMPTY=new class{constructor(){this.size=0}get key(){throw z(57766)}get value(){throw z(16141)}get color(){throw z(16727)}get left(){throw z(29726)}get right(){throw z(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ye=class t{constructor(e){this.comparator=e,this.data=new xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ch(this.data.getIterator())}getIteratorFrom(e){return new Ch(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Ch=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Gt=class t{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ye(Ft.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Is(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Sh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ht=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Sh("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ht.EMPTY_BYTE_STRING=new ht("");var Z$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fr(t){if(me(!!t,39018),typeof t=="string"){let e=0,n=Z$.exec(t);if(me(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ce(t.seconds),nanos:Ce(t.nanos)}}function Ce(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function pr(t){return typeof t=="string"?ht.fromBase64String(t):ht.fromUint8Array(t)}var _R="server_timestamp",IR="__type__",ER="__previous_value__",wR="__local_write_time__";function AI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[IR])===null||n===void 0?void 0:n.stringValue)===_R}function uf(t){let e=t.mapValue.fields[ER];return AI(e)?uf(e):e}function kc(t){let e=fr(t.mapValue.fields[wR].timestampValue);return new et(e.seconds,e.nanos)}var Gv=class{constructor(e,n,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},Ah="(default)",Rh=class t{constructor(e,n){this.projectId=e,this.database=n||Ah}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Ah}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var RI="__type__",TR="__max__",mh={mapValue:{fields:{__type__:{stringValue:TR}}}},NI="__vector__",Es="value";function Qr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?AI(t)?4:bR(t)?9007199254740991:DR(t)?10:11:z(28295,{value:t})}function kn(t,e){if(t===e)return!0;let n=Qr(t);if(n!==Qr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kc(t).isEqual(kc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=fr(i.timestampValue),a=fr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return pr(i.bytesValue).isEqual(pr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ce(i.geoPointValue.latitude)===Ce(o.geoPointValue.latitude)&&Ce(i.geoPointValue.longitude)===Ce(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ce(i.integerValue)===Ce(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ce(i.doubleValue),a=Ce(o.doubleValue);return s===a?xc(s)===xc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Is(t.arrayValue.values||[],e.arrayValue.values||[],kn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(m0(s)!==m0(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!kn(s[u],a[u])))return!1;return!0}(t,e);default:return z(52216,{left:t})}}function Oc(t,e){return(t.values||[]).find(n=>kn(n,e))!==void 0}function ws(t,e){if(t===e)return 0;let n=Qr(t),r=Qr(e);if(n!==r)return ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ce(o.integerValue||o.doubleValue),u=Ce(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return y0(t.timestampValue,e.timestampValue);case 4:return y0(kc(t),kc(e));case 5:return zv(t.stringValue,e.stringValue);case 6:return function(o,s){let a=pr(o),u=pr(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ie(a[l],u[l]);if(h!==0)return h}return ie(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ie(Ce(o.latitude),Ce(s.latitude));return a!==0?a:ie(Ce(o.longitude),Ce(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return v0(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[Es])===null||a===void 0?void 0:a.arrayValue,w=(u=m[Es])===null||u===void 0?void 0:u.arrayValue,R=ie(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=w?.values)===null||h===void 0?void 0:h.length)||0);return R!==0?R:v0(y,w)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===mh.mapValue&&s===mh.mapValue)return 0;if(o===mh.mapValue)return 1;if(s===mh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=zv(u[p],h[p]);if(m!==0)return m;let y=ws(a[u[p]],l[h[p]]);if(y!==0)return y}return ie(u.length,h.length)}(t.mapValue,e.mapValue);default:throw z(23264,{Pe:n})}}function y0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ie(t,e);let n=fr(t),r=fr(e),i=ie(n.seconds,r.seconds);return i!==0?i:ie(n.nanos,r.nanos)}function v0(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=ws(n[i],r[i]);if(o)return o}return ie(n.length,r.length)}function Ts(t){return Kv(t)}function Kv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=fr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return pr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return H.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Kv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Kv(n.fields[s])}`;return i+"}"}(t.mapValue):z(61005,{value:t})}function _h(t){switch(Qr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=uf(t);return e?16+_h(e):16;case 5:return 2*t.stringValue.length;case 6:return pr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+_h(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ei(r.fields,(o,s)=>{i+=o.length+_h(s)}),i}(t.mapValue);default:throw z(13486,{value:t})}}function _0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qv(t){return!!t&&"integerValue"in t}function MI(t){return!!t&&"arrayValue"in t}function I0(t){return!!t&&"nullValue"in t}function E0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ih(t){return!!t&&"mapValue"in t}function DR(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[RI])===null||n===void 0?void 0:n.stringValue)===NI}function Ac(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ei(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ac(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ac(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===TR}var kY={mapValue:{fields:{[RI]:{stringValue:NI},[Es]:{arrayValue:{}}}}};var Lt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ac(n)}setAll(e){let n=Ft.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ac(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return kn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ih(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ei(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Ac(this.value))}};function CR(t){let e=[];return ei(t.fields,(n,r)=>{let i=new Ft([n]);if(Ih(r)){let o=CR(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Gt(e)}var hn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,J.min(),J.min(),J.min(),Lt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,J.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,J.min(),J.min(),Lt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,J.min(),J.min(),Lt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ds=class{constructor(e,n){this.position=e,this.inclusive=n}};function w0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=H.comparator(H.fromName(s.referenceValue),n.key):r=ws(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function T0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!kn(t.position[n],e.position[n]))return!1;return!0}var qi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function J$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Nh=class{},Be=class t extends Nh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Zv(e,n,r):n==="array-contains"?new e_(e,r):n==="in"?new t_(e,r):n==="not-in"?new n_(e,r):n==="array-contains-any"?new r_(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Jv(e,r):new Xv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ws(n,this.value)):n!==null&&Qr(this.value)===Qr(n)&&this.matchesComparison(ws(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},fn=class t extends Nh{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new t(e,n)}matches(e){return SR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function SR(t){return t.op==="and"}function AR(t){return X$(t)&&SR(t)}function X$(t){for(let e of t.filters)if(e instanceof fn)return!1;return!0}function Yv(t){if(t instanceof Be)return t.field.canonicalString()+t.op.toString()+Ts(t.value);if(AR(t))return t.filters.map(e=>Yv(e)).join(",");{let e=t.filters.map(n=>Yv(n)).join(",");return`${t.op}(${e})`}}function RR(t,e){return t instanceof Be?function(r,i){return i instanceof Be&&r.op===i.op&&r.field.isEqual(i.field)&&kn(r.value,i.value)}(t,e):t instanceof fn?function(r,i){return i instanceof fn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&RR(s,i.filters[a]),!0):!1}(t,e):void z(19439)}function NR(t){return t instanceof Be?function(n){return`${n.field.canonicalString()} ${n.op} ${Ts(n.value)}`}(t):t instanceof fn?function(n){return n.op.toString()+" {"+n.getFilters().map(NR).join(" ,")+"}"}(t):"Filter"}var Zv=class extends Be{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){let n=H.comparator(e.key,this.key);return this.matchesComparison(n)}},Jv=class extends Be{constructor(e,n){super(e,"in",n),this.keys=MR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Xv=class extends Be{constructor(e,n){super(e,"not-in",n),this.keys=MR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function MR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}var e_=class extends Be{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return MI(n)&&Oc(n.arrayValue,this.value)}},t_=class extends Be{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Oc(this.value.arrayValue,n)}},n_=class extends Be{constructor(e,n){super(e,"not-in",n)}matches(e){if(Oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Oc(this.value.arrayValue,n)}},r_=class extends Be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!MI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Oc(this.value.arrayValue,r))}};var i_=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function D0(t,e=null,n=[],r=[],i=null,o=null,s=null){return new i_(t,e,n,r,i,o,s)}function PI(t){let e=Q(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Yv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),cf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ts(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ts(r)).join(",")),e.Ie=n}return e.Ie}function xI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!J$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!RR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!T0(t.startAt,e.startAt)&&T0(t.endAt,e.endAt)}function o_(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Yr=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function eH(t,e,n,r,i,o,s,a){return new Yr(t,e,n,r,i,o,s,a)}function lf(t){return new Yr(t)}function b0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function PR(t){return t.collectionGroup!==null}function Rc(t){let e=Q(t);if(e.Ee===null){e.Ee=[];let n=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ye(Ft.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new qi(o,r))}),n.has(Ft.keyField().canonicalString())||e.Ee.push(new qi(Ft.keyField(),r))}return e.Ee}function Mn(t){let e=Q(t);return e.de||(e.de=tH(e,Rc(t))),e.de}function tH(t,e){if(t.limitType==="F")return D0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new qi(i.field,o)});let n=t.endAt?new Ds(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ds(t.startAt.position,t.startAt.inclusive):null;return D0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function s_(t,e){let n=t.filters.concat([e]);return new Yr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function a_(t,e,n){return new Yr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function df(t,e){return xI(Mn(t),Mn(e))&&t.limitType===e.limitType}function xR(t){return`${PI(Mn(t))}|lt:${t.limitType}`}function fs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>NR(i)).join(", ")}]`),cf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ts(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ts(i)).join(",")),`Target(${r})`}(Mn(t))}; limitType=${t.limitType})`}function hf(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):H.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Rc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=w0(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Rc(r),i)||r.endAt&&!function(s,a,u){let l=w0(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Rc(r),i))}(t,e)}function nH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kR(t){return(e,n)=>{let r=!1;for(let i of Rc(t)){let o=rH(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function rH(t,e,n){let r=t.field.isKeyField()?H.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?ws(u,l):z(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return z(19790,{direction:t.dir})}}var gr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ei(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return vR(this.inner)}size(){return this.innerSize}};var iH=new xe(H.comparator);function mr(){return iH}var OR=new xe(H.comparator);function Sc(...t){let e=OR;for(let n of t)e=e.insert(n.key,n);return e}function LR(t){let e=OR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ui(){return Nc()}function FR(){return Nc()}function Nc(){return new gr(t=>t.toString(),(t,e)=>t.isEqual(e))}var oH=new xe(H.comparator),sH=new Ye(H.comparator);function le(...t){let e=sH;for(let n of t)e=e.add(n);return e}var aH=new Ye(ie);function cH(){return aH}function kI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xc(e)?"-0":e}}function VR(t){return{integerValue:""+t}}function uH(t,e){return V$(e)?VR(e):kI(t,e)}var bs=class{constructor(){this._=void 0}};function lH(t,e,n){return t instanceof Wi?function(i,o){let s={fields:{[IR]:{stringValue:_R},[wR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&AI(o)&&(o=uf(o)),o&&(s.fields[ER]=o),{mapValue:s}}(n,e):t instanceof Zr?UR(t,e):t instanceof Gi?BR(t,e):function(i,o){let s=jR(i,o),a=C0(s)+C0(i.Re);return Qv(s)&&Qv(i.Re)?VR(a):kI(i.serializer,a)}(t,e)}function dH(t,e,n){return t instanceof Zr?UR(t,e):t instanceof Gi?BR(t,e):n}function jR(t,e){return t instanceof Cs?function(r){return Qv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Wi=class extends bs{},Zr=class extends bs{constructor(e){super(),this.elements=e}};function UR(t,e){let n=$R(e);for(let r of t.elements)n.some(i=>kn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Gi=class extends bs{constructor(e){super(),this.elements=e}};function BR(t,e){let n=$R(e);for(let r of t.elements)n=n.filter(i=>!kn(i,r));return{arrayValue:{values:n}}}var Cs=class extends bs{constructor(e,n){super(),this.serializer=e,this.Re=n}};function C0(t){return Ce(t.integerValue||t.doubleValue)}function $R(t){return MI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Mh=class{constructor(e,n){this.field=e,this.transform=n}};function hH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Zr&&i instanceof Zr||r instanceof Gi&&i instanceof Gi?Is(r.elements,i.elements,kn):r instanceof Cs&&i instanceof Cs?kn(r.Re,i.Re):r instanceof Wi&&i instanceof Wi}(t.transform,e.transform)}var c_=class{constructor(e,n){this.version=e,this.transformResults=n}},Pn=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Eh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ss=class{};function HR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Lc(t.key,Pn.none()):new Ki(t.key,t.data,Pn.none());{let n=t.data,r=Lt.empty(),i=new Ye(Ft.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new On(t.key,r,new Gt(i.toArray()),Pn.none())}}function fH(t,e,n){t instanceof Ki?function(i,o,s){let a=i.value.clone(),u=A0(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof On?function(i,o,s){if(!Eh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=A0(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(zR(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Mc(t,e,n,r){return t instanceof Ki?function(o,s,a,u){if(!Eh(o.precondition,s))return a;let l=o.value.clone(),h=R0(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof On?function(o,s,a,u){if(!Eh(o.precondition,s))return a;let l=R0(o.fieldTransforms,u,s),h=s.data;return h.setAll(zR(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return Eh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function pH(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=jR(r.transform,i||null);o!=null&&(n===null&&(n=Lt.empty()),n.set(r.field,o))}return n||null}function S0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Is(r,i,(o,s)=>hH(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ki=class extends Ss{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},On=class extends Ss{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function zR(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function A0(t,e,n){let r=new Map;me(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,dH(s,a,n[i]))}return r}function R0(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,lH(o,s,e))}return r}var Lc=class extends Ss{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},u_=class extends Ss{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var l_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&fH(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Mc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Mc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=FR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=HR(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&Is(this.mutations,e.mutations,(n,r)=>S0(n,r))&&Is(this.baseMutations,e.baseMutations,(n,r)=>S0(n,r))}},d_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){me(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return oH}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var h_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var f_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var je,de;function gH(t){switch(t){case M.OK:return z(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return z(15467,{code:t})}}function qR(t){if(t===void 0)return hr("GRPC error has no .code"),M.UNKNOWN;switch(t){case je.OK:return M.OK;case je.CANCELLED:return M.CANCELLED;case je.UNKNOWN:return M.UNKNOWN;case je.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case je.INTERNAL:return M.INTERNAL;case je.UNAVAILABLE:return M.UNAVAILABLE;case je.UNAUTHENTICATED:return M.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case je.NOT_FOUND:return M.NOT_FOUND;case je.ALREADY_EXISTS:return M.ALREADY_EXISTS;case je.PERMISSION_DENIED:return M.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case je.ABORTED:return M.ABORTED;case je.OUT_OF_RANGE:return M.OUT_OF_RANGE;case je.UNIMPLEMENTED:return M.UNIMPLEMENTED;case je.DATA_LOSS:return M.DATA_LOSS;default:return z(39323,{code:t})}}(de=je||(je={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";var N0=null;var mH=new lr([4294967295,4294967295],0);function M0(t){let e=rR().encode(t),n=new Av;return n.update(e),new Uint8Array(n.digest())}function P0(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new lr([n,r],0),new lr([i,o],0)]}var p_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Bi(`Invalid padding: ${n}`);if(r<0)throw new Bi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Bi(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=lr.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(lr.fromNumber(r)));return i.compare(mH)===1&&(i=new lr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let n=M0(e),[r,i]=P0(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.Se(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let n=M0(e),[r,i]=P0(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.be(s)}}be(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Bi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ph=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Fc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(J.min(),i,new xe(ie),mr(),le())}},Fc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,le(),le(),le())}};var ys=class{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}},xh=class{constructor(e,n){this.targetId=e,this.Ce=n}},kh=class{constructor(e,n,r=ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Oh=class{constructor(){this.Fe=0,this.Me=x0(),this.xe=ht.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=le(),n=le(),r=le();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:z(38017,{changeType:o})}}),new Fc(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=x0()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,me(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},g_=class{constructor(e){this.ze=e,this.je=new Map,this.He=mr(),this.Je=yh(),this.Ye=yh(),this.Ze=new xe(ie)}Xe(e){for(let n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(let n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{let r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:z(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){let n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){let o=i.target;if(o_(o))if(r===0){let s=new H(o.path);this.tt(n,s,hn.newNoDocument(s,J.min()))}else me(r===1,20013,{expectedCount:r});else{let s=this.ut(n);if(s!==r){let a=this.ct(e),u=a?this.lt(a,e,s):1;if(u!==0){this.st(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,l)}N0?.ht(function(h,p,m,y,w){var R,N,O,$,K,Ee;let ft={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ye=p.unchangedNames;return ye&&(ft.bloomFilter={applied:w===0,hashCount:(R=ye?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:($=(O=(N=ye?.bits)===null||N===void 0?void 0:N.bitmap)===null||O===void 0?void 0:O.length)!==null&&$!==void 0?$:0,padding:(Ee=(K=ye?.bits)===null||K===void 0?void 0:K.padding)!==null&&Ee!==void 0?Ee:0,mightContain:D=>{var v;return(v=y?.mightContain(D))!==null&&v!==void 0&&v}}),ft}(s,e.Ce,this.ze.Pt(),a,u))}}}}ct(e){let n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=pr(r).toUint8Array()}catch(u){if(u instanceof Sh)return _s("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new p_(s,i,o)}catch(u){return _s(u instanceof Bi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){let r=this.ze.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,o,null),i++)}),i}It(e){let n=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&o_(a.target)){let u=new H(a.target.path);this.Et(u).has(s)||this.dt(s,u)||this.tt(s,u,hn.newNoDocument(u,e))}o.Le&&(n.set(s,o.qe()),o.Qe())}});let r=le();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this._t(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new Ph(e,n,this.Ze,this.He,r);return this.He=mr(),this.Je=yh(),this.Ye=yh(),this.Ze=new xe(ie),i}et(e,n){if(!this.it(e))return;let r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){let n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Oh,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ye(ie),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ye(ie),this.Je=this.Je.insert(e,n)),n}it(e){let n=this._t(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}_t(e){let n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Oh),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}};function yh(){return new xe(H.comparator)}function x0(){return new xe(H.comparator)}var yH={asc:"ASCENDING",desc:"DESCENDING"},vH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_H={and:"AND",or:"OR"},m_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function y_(t,e){return t.useProto3Json||cf(e)?e:{value:e}}function Lh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function IH(t,e){return Lh(t,e.toTimestamp())}function xn(t){return me(!!t,49232),J.fromTimestamp(function(n){let r=fr(n);return new et(r.seconds,r.nanos)}(t))}function OI(t,e){return v_(t,e).canonicalString()}function v_(t,e){let n=function(i){return new Ae(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function GR(t){let e=Ae.fromString(t);return me(JR(e),10190,{key:e.toString()}),e}function __(t,e){return OI(t.databaseId,e.path)}function kv(t,e){let n=GR(e);if(n.get(1)!==t.databaseId.projectId)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(QR(n))}function KR(t,e){return OI(t.databaseId,e)}function EH(t){let e=GR(t);return e.length===4?Ae.emptyPath():QR(e)}function I_(t){return new Ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function QR(t){return me(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function k0(t,e,n){return{name:__(t,e),fields:n.value.mapValue.fields}}function wH(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:z(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(me(h===void 0||typeof h=="string",58123),ht.fromBase64String(h||"")):(me(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ht.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?M.UNKNOWN:qR(l.code);return new L(h,l.message||"")}(s);n=new kh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=kv(t,r.document.name),o=xn(r.document.updateTime),s=r.document.createTime?xn(r.document.createTime):J.min(),a=new Lt({mapValue:{fields:r.document.fields}}),u=hn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new ys(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=kv(t,r.document),o=r.readTime?xn(r.readTime):J.min(),s=hn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ys([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=kv(t,r.document),o=r.removedTargetIds||[];n=new ys([],o,i,null)}else{if(!("filter"in e))return z(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new f_(i,o),a=r.targetId;n=new xh(a,s)}}return n}function TH(t,e){let n;if(e instanceof Ki)n={update:k0(t,e.key,e.value)};else if(e instanceof Lc)n={delete:__(t,e.key)};else if(e instanceof On)n={update:k0(t,e.key,e.data),updateMask:PH(e.fieldMask)};else{if(!(e instanceof u_))return z(16599,{ft:e.type});n={verify:__(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Wi)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Zr)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Gi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Cs)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw z(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:IH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:z(27497)}(t,e.precondition)),n}function DH(t,e){return t&&t.length>0?(me(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?xn(i.updateTime):xn(o);return s.isEqual(J.min())&&(s=xn(o)),new c_(s,i.transformResults||[])}(n,e))):[]}function bH(t,e){return{documents:[KR(t,e.path)]}}function CH(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=KR(t,i);let o=function(l){if(l.length!==0)return ZR(fn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:ps(m.field),direction:RH(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=y_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:n,parent:i}}function SH(t){let e=EH(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){me(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=YR(p);return m instanceof fn&&AR(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(w){return new qi(gs(w.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,cf(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new Ds(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new Ds(y,m)}(n.endAt)),eH(e,i,s,o,a,"F",u,l)}function AH(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return z(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=gs(n.unaryFilter.field);return Be.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=gs(n.unaryFilter.field);return Be.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=gs(n.unaryFilter.field);return Be.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=gs(n.unaryFilter.field);return Be.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return z(61313);default:return z(60726)}}(t):t.fieldFilter!==void 0?function(n){return Be.create(gs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return z(58110);default:return z(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fn.create(n.compositeFilter.filters.map(r=>YR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return z(1026)}}(n.compositeFilter.op))}(t):z(30097,{filter:t})}function RH(t){return yH[t]}function NH(t){return vH[t]}function MH(t){return _H[t]}function ps(t){return{fieldPath:t.canonicalString()}}function gs(t){return Ft.fromServerFormat(t.fieldPath)}function ZR(t){return t instanceof Be?function(n){if(n.op==="=="){if(E0(n.value))return{unaryFilter:{field:ps(n.field),op:"IS_NAN"}};if(I0(n.value))return{unaryFilter:{field:ps(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(E0(n.value))return{unaryFilter:{field:ps(n.field),op:"IS_NOT_NAN"}};if(I0(n.value))return{unaryFilter:{field:ps(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ps(n.field),op:NH(n.op),value:n.value}}}(t):t instanceof fn?function(n){let r=n.getFilters().map(i=>ZR(i));return r.length===1?r[0]:{compositeFilter:{op:MH(n.op),filters:r}}}(t):z(54877,{filter:t})}function PH(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function JR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Vc=class t{constructor(e,n,r,i,o=J.min(),s=J.min(),a=ht.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var E_=class{constructor(e){this.wt=e}};function xH(t){let e=SH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?a_(e,e.limit,"L"):e}var Fh=class{constructor(){}vt(e,n){this.Ct(e,n),n.Ft()}Ct(e,n){if("nullValue"in e)this.Mt(n,5);else if("booleanValue"in e)this.Mt(n,10),n.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(n,15),n.xt(Ce(e.integerValue));else if("doubleValue"in e){let r=Ce(e.doubleValue);isNaN(r)?this.Mt(n,13):(this.Mt(n,15),xc(r)?n.xt(0):n.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(n,20),typeof r=="string"&&(r=fr(r)),n.Ot(`${r.seconds||""}`),n.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,n),this.Bt(n);else if("bytesValue"in e)this.Mt(n,30),n.Lt(pr(e.bytesValue)),this.Bt(n);else if("referenceValue"in e)this.kt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(n,45),n.xt(r.latitude||0),n.xt(r.longitude||0)}else"mapValue"in e?bR(e)?this.Mt(n,Number.MAX_SAFE_INTEGER):DR(e)?this.qt(e.mapValue,n):(this.Qt(e.mapValue,n),this.Bt(n)):"arrayValue"in e?(this.$t(e.arrayValue,n),this.Bt(n)):z(19022,{Ut:e})}Nt(e,n){this.Mt(n,25),this.Kt(e,n)}Kt(e,n){n.Ot(e)}Qt(e,n){let r=e.fields||{};this.Mt(n,55);for(let i of Object.keys(r))this.Nt(i,n),this.Ct(r[i],n)}qt(e,n){var r,i;let o=e.fields||{};this.Mt(n,53);let s=Es,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(n,15),n.xt(Ce(a)),this.Nt(s,n),this.Ct(o[s],n)}$t(e,n){let r=e.values||[];this.Mt(n,50);for(let i of r)this.Ct(i,n)}kt(e,n){this.Mt(n,37),H.fromName(e).path.forEach(r=>{this.Mt(n,60),this.Kt(r,n)})}Mt(e,n){e.xt(n)}Bt(e){e.xt(2)}};Fh.Wt=new Fh;var w_=class{constructor(){this.Cn=new T_}addToCollectionParentIndex(e,n){return this.Cn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(zi.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(zi.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},T_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ye(Ae.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ye(Ae.comparator)).toArray()}};var OY=new Uint8Array(0);var O0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XR=41943040,Wt=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Wt.DEFAULT_COLLECTION_PERCENTILE=10,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wt.DEFAULT=new Wt(XR,Wt.DEFAULT_COLLECTION_PERCENTILE,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wt.DISABLED=new Wt(-1,0,0);var jc=class t{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new t(0)}static lr(){return new t(-1)}};var L0="LruGarbageCollector",kH=1048576;function F0([t,e],[n,r]){let i=ie(t,n);return i===0?ie(e,r):i}var D_=class{constructor(e){this.Er=e,this.buffer=new Ye(F0),this.dr=0}Ar(){return++this.dr}Rr(e){let n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();F0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},b_=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){V(L0,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){xs(n)?V(L0,"Ignoring IndexedDB error during garbage collection: ",n):yield Ps(n)}yield this.mr(3e5)}))}},C_=class{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return P.resolve(CI.le);let r=new D_(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(V("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(O0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(V("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),O0):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(V("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),hs()<=ce.DEBUG&&V("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function OH(t,e){return new C_(t,e)}var S_=class{constructor(){this.changes=new gr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var A_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var R_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Mc(r.mutation,i,Gt.empty(),et.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){let i=Ui();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Sc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Ui();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=mr(),s=Nc(),a=function(){return Nc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof On)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Mc(h.mutation,l,h.mutation.getFieldMask(),et.now())):s.set(l.key,Gt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new A_(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Nc(),i=new xe((s,a)=>s-a),o=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Gt.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||le()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=FR();h.forEach(m=>{if(!o.has(m)){let y=HR(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return H.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):PR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(Ui()),a=Pc,u=o;return s.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,le())).next(h=>({batchId:a,changes:LR(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=Sc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Sc();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,u=>{let l=function(p,m){return new Yr(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,hn.newInvalidDocument(h)))});let a=Sc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Mc(h.mutation,l,Gt.empty(),et.now()),hf(n,l)&&(a=a.insert(u,l))}),a})}};var N_=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return P.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:xn(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:xH(i.bundledQuery),readTime:xn(i.readTime)}}(n)),P.resolve()}};var M_=class{constructor(){this.overlays=new xe(H.comparator),this.Qr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ui();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.bt(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=Ui(),o=n.length+1,s=new H(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new xe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Ui(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Ui(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}bt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new h_(n,r));let o=this.Qr.get(n);o===void 0&&(o=le(),this.Qr.set(n,o)),this.Qr.set(n,o.add(r.key))}};var P_=class{constructor(){this.sessionToken=ht.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var Uc=class{constructor(){this.$r=new Ye(Ue.Ur),this.Kr=new Ye(Ue.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){let r=new Ue(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Ue(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){let n=new H(new Ae([])),r=new Ue(n,e),i=new Ue(n,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let n=new H(new Ae([])),r=new Ue(n,e),i=new Ue(n,e+1),o=le();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ue(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ue=class{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return H.comparator(e.key,n.key)||ie(e.Zr,n.Zr)}static Wr(e,n){return ie(e.Zr,n.Zr)||H.comparator(e.key,n.key)}};var x_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ye(Ue.Ur)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new l_(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Xr=this.Xr.add(new Ue(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.ti(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?SI:this.nr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ue(n,0),i=new Ue(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let a=this.ei(s.Zr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ye(ie);return n.forEach(i=>{let o=new Ue(i,0),s=new Ue(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),P.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;H.isDocumentKey(o)||(o=o.child(""));let s=new Ue(new H(o),0),a=new Ye(ie);return this.Xr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Zr)),!0)},s),P.resolve(this.ni(a))}ni(e){let n=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){me(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return P.forEach(n.mutations,i=>{let o=new Ue(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){let r=new Ue(n,0),i=this.Xr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var k_=class{constructor(e){this.ii=e,this.docs=function(){return new xe(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let r=mr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():hn.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=mr(),s=n.path,a=new H(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||O$(k$(h),r)<=0||(i.has(h.key)||hf(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){z(9500)}si(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new O_(this)}getSize(e){return P.resolve(this.size)}},O_=class extends S_{constructor(e){super(),this.Br=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}};var L_=class{constructor(e){this.persistence=e,this.oi=new gr(n=>PI(n),xI),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this._i=0,this.ai=new Uc,this.targetCount=0,this.ui=jc.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),P.resolve()}Tr(e){this.oi.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.ui=new jc(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.Tr(n),P.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.oi.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.ai.Yr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.ai.containsKey(n))}};var Vh=class{constructor(e,n){this.ci={},this.overlays={},this.li=new CI(0),this.hi=!1,this.hi=!0,this.Pi=new P_,this.referenceDelegate=e(this),this.Ti=new L_(this),this.indexManager=new w_,this.remoteDocumentCache=function(i){return new k_(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new E_(n),this.Ei=new N_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new M_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new x_(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);let i=new F_(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,n){return P.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}},F_=class extends Wv{constructor(e){super(),this.currentSequenceNumber=e}},V_=class t{constructor(e){this.persistence=e,this.Vi=new Uc,this.mi=null}static fi(e){return new t(e)}get gi(){if(this.mi)return this.mi;throw z(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),P.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.gi,r=>{let i=H.fromPath(r);return this.pi(e,i).next(o=>{o||n.removeEntry(i,J.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return P.or([()=>P.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}},jh=class t{constructor(e,n){this.persistence=e,this.yi=new gr(r=>j$(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=OH(this,n)}static fi(e,n){return new t(e,n)}di(){}Ai(e){return P.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){let n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return P.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?P.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,J.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),P.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),P.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=_h(e.data.value)),n}Dr(e,n,r){return P.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.yi.get(n);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var j_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=le(),i=le();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var U_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var B_=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return OS()?8:F$(Ge())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ws(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Ss(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new U_;return this.bs(e,n,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,n,s,a.size)})}).next(()=>o.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(hs()<=ce.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",fs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),P.resolve()):(hs()<=ce.DEBUG&&V("QueryEngine","Query:",fs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(hs()<=ce.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",fs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mn(n))):P.resolve())}ws(e,n){if(b0(n))return P.resolve(null);let r=Mn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=a_(n,null,"F"),r=Mn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=le(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.vs(n,a);return this.Cs(n,l,s,u.readTime)?this.ws(e,a_(n,null,"F")):this.Fs(e,l,n,u)}))})))}Ss(e,n,r,i){return b0(n)||i.isEqual(J.min())?P.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(n,o);return this.Cs(n,s,r,i)?P.resolve(null):(hs()<=ce.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fs(n)),this.Fs(e,s,n,x$(i,Pc)).next(a=>a))})}vs(e,n){let r=new Ye(kR(e));return n.forEach((i,o)=>{hf(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}bs(e,n,r){return hs()<=ce.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",fs(n)),this.ys.getDocumentsMatchingQuery(e,n,zi.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var LI="LocalStore",LH=3e8,$_=class{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new xe(ie),this.Os=new gr(o=>PI(o),xI),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new R_(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}};function FH(t,e,n,r){return new $_(t,e,n,r)}function eN(t,e){return _(this,null,function*(){let n=Q(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=le();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({ks:l,removedBatchIds:s,addedBatchIds:a}))})})})}function VH(t,e){let n=Q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=P.resolve();return m.forEach(w=>{y=y.next(()=>h.getEntry(u,w)).next(R=>{let N=l.docVersions.get(w);me(N!==null,48541),R.version.compareTo(N)<0&&(p.applyToRemoteDocument(R,l),R.isValidDocument()&&(R.setReadTime(l.commitVersion),h.addEntry(R)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=le();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function tN(t){let e=Q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function jH(t,e){let n=Q(t),r=e.snapshotVersion,i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ti.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ti.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(ht.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(R,N,O){return R.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=LH?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(m,y,h)&&a.push(n.Ti.updateTargetData(o,y))});let u=mr(),l=le();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(UH(o,s,e.documentUpdates).next(h=>{u=h.qs,l=h.Qs})),!r.isEqual(J.min())){let h=n.Ti.getLastRemoteSnapshotVersion(o).next(p=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.xs=i,o))}function UH(t,e,n){let r=le(),i=le();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=mr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):V(LI,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{qs:s,Qs:i}})}function BH(t,e){let n=Q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=SI),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $H(t,e){let n=Q(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):n.Ti.allocateTargetId(r).next(s=>(i=new Vc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}function H_(t,e,n){return _(this,null,function*(){let r=Q(t),i=r.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!xs(s))throw s;V(LI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function V0(t,e,n){let r=Q(t),i=J.min(),o=le();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=Q(u),m=p.Os.get(h);return m!==void 0?P.resolve(p.xs.get(m)):p.Ti.getTargetData(l,h)}(r,s,Mn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,n?i:J.min(),n?o:le())).next(a=>(HH(r,nH(e),a),{documents:a,$s:o})))}function HH(t,e,n){let r=t.Ns.get(e)||J.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ns.set(e,r)}var Uh=class{constructor(){this.activeTargetIds=cH()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var z_=class{constructor(){this.xo=new Uh,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Uh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var q_=class{No(e){}shutdown(){}};var j0="ConnectivityMonitor",Bh=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){V(j0,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){V(j0,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var vh=null;function W_(){return vh===null?vh=function(){return 268435456+Math.round(2147483648*Math.random())}():vh++,"0x"+vh.toString(16)}var Ov="RestConnection",zH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},G_=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Ah?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,o){let s=W_(),a=this.jo(e,n.toUriEncodedString());V(Ov,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,i,o);let{host:l}=new URL(a),h=xi(l);return this.Jo(e,a,u,r,h).then(p=>(V(Ov,`Received RPC '${e}' ${s}: `,p),p),p=>{throw _s(Ov,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,n,r,i,o,s){return this.zo(e,n,r,i,o)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ms}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,n){let r=zH[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}};var K_=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var lt="WebChannelConnection",Q_=class extends G_{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){let s=W_();return new Promise((a,u)=>{let l=new Rv;l.setWithCredentials(!0),l.listenOnce(Nv.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Cc.NO_ERROR:let p=l.getResponseJson();V(lt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Cc.TIMEOUT:V(lt,`RPC '${e}' ${s} timed out`),u(new L(M.DEADLINE_EXCEEDED,"Request time out"));break;case Cc.HTTP_ERROR:let m=l.getStatus();if(V(lt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let w=y?.error;if(w&&w.status&&w.message){let R=function(O){let $=O.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf($)>=0?$:M.UNKNOWN}(w.status);u(new L(R,w.message))}else u(new L(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new L(M.UNAVAILABLE,"Connection failed."));break;default:z(9055,{l_:e,streamId:s,h_:l.getLastErrorCode(),P_:l.getLastError()})}}finally{V(lt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);V(lt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}T_(e,n,r){let i=W_(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=xv(),a=Pv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");V(lt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,y=!1,w=new K_({Zo:N=>{y?V(lt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(m||(V(lt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),V(lt,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},Xo:()=>p.close()}),R=(N,O,$)=>{N.listen(O,K=>{try{$(K)}catch(Ee){setTimeout(()=>{throw Ee},0)}})};return R(p,ds.EventType.OPEN,()=>{y||(V(lt,`RPC '${e}' stream ${i} transport opened.`),w.__())}),R(p,ds.EventType.CLOSE,()=>{y||(y=!0,V(lt,`RPC '${e}' stream ${i} transport closed`),w.u_())}),R(p,ds.EventType.ERROR,N=>{y||(y=!0,_s(lt,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),w.u_(new L(M.UNAVAILABLE,"The operation could not be completed")))}),R(p,ds.EventType.MESSAGE,N=>{var O;if(!y){let $=N.data[0];me(!!$,16349);let K=$,Ee=K?.error||((O=K[0])===null||O===void 0?void 0:O.error);if(Ee){V(lt,`RPC '${e}' stream ${i} received error:`,Ee);let ft=Ee.status,ye=function(E){let T=je[E];if(T!==void 0)return qR(T)}(ft),D=Ee.message;ye===void 0&&(ye=M.INTERNAL,D="Unknown error status: "+ft+" with message "+Ee.message),y=!0,w.u_(new L(ye,D)),p.close()}else V(lt,`RPC '${e}' stream ${i} received:`,$),w.c_($)}}),R(a,Mv.STAT_EVENT,N=>{N.stat===gh.PROXY?V(lt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===gh.NOPROXY&&V(lt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.a_()},0),w}};function Lv(){return typeof document<"u"?document:null}function ff(t){return new m_(t,!0)}var $h=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=i,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();let n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}};var U0="PersistentStream",Hh=class{constructor(e,n,r,i,o,s,a,u){this.xi=e,this.y_=r,this.w_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new $h(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}stop(){return _(this,null,function*(){this.F_()&&(yield this.close(0))})}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}B_(){return _(this,null,function*(){if(this.M_())return this.close(0)})}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}close(e,n){return _(this,null,function*(){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(hr(n.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(n)})}Q_(){}auth(){this.state=1;let e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===n&&this.K_(r,i)},r=>{e(()=>{let i=new L(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,n){let r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(()=>_(this,null,function*(){this.state=0,this.start()}))}W_(e){return V(U0,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(V(U0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Y_=class extends Hh{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();let n=wH(this.serializer,e),r=function(o){if(!("targetChange"in o))return J.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?J.min():s.readTime?xn(s.readTime):J.min()}(e);return this.listener.j_(n,r)}H_(e){let n={};n.database=I_(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=o_(u)?{documents:bH(o,u)}:{query:CH(o,u).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=WR(o,s.resumeToken);let l=y_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(J.min())>0){a.readTime=Lh(o,s.snapshotVersion.toTimestamp());let l=y_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=AH(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){let n={};n.database=I_(this.serializer),n.removeTarget=e,this.L_(n)}},Z_=class extends Hh{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return me(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,me(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){me(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();let n=DH(e.writeResults,e.commitTime),r=xn(e.commitTime);return this.listener.ea(r,n)}ta(){let e={};e.database=I_(this.serializer),this.L_(e)}Z_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>TH(this.serializer,r))};this.L_(n)}};var J_=class{},X_=class extends J_{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,v_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(M.UNKNOWN,o.toString())})}Yo(e,n,r,i,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,v_(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(M.UNKNOWN,s.toString())})}terminate(){this.na=!0,this.connection.terminate()}},eI=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(hr(n),this.oa=!1):V("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}};var Qi="RemoteStore",tI=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(s=>{r.enqueueAndForget(()=>_(this,null,function*(){Ji(this)&&(V(Qi,"Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let l=Q(u);l.Ta.add(4),yield qc(l),l.da.set("Unknown"),l.Ta.delete(4),yield pf(l)})}(this))}))}),this.da=new eI(r,i)}};function pf(t){return _(this,null,function*(){if(Ji(t))for(let e of t.Ia)yield e(!0)})}function qc(t){return _(this,null,function*(){for(let e of t.Ia)yield e(!1)})}function nN(t,e){let n=Q(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),UI(n)?jI(n):ks(n).M_()&&VI(n,e))}function FI(t,e){let n=Q(t),r=ks(n);n.Pa.delete(e),r.M_()&&rN(n,e),n.Pa.size===0&&(r.M_()?r.N_():Ji(n)&&n.da.set("Unknown"))}function VI(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ks(t).H_(e)}function rN(t,e){t.Aa.Ke(e),ks(t).J_(e)}function jI(t){t.Aa=new g_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),ks(t).start(),t.da._a()}function UI(t){return Ji(t)&&!ks(t).F_()&&t.Pa.size>0}function Ji(t){return Q(t).Ta.size===0}function iN(t){t.Aa=void 0}function qH(t){return _(this,null,function*(){t.da.set("Online")})}function WH(t){return _(this,null,function*(){t.Pa.forEach((e,n)=>{VI(t,e)})})}function GH(t,e){return _(this,null,function*(){iN(t),UI(t)?(t.da.ca(e),jI(t)):t.da.set("Unknown")})}function KH(t,e,n){return _(this,null,function*(){if(t.da.set("Online"),e instanceof kh&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Pa.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Pa.delete(a),i.Aa.removeTarget(a))})}(t,e)}catch(r){V(Qi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield zh(t,r)}else if(e instanceof ys?t.Aa.Xe(e):e instanceof xh?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(J.min()))try{let r=yield tN(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Aa.It(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Pa.get(l);h&&o.Pa.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Pa.get(u);if(!h)return;o.Pa.set(u,h.withResumeToken(ht.EMPTY_BYTE_STRING,h.snapshotVersion)),rN(o,u);let p=new Vc(h.target,u,l,h.sequenceNumber);VI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){V(Qi,"Failed to raise snapshot:",r),yield zh(t,r)}})}function zh(t,e,n){return _(this,null,function*(){if(!xs(e))throw e;t.Ta.add(1),yield qc(t),t.da.set("Offline"),n||(n=()=>tN(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){V(Qi,"Retrying IndexedDB access"),yield n(),t.Ta.delete(1),yield pf(t)}))})}function oN(t,e){return e().catch(n=>zh(t,n,e))}function gf(t){return _(this,null,function*(){let e=Q(t),n=Jr(e),r=e.ha.length>0?e.ha[e.ha.length-1].batchId:SI;for(;QH(e);)try{let i=yield BH(e.localStore,r);if(i===null){e.ha.length===0&&n.N_();break}r=i.batchId,YH(e,i)}catch(i){yield zh(e,i)}sN(e)&&aN(e)})}function QH(t){return Ji(t)&&t.ha.length<10}function YH(t,e){t.ha.push(e);let n=Jr(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function sN(t){return Ji(t)&&!Jr(t).F_()&&t.ha.length>0}function aN(t){Jr(t).start()}function ZH(t){return _(this,null,function*(){Jr(t).ta()})}function JH(t){return _(this,null,function*(){let e=Jr(t);for(let n of t.ha)e.Z_(n.mutations)})}function XH(t,e,n){return _(this,null,function*(){let r=t.ha.shift(),i=d_.from(r,e,n);yield oN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield gf(t)})}function e4(t,e){return _(this,null,function*(){e&&Jr(t).Y_&&(yield function(r,i){return _(this,null,function*(){if(function(s){return gH(s)&&s!==M.ABORTED}(i.code)){let o=r.ha.shift();Jr(r).O_(),yield oN(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield gf(r)}})}(t,e)),sN(t)&&aN(t)})}function B0(t,e){return _(this,null,function*(){let n=Q(t);n.asyncQueue.verifyOperationInProgress(),V(Qi,"RemoteStore received new credentials");let r=Ji(n);n.Ta.add(3),yield qc(n),r&&n.da.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),yield pf(n)})}function t4(t,e){return _(this,null,function*(){let n=Q(t);e?(n.Ta.delete(2),yield pf(n)):e||(n.Ta.add(2),yield qc(n),n.da.set("Unknown"))})}function ks(t){return t.Ra||(t.Ra=function(n,r,i){let o=Q(n);return o.ra(),new Y_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:qH.bind(null,t),n_:WH.bind(null,t),i_:GH.bind(null,t),j_:KH.bind(null,t)}),t.Ia.push(e=>_(null,null,function*(){e?(t.Ra.O_(),UI(t)?jI(t):t.da.set("Unknown")):(yield t.Ra.stop(),iN(t))}))),t.Ra}function Jr(t){return t.Va||(t.Va=function(n,r,i){let o=Q(n);return o.ra(),new Z_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:ZH.bind(null,t),i_:e4.bind(null,t),X_:JH.bind(null,t),ea:XH.bind(null,t)}),t.Ia.push(e=>_(null,null,function*(){e?(t.Va.O_(),yield gf(t)):(yield t.Va.stop(),t.ha.length>0&&(V(Qi,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))}))),t.Va}var nI=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function BI(t,e){if(hr("AsyncQueue",`${e}: ${t}`),xs(t))return new L(M.UNAVAILABLE,`${e}: ${t}`);throw t}var qh=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=Sc(),this.sortedSet=new xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Wh=class{constructor(){this.ma=new xe(H.comparator)}track(e){let n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):z(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){let e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}},As=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,qh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&df(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var rI=class{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}},iI=class{constructor(){this.queries=$0(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){let i=Q(n),o=i.queries;i.queries=$0(),o.forEach((s,a)=>{for(let u of a.ya)u.onError(r)})})(this,new L(M.ABORTED,"Firestore shutting down"))}};function $0(){return new gr(t=>xR(t),df)}function cN(t,e){return _(this,null,function*(){let n=Q(t),r=3,i=e.query,o=n.queries.get(i);o?!o.wa()&&e.Sa()&&(r=2):(o=new rI,r=e.Sa()?0:1);try{switch(r){case 0:o.pa=yield n.onListen(i,!0);break;case 1:o.pa=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=BI(s,`Initialization of query '${fs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.ya.push(e),e.Da(n.onlineState),o.pa&&e.va(o.pa)&&$I(n)})}function uN(t,e){return _(this,null,function*(){let n=Q(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.ya.indexOf(e);s>=0&&(o.ya.splice(s,1),o.ya.length===0?i=e.Sa()?0:1:!o.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function n4(t,e){let n=Q(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.ya)a.va(i)&&(r=!0);s.pa=i}}r&&$I(n)}function r4(t,e,n){let r=Q(t),i=r.queries.get(e);if(i)for(let o of i.ya)o.onError(n);r.queries.delete(e)}function $I(t){t.ba.forEach(e=>{e.next()})}var oI,H0;(H0=oI||(oI={})).Ca="default",H0.Cache="cache";var Gh=class{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new As(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;let r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;let n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=As.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==oI.Cache}};var Kh=class{constructor(e){this.key=e}},Qh=class{constructor(e){this.key=e}},sI=class{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=le(),this.mutatedKeys=le(),this.Ha=kR(e),this.Ja=new qh(this.Ha)}get Ya(){return this.Ga}Za(e,n){let r=n?n.Xa:new Wh,i=n?n.Ja:this.Ja,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=hf(this.query,p)?p:null,w=!!m&&this.mutatedKeys.has(m.key),R=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),N=!1;m&&y?m.data.isEqual(y.data)?w!==R&&(r.track({type:3,doc:y}),N=!0):this.eu(m,y)||(r.track({type:2,doc:y}),N=!0,(u&&this.Ha(y,u)>0||l&&this.Ha(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),N=!0):m&&!y&&(r.track({type:1,doc:m}),N=!0,(u||l)&&(a=!0)),N&&(y?(s=s.add(y),o=R?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ja:s,Xa:r,Cs:a,mutatedKeys:o}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;let s=e.Xa.ga();s.sort((h,p)=>function(y,w){let R=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z(20277,{Vt:N})}};return R(y)-R(w)}(h.type,p.type)||this.Ha(h.doc,p.doc)),this.tu(r),i=i!=null&&i;let a=n&&!i?this.nu():[],u=this.ja.size===0&&this.current&&!i?1:0,l=u!==this.za;return this.za=u,s.length!==0||l?{snapshot:new As(this.query,e.Ja,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Wh,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];let e=this.ja;this.ja=le(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});let n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new Qh(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new Kh(r))}),n}su(e){this.Ga=e.$s,this.ja=le();let n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return As.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}},HI="SyncEngine",aI=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},cI=class{constructor(e){this.key=e,this._u=!1}},uI=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.au={},this.uu=new gr(a=>xR(a),df),this.cu=new Map,this.lu=new Set,this.hu=new xe(H.comparator),this.Pu=new Map,this.Tu=new Uc,this.Iu={},this.Eu=new Map,this.du=jc.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}};function i4(t,e,n=!0){return _(this,null,function*(){let r=gN(t),i,o=r.uu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ou()):i=yield lN(r,e,n,!0),i})}function o4(t,e){return _(this,null,function*(){let n=gN(t);yield lN(n,e,!0,!1)})}function lN(t,e,n,r){return _(this,null,function*(){let i=yield $H(t.localStore,Mn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield s4(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&nN(t.remoteStore,i),a})}function s4(t,e,n,r,i){return _(this,null,function*(){t.Ru=(p,m,y)=>function(R,N,O,$){return _(this,null,function*(){let K=N.view.Za(O);K.Cs&&(K=yield V0(R.localStore,N.query,!1).then(({documents:D})=>N.view.Za(D,K)));let Ee=$&&$.targetChanges.get(N.targetId),ft=$&&$.targetMismatches.get(N.targetId)!=null,ye=N.view.applyChanges(K,R.isPrimaryClient,Ee,ft);return q0(R,N.targetId,ye.ru),ye.snapshot})}(t,p,m,y);let o=yield V0(t.localStore,e,!0),s=new sI(e,o.$s),a=s.Za(o.documents),u=Fc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);q0(t,n,l.ru);let h=new aI(e,n,s);return t.uu.set(e,h),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),l.snapshot})}function a4(t,e,n){return _(this,null,function*(){let r=Q(t),i=r.uu.get(e),o=r.cu.get(i.targetId);if(o.length>1)return r.cu.set(i.targetId,o.filter(s=>!df(s,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield H_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&FI(r.remoteStore,i.targetId),lI(r,i.targetId)}).catch(Ps))):(lI(r,i.targetId),yield H_(r.localStore,i.targetId,!0))})}function c4(t,e){return _(this,null,function*(){let n=Q(t),r=n.uu.get(e),i=n.cu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),FI(n.remoteStore,r.targetId))})}function u4(t,e,n){return _(this,null,function*(){let r=m4(t);try{let i=yield function(s,a){let u=Q(s),l=et.now(),h=a.reduce((y,w)=>y.add(w.key),le()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=mr(),R=le();return u.Bs.getEntries(y,h).next(N=>{w=N,w.forEach((O,$)=>{$.isValidDocument()||(R=R.add(O))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,w)).next(N=>{p=N;let O=[];for(let $ of a){let K=pH($,p.get($.key).overlayedDocument);K!=null&&O.push(new On($.key,K,CR(K.value.mapValue),Pn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,O,a)}).next(N=>{m=N;let O=N.applyToLocalDocumentSet(p,R);return u.documentOverlayCache.saveOverlays(y,N.batchId,O)})}).then(()=>({batchId:m.batchId,changes:LR(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Iu[s.currentUser.toKey()];l||(l=new xe(ie)),l=l.insert(a,u),s.Iu[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Wc(r,i.changes),yield gf(r.remoteStore)}catch(i){let o=BI(i,"Failed to persist write");n.reject(o)}})}function dN(t,e){return _(this,null,function*(){let n=Q(t);try{let r=yield jH(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Pu.get(o);s&&(me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s._u=!0:i.modifiedDocuments.size>0?me(s._u,14607):i.removedDocuments.size>0&&(me(s._u,42227),s._u=!1))}),yield Wc(n,r,e)}catch(r){yield Ps(r)}})}function z0(t,e,n){let r=Q(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.uu.forEach((o,s)=>{let a=s.view.Da(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=Q(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.ya)m.Da(a)&&(l=!0)}),l&&$I(u)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function l4(t,e,n){return _(this,null,function*(){let r=Q(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Pu.get(e),o=i&&i.key;if(o){let s=new xe(H.comparator);s=s.insert(o,hn.newNoDocument(o,J.min()));let a=le().add(o),u=new Ph(J.min(),new Map,new xe(ie),s,a);yield dN(r,u),r.hu=r.hu.remove(o),r.Pu.delete(e),zI(r)}else yield H_(r.localStore,e,!1).then(()=>lI(r,e,n)).catch(Ps)})}function d4(t,e){return _(this,null,function*(){let n=Q(t),r=e.batch.batchId;try{let i=yield VH(n.localStore,e);fN(n,r,null),hN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Wc(n,i)}catch(i){yield Ps(i)}})}function h4(t,e,n){return _(this,null,function*(){let r=Q(t);try{let i=yield function(s,a){let u=Q(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(me(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);fN(r,e,n),hN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Wc(r,i)}catch(i){yield Ps(i)}})}function hN(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function fN(t,e,n){let r=Q(t),i=r.Iu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function lI(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||pN(t,r)})}function pN(t,e){t.lu.delete(e.path.canonicalString());let n=t.hu.get(e);n!==null&&(FI(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),zI(t))}function q0(t,e,n){for(let r of n)r instanceof Kh?(t.Tu.addReference(r.key,e),f4(t,r)):r instanceof Qh?(V(HI,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||pN(t,r.key)):z(19791,{mu:r})}function f4(t,e){let n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(V(HI,"New document in limbo: "+n),t.lu.add(r),zI(t))}function zI(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){let e=t.lu.values().next().value;t.lu.delete(e);let n=new H(Ae.fromString(e)),r=t.du.next();t.Pu.set(r,new cI(n)),t.hu=t.hu.insert(n,r),nN(t.remoteStore,new Vc(Mn(lf(n.path)),r,"TargetPurposeLimboResolution",CI.le))}}function Wc(t,e,n){return _(this,null,function*(){let r=Q(t),i=[],o=[],s=[];r.uu.isEmpty()||(r.uu.forEach((a,u)=>{s.push(r.Ru(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=j_.Rs(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.au.j_(i),yield function(u,l){return _(this,null,function*(){let h=Q(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.ds,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.As,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!xs(p))throw p;V(LI,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.xs.get(m),w=y.snapshotVersion,R=y.withLastLimboFreeSnapshotVersion(w);h.xs=h.xs.insert(m,R)}}})}(r.localStore,o))})}function p4(t,e){return _(this,null,function*(){let n=Q(t);if(!n.currentUser.isEqual(e)){V(HI,"User change. New user:",e.toKey());let r=yield eN(n.localStore,e);n.currentUser=e,function(o,s){o.Eu.forEach(a=>{a.forEach(u=>{u.reject(new L(M.CANCELLED,s))})}),o.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Wc(n,r.ks)}})}function g4(t,e){let n=Q(t),r=n.Pu.get(e);if(r&&r._u)return le().add(r.key);{let i=le(),o=n.cu.get(e);if(!o)return i;for(let s of o){let a=n.uu.get(s);i=i.unionWith(a.view.Ya)}return i}}function gN(t){let e=Q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=g4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=l4.bind(null,e),e.au.j_=n4.bind(null,e.eventManager),e.au.Vu=r4.bind(null,e.eventManager),e}function m4(t){let e=Q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=d4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=h4.bind(null,e),e}var mN=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return _(this,null,function*(){this.serializer=ff(n.databaseInfo.databaseId),this.sharedClientState=this.pu(n),this.persistence=this.yu(n),yield this.persistence.start(),this.localStore=this.wu(n),this.gcScheduler=this.Su(n,this.localStore),this.indexBackfillerScheduler=this.bu(n,this.localStore)})}Su(n,r){return null}bu(n,r){return null}wu(n){return FH(this.persistence,new B_,n.initialUser,this.serializer)}yu(n){return new Vh(V_.fi,this.serializer)}pu(n){return new z_}terminate(){return _(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),dI=class extends mN{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){me(this.persistence.referenceDelegate instanceof jh,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new b_(r,e.asyncQueue,n)}yu(e){let n=this.cacheSizeBytes!==void 0?Wt.withCacheSize(this.cacheSizeBytes):Wt.DEFAULT;return new Vh(r=>jh.fi(r,n),this.serializer)}};var y4=(()=>{class t{initialize(n,r){return _(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>z0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=p4.bind(null,this.syncEngine),yield t4(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new iI}()}createDatastore(n){let r=ff(n.databaseInfo.databaseId),i=function(s){return new Q_(s)}(n.databaseInfo);return function(s,a,u,l){return new X_(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new tI(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>z0(this.syncEngine,r,0),function(){return Bh.C()?new Bh:new q_}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let m=new uI(o,s,a,u,l,h);return p&&(m.Au=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var n,r;yield function(o){return _(this,null,function*(){let s=Q(o);V(Qi,"RemoteStore shutting down."),s.Ta.add(5),yield qc(s),s.Ea.shutdown(),s.da.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Yh=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):hr("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Xr="FirestoreClient",hI=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qe.UNAUTHENTICATED,this.clientId=Dh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){V(Xr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(V(Xr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=BI(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Fv(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),V(Xr,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield eN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function W0(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield v4(t);V(Xr,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>B0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>B0(e.remoteStore,i)),t._onlineComponents=e})}function v4(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V(Xr,"Using user provided OfflineComponentProvider");try{yield Fv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;_s("Error using user provided cache. Falling back to memory cache: "+n),yield Fv(t,new mN)}}else V(Xr,"Using default OfflineComponentProvider"),yield Fv(t,new dI(void 0));return t._offlineComponents})}function yN(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(V(Xr,"Using user provided OnlineComponentProvider"),yield W0(t,t._uninitializedComponentsProvider._online)):(V(Xr,"Using default OnlineComponentProvider"),yield W0(t,new y4))),t._onlineComponents})}function _4(t){return yN(t).then(e=>e.syncEngine)}function fI(t){return _(this,null,function*(){let e=yield yN(t),n=e.eventManager;return n.onListen=i4.bind(null,e.syncEngine),n.onUnlisten=a4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=o4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=c4.bind(null,e.syncEngine),n})}function I4(t,e,n={}){let r=new Rn;return t.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(o,s,a,u,l){let h=new Yh({next:m=>{h.Cu(),s.enqueueAndForget(()=>uN(o,p));let y=m.docs.has(a);!y&&m.fromCache?l.reject(new L(M.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new L(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Gh(lf(a.path),h,{includeMetadataChanges:!0,La:!0});return cN(o,p)}(yield fI(t),t.asyncQueue,e,n,r)})),r.promise}function vN(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var G0=new Map;function _N(t,e,n){if(!n)throw new L(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function E4(t,e,n,r){if(e===!0&&r===!0)throw new L(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function K0(t){if(!H.isDocumentKey(t))throw new L(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Q0(t){if(H.isDocumentKey(t))throw new L(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":z(12329,{type:typeof t})}function Kt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=mf(t);throw new L(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var IN="firestore.googleapis.com",Y0=!0,Zh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IN,this.ssl=Y0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Y0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kH)throw new L(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}E4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Rs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new L(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Vv;switch(r.type){case"firstParty":return new $v(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=G0.get(n);r&&(V("ComponentProvider","Removing Datastore"),G0.delete(n),r.terminate())}(this),Promise.resolve()}};function EN(t,e,n,r={}){var i;t=Kt(t,Rs);let o=xi(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(Ud(`https://${u}`),Bd("Firestore",!0)),s.host!==IN&&s.host!==u&&_s("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!cn(l,a)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Qe.MOCK_USER;else{h=RS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new L(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Qe(m)}t._authCredentials=new jv(new wh(h,p))}}var Yi=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},dt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Kr=class t extends Yi{constructor(e,n,r){super(e,n,lf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new H(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function wN(t,e,...n){if(t=Me(t),_N("collection","path",e),t instanceof Rs){let r=Ae.fromString(e,...n);return Q0(r),new Kr(t,null,r)}{if(!(t instanceof dt||t instanceof Kr))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ae.fromString(e,...n));return Q0(r),new Kr(t.firestore,null,r)}}function qI(t,e,...n){if(t=Me(t),arguments.length===1&&(e=Dh.newId()),_N("doc","path",e),t instanceof Rs){let r=Ae.fromString(e,...n);return K0(r),new dt(t,null,new H(r))}{if(!(t instanceof dt||t instanceof Kr))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ae.fromString(e,...n));return K0(r),new dt(t.firestore,t instanceof Kr?t.converter:null,new H(r))}}var Z0="AsyncQueue",Jh=class{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new $h(this,"async_queue_retry"),this.ec=()=>{let r=Lv();r&&V(Z0,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;let n=Lv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;let n=Lv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});let n=new Rn;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}sc(){return _(this,null,function*(){if(this.zu.length!==0){try{yield this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!xs(e))throw e;V(Z0,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}})}rc(e){let n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,hr("INTERNAL UNHANDLED ERROR: ",J0(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);let i=nI.createAndSchedule(this,e,n,r,o=>this.oc(o));return this.Hu.push(i),i}nc(){this.Ju&&z(47125,{_c:J0(this.Ju)})}verifyOperationInProgress(){}ac(){return _(this,null,function*(){let e;do e=this.tc,yield e;while(e!==this.tc)})}uc(e){for(let n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){let n=this.Hu.indexOf(e);this.Hu.splice(n,1)}};function J0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function X0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Ln=class extends Rs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Jh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Jh(e),this._firestoreClient=void 0,yield e}})}};function TN(t,e){let n=typeof t=="object"?t:Oi(),r=typeof t=="string"?t:e||Ah,i=is(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=AS("firestore");o&&EN(i,...o)}return i}function WI(t){if(t._terminated)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||w4(t),t._firestoreClient}function w4(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new Gv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,vN(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new hI(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var Bc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(ht.fromBase64String(e))}catch(n){throw new L(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ns=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Zi=class{constructor(e){this._methodName=e}};var $c=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}};var Hc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var T4=/^__.*__$/,pI=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new On(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ki(e,this.data,n,this.fieldTransforms)}},Xh=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new On(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function DN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z(40011,{hc:t})}}var ef=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return nf(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(DN(this.hc)&&T4.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}},gI=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ff(e)}gc(e,n,r,i=!1){return new ef({hc:e,methodName:n,fc:r,path:Ft.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function yf(t){let e=t._freezeSettings(),n=ff(t._databaseId);return new gI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function bN(t,e,n,r,i,o={}){let s=t.gc(o.merge||o.mergeFields?2:0,e,n,i);GI("Data must be an object, but it was:",s,r);let a=CN(r,s),u,l;if(o.merge)u=new Gt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=vI(e,p,n);if(!s.contains(m))throw new L(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);AN(h,m)||h.push(m)}u=new Gt(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new pI(new Lt(a),u,l)}var tf=class t extends Zi{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function D4(t,e,n){return new ef({hc:3,fc:e.settings.fc,methodName:t._methodName,Ec:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var mI=class t extends Zi{_toFieldTransform(e){return new Mh(e.path,new Wi)}isEqual(e){return e instanceof t}},yI=class t extends Zi{constructor(e,n){super(e),this.yc=n}_toFieldTransform(e){let n=D4(this,e,!0),r=this.yc.map(o=>Os(o,n)),i=new Zr(r);return new Mh(e.path,i)}isEqual(e){return e instanceof t&&cn(this.yc,e.yc)}};function b4(t,e,n,r){let i=t.gc(1,e,n);GI("Data must be an object, but it was:",i,r);let o=[],s=Lt.empty();ei(r,(u,l)=>{let h=KI(e,u,n);l=Me(l);let p=i.Ac(h);if(l instanceof tf)o.push(h);else{let m=Os(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new Gt(o);return new Xh(s,a,i.fieldTransforms)}function C4(t,e,n,r,i,o){let s=t.gc(1,e,n),a=[vI(e,r,n)],u=[i];if(o.length%2!=0)throw new L(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(vI(e,o[m])),u.push(o[m+1]);let l=[],h=Lt.empty();for(let m=a.length-1;m>=0;--m)if(!AN(l,a[m])){let y=a[m],w=u[m];w=Me(w);let R=s.Ac(y);if(w instanceof tf)l.push(y);else{let N=Os(w,R);N!=null&&(l.push(y),h.set(y,N))}}let p=new Gt(l);return new Xh(h,p,s.fieldTransforms)}function S4(t,e,n,r=!1){return Os(n,t.gc(r?4:3,e))}function Os(t,e){if(SN(t=Me(t)))return GI("Unsupported field value:",e,t),CN(t,e);if(t instanceof Zi)return function(r,i){if(!DN(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Os(a,i.Rc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Me(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=et.fromDate(r);return{timestampValue:Lh(i.serializer,o)}}if(r instanceof et){let o=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lh(i.serializer,o)}}if(r instanceof $c)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bc)return{bytesValue:WR(i.serializer,r._byteString)};if(r instanceof dt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Vc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:OI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Hc)return function(s,a){return{mapValue:{fields:{[RI]:{stringValue:NI},[Es]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Vc("VectorValues must only contain numeric values.");return kI(a.serializer,l)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${mf(r)}`)}(t,e)}function CN(t,e){let n={};return vR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ei(t,(r,i)=>{let o=Os(i,e.Ic(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function SN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof $c||t instanceof Bc||t instanceof dt||t instanceof Zi||t instanceof Hc)}function GI(t,e,n){if(!SN(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=mf(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function vI(t,e,n){if((e=Me(e))instanceof Ns)return e._internalPath;if(typeof e=="string")return KI(t,e);throw nf("Field path arguments must be of type string or ",t,!1,void 0,n)}var A4=new RegExp("[~\\*/\\[\\]]");function KI(t,e,n){if(e.search(A4)>=0)throw nf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ns(...e.split("."))._internalPath}catch{throw nf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nf(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new L(M.INVALID_ARGUMENT,a+t+u)}function AN(t,e){return t.some(n=>n.isEqual(e))}var rf=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new _I(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(QI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},_I=class extends rf{data(){return super.data()}};function QI(t,e){return typeof e=="string"?KI(t,e):e instanceof Ns?e._internalPath:e._delegate._internalPath}function R4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var zc=class{},of=class extends zc{};function N4(t,e,...n){let r=[];e instanceof zc&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof EI).length,a=o.filter(u=>u instanceof II).length;if(s>1||s>0&&a>0)throw new L(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var II=class t extends of{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return RN(e._query,n),new Yi(e.firestore,e.converter,s_(e._query,n))}_parse(e){let n=yf(e.firestore);return function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new L(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){tR(p,h);let w=[];for(let R of p)w.push(eR(u,o,R));m={arrayValue:{values:w}}}else m=eR(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||tR(p,h),m=S4(a,s,p,h==="in"||h==="not-in");return Be.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var EI=class t extends zc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:fn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)RN(s,u),s=s_(s,u)}(e._query,n),new Yi(e.firestore,e.converter,s_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var wI=class t extends of{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new L(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new L(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qi(o,s)}(e._query,this._field,this._direction);return new Yi(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new Yr(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function M4(t,e="asc"){let n=e,r=QI("orderBy",t);return wI._create(r,n)}function eR(t,e,n){if(typeof(n=Me(n))=="string"){if(n==="")throw new L(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PR(e)&&n.indexOf("/")!==-1)throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ae.fromString(n));if(!H.isDocumentKey(r))throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _0(t,new H(r))}if(n instanceof dt)return _0(t,n._key);throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mf(n)}.`)}function tR(t,e){if(!Array.isArray(t)||t.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RN(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var TI=class{convertValue(e,n="none"){switch(Qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw z(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return ei(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Es].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ce(s.doubleValue));return new Hc(o)}convertGeoPoint(e){return new $c(Ce(e.latitude),Ce(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=uf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(kc(e));default:return null}}convertTimestamp(e){let n=fr(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ae.fromString(e);me(JR(r),9688,{name:e});let i=new Rh(r.get(1),r.get(3)),o=new H(r.popFirst(5));return i.isEqual(n)||hr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function NN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var $i=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},sf=class extends rf{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new vs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(QI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},vs=class extends sf{data(e={}){return super.data(e)}},DI=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new $i(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vs(this._firestore,this._userDataWriter,r.key,r,new $i(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new vs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $i(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new vs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $i(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:P4(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function P4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z(61501,{type:t})}}function x4(t){t=Kt(t,dt);let e=Kt(t.firestore,Ln);return I4(WI(e),t._key).then(n=>kN(e,t,n))}var af=class extends TI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,n)}};function MN(t,e,n){t=Kt(t,dt);let r=Kt(t.firestore,Ln),i=NN(t.converter,e,n);return vf(r,[bN(yf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Pn.none())])}function PN(t,e,n,...r){t=Kt(t,dt);let i=Kt(t.firestore,Ln),o=yf(i),s;return s=typeof(e=Me(e))=="string"||e instanceof Ns?C4(o,"updateDoc",t._key,e,n,r):b4(o,"updateDoc",t._key,e),vf(i,[s.toMutation(t._key,Pn.exists(!0))])}function k4(t){return vf(Kt(t.firestore,Ln),[new Lc(t._key,Pn.none())])}function xN(t,e){let n=Kt(t.firestore,Ln),r=qI(t),i=NN(t.converter,e);return vf(n,[bN(yf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Pn.exists(!1))]).then(()=>r)}function YI(t,...e){var n,r,i;t=Me(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||X0(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(X0(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof dt)l=Kt(t.firestore,Ln),h=lf(t._key.path),u={next:p=>{e[s]&&e[s](kN(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=Kt(t,Yi);l=Kt(p.firestore,Ln),h=p._query;let m=new af(l);u={next:y=>{e[s]&&e[s](new DI(l,m,p,y))},error:e[s+1],complete:e[s+2]},R4(t._query)}return function(m,y,w,R){let N=new Yh(R),O=new Gh(y,N,w);return m.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return cN(yield fI(m),O)})),()=>{N.Cu(),m.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return uN(yield fI(m),O)}))}}(WI(l),h,a,u)}function vf(t,e){return function(r,i){let o=new Rn;return r.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return u4(yield _4(r),i,o)})),o.promise}(WI(t),e)}function kN(t,e,n){let r=n.docs.get(e._key),i=new af(t);return new sf(t,i,e._key,r,new $i(n.hasPendingWrites,n.fromCache),e.converter)}function LY(){return new mI("serverTimestamp")}function FY(...t){return new yI("arrayUnion",t)}(function(e,n=!0){(function(i){Ms=i})(Ur),un(new It("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Ln(new Uv(r.getProvider("auth-internal")),new Hv(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Pe(u0,l0,e),Pe(u0,l0,"esm2017")})();var _f=function(){return _f=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_f.apply(this,arguments)};var F4={includeMetadataChanges:!1};function ZI(t,e){return e===void 0&&(e=F4),new oe(function(n){var r=YI(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function ON(t){return ZI(t,{includeMetadataChanges:!0})}function LN(t,e){return e===void 0&&(e={}),ON(t).pipe(ne(function(n){return JI(n,e)}))}function JI(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:_f(_f({},r),(n={},n[e.idField]=t.id,n))}function FN(t){return ZI(t,{includeMetadataChanges:!0}).pipe(ne(function(e){return e.docs}))}function VN(t,e){return e===void 0&&(e={}),FN(t).pipe(ne(function(n){return n.map(function(r){return JI(r,e)})}))}var Gc=class{constructor(e){return e}},jN="firestore",XI=class{constructor(){return ss(jN)}};var eE=new U("angularfire2.firestore-instances");function V4(t,e){let n=fc(jN,t,e);return n&&new Gc(n)}function j4(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Gc(r)}}var U4={provide:XI,deps:[[new Ut,eE]]},B4={provide:Gc,useFactory:V4,deps:[[new Ut,eE],ir]};function JZ(t,...e){return Pe("angularfire",Br.full,"fst"),In([B4,U4,{provide:eE,useFactory:j4(t),multi:!0,deps:[fe,ze,$r,Fi,[new Ut,bc],[new Ut,ls],...e]}])}var XZ=Ke(VN,!0);var eJ=Ke(LN,!0);var tJ=Ke(xN,!0,2);var nJ=Ke(wN,!0,2);var rJ=Ke(qI,!0,2);var iJ=Ke(TN,!0);var oJ=Ke(MN,!0,2);var sJ=Ke(PN,!0,2);var UN=class t{message=new ke(null);type=new ke(null);display=new ke(!1);alert$=ui([this.message,this.type,this.display]).pipe(ne(([e,n,r])=>({message:e??"",type:n??"success",display:r})));displayAlert(e,n){if(!e)throw new Error("Alert message cannot be empty");this.message.next(e),this.type.next(n),this.display.next(!0),setTimeout(()=>{this.display.next(!1),this.message.next(null),this.type.next(null)},3e3)}closeAlert(){this.display.next(!1),this.message.next(null),this.type.next(null)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})};export{F as a,ve as b,_ as c,Je as d,Se as e,W as f,ne as g,nP as h,rP as i,Pt as j,j as k,DT as l,B as m,ko as n,U as o,x as p,Ml as q,EW as r,wW as s,jg as t,bt as u,Ra as v,Hg as w,TW as x,DW as y,Hl as z,St as A,Db as B,jo as C,Uo as D,a1 as E,m1 as F,Bo as G,M1 as H,P1 as I,kW as J,OW as K,LW as L,FW as M,Mb as N,Pb as O,gm as P,VW as Q,xb as R,jW as S,UW as T,nL as U,kb as V,BW as W,$W as X,HW as Y,zW as Z,qW as _,WW as $,GW as aa,Wl as ba,zb as ca,Zn as da,UL as ea,BL as fa,zL as ga,WL as ha,fC as ia,cF as ja,ty as ka,nr as la,zV as ma,qV as na,JV as oa,QK as pa,YK as qa,nU as ra,FA as sa,yv as ta,GA as ua,Iv as va,Dc as wa,dY as xa,hY as ya,fY as za,pY as Aa,gY as Ba,mY as Ca,et as Da,wN as Ea,N4 as Fa,M4 as Ga,x4 as Ha,MN as Ia,k4 as Ja,LY as Ka,FY as La,Gc as Ma,JZ as Na,XZ as Oa,eJ as Pa,tJ as Qa,nJ as Ra,rJ as Sa,iJ as Ta,oJ as Ua,sJ as Va,UN as Wa};
